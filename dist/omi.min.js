/*!
 *  Omi v0.4.1 By dntzhang 
 *  Github: https://github.com/AlloyTeam/omi
 *  MIT Licensed.
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Omi=t():e.Omi=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(1),o=r(i),a=n(7),s=r(a),u=n(2),l=r(u);o.default.template=s.default.render,o.default.Component=l.default,window.Omi=o.default,e.exports=o.default},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":a(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({key:n,value:e[n]});return t}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s={};s.instances={},s._instanceId=0,s.getInstanceId=function(){return s._instanceId++},s.customTags=[],s.mapping={},s.STYLEPREFIX="omi_style_",s.STYLESCOPEDPREFIX="omi_scoped_","function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),function(){var e=Array.prototype.slice;try{e.call(document.documentElement)}catch(t){Array.prototype.slice=function(t,n){if(n="undefined"!=typeof n?n:this.length,"[object Array]"===Object.prototype.toString.call(this))return e.call(this,t,n);var r,i,o=[],a=this.length,s=t||0;s=s>=0?s:a+s;var u=n?n:a;if(n<0&&(u=a+n),i=u-s,i>0)if(o=new Array(i),this.charAt)for(r=0;r<i;r++)o[r]=this.charAt(s+r);else for(r=0;r<i;r++)o[r]=this[s+r];return o}}}();var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();s.create=function(e,t,a){var l=t,c=s.Component;return arguments.length>2&&(l=a,c=t),s[e]=function(t){function a(t,i){return n(this,a),this.___omi_constructor_name=e,r(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,t,i))}return i(a,t),u(a,o(l)),a}(c),s.customTags.push(e),s[e]},s.mixIndex=function(e,t){for(var n=e.length,r=t||"index",i=0;i<n;i++){var o=e[i];"object"===("undefined"==typeof o?"undefined":a(o))?o[r]=i:(e[i]={value:o},e[i][r]=i)}return e},s.$=function(e,t){return t?t.querySelector(e):document.querySelector(e)},s.$$=function(e,t){return t?Array.prototype.slice.call(t.querySelectorAll(e)):Array.prototype.slice.call(document.querySelectorAll(e))},s.getClassFromString=function(e){if(0!==e.indexOf(".")){for(var t=e.split("."),n=t.length,r=s[t[0]],i=1;i<n;i++)r=r[t[i]];return r}return s[e]},s.makeHTML=function(e,t){s[e]=t,s.customTags.push(e)},s.render=function(e,t,n){return e.renderTo="string"==typeof t?document.querySelector(t):t,e._omi_increment=n,e.install(),e._render(!0),e._childrenInstalled(e),e.installed(),e},s.get=function(e){return s.mapping[e]},s.plugins={},s.extendPlugin=function(e,t){s.plugins[e]=t},s.getParameters=function(e,t,n){var r={},i=function(){},o={stringType:function(e){return e},numberType:function(e){return Number(e)},booleanType:function(e){return"true"===e||"false"!==e&&Boolean(e)},functionType:function(e){if(!e)return i;var n=t[e.replace(/Omi.instances\[\d\]./,"")];return n?n.bind(t):(console.warn("You do not define [ "+e+" ] method in following component"),void console.warn(t))}};return Object.keys(n).forEach(function(t){n[t].forEach(function(n){var i=e.getAttribute(n);null!==i&&(r[n]=o[t](i))})}),r},s.mixIndexToArray=function(e,t){e.forEach(function(e,n){e[t||"index"]=n})},e.exports=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),s=r(a),u=n(3),l=r(u),c=n(4),d=r(c),f=n(5),h=r(f),p=n(6),v=r(p),m=function(){function e(t,n){i(this,e);var r=Object.prototype.toString.call(t),o="[object Object]"!==r&&"[object Undefined]"!==r;o?(this.renderTo="string"==typeof t?document.querySelector(t):t,this._hidden=this.renderTo.querySelector(".omi_scoped__hidden_data"),this.id=this._hidden.dataset.omiId,this.data=JSON.parse(this._hidden.value)):(this.data=t||{},this._omi_server_rendering=n,this.id=this._omi_server_rendering?1e6+s.default.getInstanceId():s.default.getInstanceId()),this.refs={},this.children=[],this.childrenData=[],this.HTML=null,this._addedItems=[],this._omi_order=[],s.default.instances[this.id]=this,this.dataFirst=!0,this._omi_scoped_attr=s.default.STYLESCOPEDPREFIX+this.id,this._preCSS=null,this._omiGroupDataCounter={},(this._omi_server_rendering||o)&&(this.install(),this._render(!0),this._childrenInstalled(this),this.installed())}return o(e,[{key:"install",value:function(){}},{key:"installed",value:function(){}},{key:"uninstall",value:function(){}},{key:"afterUpdate",value:function(){}},{key:"beforeUpdate",value:function(){}},{key:"render",value:function(){}},{key:"style",value:function(){}},{key:"update",value:function(){if(this.beforeUpdate(),this._childrenBeforeUpdate(this),this.renderTo)this._render();else if(this._omi_removed){var e=this._createHiddenNode();this.node.parentNode.replaceChild(e,this.node),this.node=e}else(0,h.default)(this.node,(0,d.default)(this._childRender(this._omiChildStr),this.id)),this.node=document.querySelector("["+this._omi_scoped_attr+"]"),this._queryElements(this),this._fixForm();this._renderAddedChildren(),this._childrenAfterUpdate(this),this.afterUpdate()}},{key:"_childrenBeforeUpdate",value:function(e){var t=this;e.children.forEach(function(e){e.beforeUpdate(),t._childrenBeforeUpdate(e)})}},{key:"_childrenAfterUpdate",value:function(e){var t=this;e.children.forEach(function(e){t._childrenAfterUpdate(e),e.afterUpdate()})}},{key:"setData",value:function(e,t){this.data=e,t&&this.update()}},{key:"removeChild",value:function(e){var t=e;"number"==typeof e&&(t=this.children[e]),t.remove()}},{key:"restoreChild",value:function(e){var t=e;"number"==typeof e&&(t=this.children[e]),t.restore()}},{key:"setComponentOrder",value:function(e){var t=this;e.forEach(function(e,n){t._omi_order[n]=e}),this.update()}},{key:"addComponent",value:function(e,t,n){this._addedItems.push({position:e,el:t,component:n}),this.update()}},{key:"removeComponent",value:function(e){for(var t=0,n=this._addedItems.length;t<n;t++)if(e.id===this._addedItems[t].component.id){this._addedItems.splice(t,1);break}this.update()}},{key:"remove",value:function(){this._omi_removed=!0,this.update(),this.uninstall()}},{key:"restore",value:function(){this._omi_removed=!1,this.update(),this.installed()}},{key:"_renderAddedChildren",value:function(){var e=this;this._addedItems.forEach(function(t){var n="string"==typeof t.el?e.node.querySelector(t.el):t.el;t.component.install(),t.component._render(!0),t.component.installed(),t.component._childrenInstalled(t.component),n.insertAdjacentHTML(t.position,t.component.HTML)}),this.children.forEach(function(e){e._renderAddedChildren()})}},{key:"_render",value:function(e){var t=this;if(this._omi_removed){var n=this._createHiddenNode();return void(e?this.renderTo&&this.renderTo.appendChild(n):(this.node.parentNode.replaceChild(n,this.node),this.node=n))}this._generateHTMLCSS(),this._extractChildren(this),e&&this.children.forEach(function(e,n){t._omi_order[n]=n}),this.children.forEach(function(e,n){t.HTML=t.HTML.replace(e._omiChildStr,t.children[t._omi_order[n]].HTML)}),this.HTML=(0,d.default)(this.HTML,this.id),e?this.renderTo&&(this._omi_increment?this.renderTo.insertAdjacentHTML("beforeend",this.HTML):this.renderTo.innerHTML=this.HTML):""!==this.HTML?(0,h.default)(this.node,this.HTML):(0,h.default)(this.node,this._createHiddenNode()),this.renderTo&&(this.node=document.querySelector("["+this._omi_scoped_attr+"]"),this._queryElements(this),this._fixForm())}},{key:"_childRender",value:function(e,t){var n=this;return this._omi_removed?(this.HTML='<input type="hidden" omi_scoped_'+this.id+" >",this.HTML):(this._mergeData(e),this._generateHTMLCSS(),this._extractChildren(this),t&&this.children.forEach(function(e,t){n._omi_order[t]=t}),this.children.forEach(function(e,t){n.HTML=n.HTML.replace(e._omiChildStr,n.children[n._omi_order[t]].HTML)}),this.HTML=(0,d.default)(this.HTML,this.id),this.HTML)}},{key:"_queryElements",value:function(e){e._mixRefs(),e._execPlugins(),e.children.forEach(function(t){t.node=e.node.querySelector("["+s.default.STYLESCOPEDPREFIX+t.id+"]"),e._queryElements(t)})}},{key:"_mixRefs",value:function(){var e=this,t=s.default.$$("*[ref]",this.node);t.forEach(function(t){t.hasAttribute(e._omi_scoped_attr)&&(e.refs[t.getAttribute("ref")]=t)});var n=this.node.getAttribute("ref");n&&(this.refs[n]=this.node)}},{key:"_execPlugins",value:function(){var e=this;Object.keys(s.default.plugins).forEach(function(t){var n=s.default.$$("*["+t+"]",e.node);n.forEach(function(n){n.hasAttribute(e._omi_scoped_attr)&&s.default.plugins[t](n,e)}),e.node.hasAttribute(t)&&s.default.plugins[t](e.node,e)})}},{key:"_childrenInstalled",value:function(e){var t=this;e.children.forEach(function(e){t._childrenInstalled(e),e.installed()})}},{key:"_fixForm",value:function(){s.default.$$("input",this.node).forEach(function(e){var t=e.type.toLowerCase();""===e.getAttribute("value")&&(e.value=""),"checked"!==t&&"radio"!==t||(e.hasAttribute("checked")?e.checked="checked":e.checked=!1)}),s.default.$$("textarea",this.node).forEach(function(e){e.value=e.getAttribute("value")}),s.default.$$("select",this.node).forEach(function(e){var t=e.getAttribute("value");if(t)s.default.$$("option",e).forEach(function(e){t===e.getAttribute("value")&&e.setAttribute("selected","selected")});else{var n=s.default.$$("option",e)[0];n&&n.setAttribute("selected","selected")}})}},{key:"_replaceTags",value:function(e,t){var n=e.join("|"),r=new RegExp("<("+n+"+)((?:\\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?)*)\\s*(\\/?)>","g");return t.replace(r,function(e,t){var n=e.length-2;return n>=0&&e.lastIndexOf("/>")===e.length-2?e.replace("<"+t,'<child tag="'+t+'"').substr(0,e.length+10)+"></child>":e.lastIndexOf(">")===e.length-1?e.replace("<"+t,'<child tag="'+t+'"')+"</child>":void 0})}},{key:"_createHiddenNode",value:function(){var e=document.createElement("input");return e.setAttribute("type","hidden"),e.setAttribute(this._omi_scoped_attr,""),e}},{key:"_mergeData",value:function(e){this.dataFirst?this.data=Object.assign({},this._getDataset(e),this.data):this.data=Object.assign({},this.data,this._getDataset(e))}},{key:"_generateHTMLCSS",value:function(){this.CSS=this.style()||"",this.CSS&&(this.CSS=l.default.scoper(this.CSS,"["+this._omi_scoped_attr+"]"),this.CSS===this._preCSS||this._omi_server_rendering||(l.default.addStyle(this.CSS,this.id),this._preCSS=this.CSS));var e=this.render();this.HTML=this._scopedAttr(s.default.template(e?e:"",this.data),this._omi_scoped_attr).trim(),this._omi_server_rendering&&(this.HTML='\r\n<style id="'+s.default.STYLEPREFIX+this.id+'">\r\n'+this.CSS+"\r\n</style>\r\n"+this.HTML,this.HTML+='\r\n<input type="hidden" data-omi-id="'+this.id+'" class="'+s.default.STYLESCOPEDPREFIX+"_hidden_data\" value='"+JSON.stringify(this.data)+"'  />\r\n")}},{key:"_scopedAttr",value:function(e,t){return e.replace(/<[^\/]([A-Za-z]*)[^>]*>/g,function(e){var n=e.split(" ")[0].replace(">","");return e.replace(n,n+" "+t)})}},{key:"_getDataset",value:function(e){var t=this,n=(0,v.default)(e),r=n.child[0].attr;return Object.keys(r).forEach(function(e){0===e.indexOf("data-")&&(t._dataset[t._capitalize(e.replace("data-",""))]=r[e])}),this._dataset}},{key:"_capitalize",value:function(e){return e=e.toLowerCase(),e=e.replace(/\b\w+\b/g,function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}).replace(/-/g,""),e.substring(0,1).toLowerCase()+e.substring(1)}},{key:"_extractPropertyFromString",value:function(e,t){var n=e.replace(/['|"|\]]/g,"").replace(/\[/g,".").split("."),r=t;return n.forEach(function(e){r=r[e]}),n=null,r}},{key:"_extractChildren",value:function(e){var t=this;s.default.customTags.length>0&&(e.HTML=this._replaceTags(s.default.customTags,e.HTML));var n=e.HTML.match(/<child[^>][\s\S]*?tag=['|"](\S*)['|"][\s\S]*?><\/child>/g);n&&n.forEach(function(n,r){var i=(0,v.default)(n),o=i.child[0].attr,a=o.tag;delete o.tag;var u=t.children[r];u&&u.___omi_constructor_name===a?u._childRender(n):!function(){var i={},l={},c={},d={},f=null,h=null;Object.keys(o).forEach(function(n){var r=o[n];if(0===n.indexOf("on")){var a=e[r];a&&(i[n]=a.bind(e))}else"omi-id"===n?f=r:"name"===n?h=r:"group-data"===n?(e._omiGroupDataCounter.hasOwnProperty(r)?e._omiGroupDataCounter[r]++:e._omiGroupDataCounter[r]=0,d=t._extractPropertyFromString(r,e)[e._omiGroupDataCounter[r]]):0===n.indexOf("data-")?l[t._capitalize(n.replace("data-",""))]=r:"data"===n&&(c=t._extractPropertyFromString(r,e))});var p=s.default.getClassFromString(a);if(!p)throw"Can't find Class called ["+a+"]";var v=new p(Object.assign(i,e.childrenData[r],l,c,d),!1);v._omiChildStr=n,v.parent=e,v.___omi_constructor_name=a,v._dataset={},v.install(),f&&(s.default.mapping[f]=v),h&&(e[h]=v),u?e.children[r]=v:e.children.push(v),v._childRender(n,!0)}()})}}]),e}();t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=new RegExp("([^\r\n,{}]+)(,(?=[^}]*{)|s*{)","g");return e=e.replace(n,function(e,n,r){return n.match(/^\s*(@media|@keyframes|to|from|@font-face)/)?n+r:(n.match(/:scope/)&&(n=n.replace(/([^\s]*):scope/,function(e,t){return""===t?"> *":"> "+t})),n=n.replace(/^(\s*)/,n.trim()+t+",$1"+t+" ").replace(/\s+/g," "),n+r)})}function o(e,t){var n=document.getElementById(s.default.STYLEPREFIX+t),r=document.getElementsByTagName("head")[0];n&&n.parentNode===r&&r.removeChild(n);var i=document.createElement("style");r.appendChild(i),i.setAttribute("type","text/css"),i.setAttribute("id",s.default.STYLEPREFIX+t),window.ActiveXObject?i.styleSheet.cssText=e:i.textContent=e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a);t.default={scoper:i,addStyle:o}},function(e,t){"use strict";function n(e,t){return e.replace(/<[\s\S]*?>/g,function(e){return e.replace(/on(abort|blur|cancel|canplay|canplaythrough|change|click|close|contextmenu|cuechange|dblclick|drag|dragend|dragenter|dragleave|dragover|dragstart|drop|durationchange|emptied|ended|error|focus|input|invalid|keydown|keypress|keyup|load|loadeddata|loadedmetadata|loadstart|mousedown|mouseenter|mouseleave|mousemove|mouseout|mouseover|mouseup|mousewheel|pause|play|playing|progress|ratechange|reset|resize|scroll|seeked|seeking|select|show|stalled|submit|suspend|timeupdate|toggle|volumechange|waiting|autocomplete|autocompleteerror|beforecopy|beforecut|beforepaste|copy|cut|paste|search|selectstart|wheel|webkitfullscreenchange|webkitfullscreenerror|touchstart|touchmove|touchend|touchcancel|pointerdown|pointerup|pointercancel|pointermove|pointerover|pointerout|pointerenter|pointerleave|Abort|Blur|Cancel|CanPlay|CanPlayThrough|Change|Click|Close|ContextMenu|CueChange|DblClick|Drag|DragEnd|DragEnter|DragLeave|DragOver|DragStart|Drop|DurationChange|Emptied|Ended|Error|Focus|Input|Invalid|KeyDown|KeyPress|KeyUp|Load|LoadedData|LoadedMetadata|LoadStart|MouseDown|MouseEnter|MouseLeave|MouseMove|MouseOut|MouseOver|MouseUp|MouseWheel|Pause|Play|Playing|Progress|RateChange|Reset|Resize|Scroll|Seeked|Seeking|Select|Show|Stalled|Submit|Suspend|TimeUpdate|Toggle|VolumeChange|Waiting|AutoComplete|AutoCompleteError|BeforeCopy|BeforeCut|BeforePaste|Copy|Cut|Paste|Search|SelectStart|Wheel|WebkitFullScreenChange|WebkitFullScreenError|TouchStart|TouchMove|TouchEnd|TouchCancel|PointerDown|PointerUp|PointerCancel|PointerMove|PointerOver|PointerOut|PointerEnter|PointerLeave)=('|")([\s\S]*?)\([\s\S]*?\)/g,function(e,n,r,i){return 0===i.indexOf("Omi.instances[")?e:e.replace(/=(['|"])/,"=$1Omi.instances["+t+"].")})})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var r,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a,s){"object"===o(t)&&"undefined"!=typeof e?e.exports=s():(r=s,i="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==i&&(e.exports=i)))}(void 0,function(){"use strict";function e(e){!l&&f.createRange&&(l=f.createRange(),l.selectNode(f.body));var t;return l&&l.createContextualFragment?t=l.createContextualFragment(e):(t=f.createElement("body"),t.innerHTML=e),t.childNodes[0]}function t(e,t){var n=e.nodeName,r=t.nodeName;return n===r||!!(t.actualize&&n.charCodeAt(0)<91&&r.charCodeAt(0)>90)&&n===r.toUpperCase()}function n(e,t){return t&&t!==d?f.createElementNS(t,e):f.createElement(e)}function r(e,t){for(var n=e.firstChild;n;){var r=n.nextSibling;t.appendChild(n),n=r}return t}function i(e,t){var n,r,i,o,a,s,u=t.attributes;for(n=u.length-1;n>=0;--n)r=u[n],i=r.name,o=r.namespaceURI,a=r.value,o?(i=r.localName||i,s=e.getAttributeNS(o,i),s!==a&&e.setAttributeNS(o,i,a)):(s=e.getAttribute(i),s!==a&&e.setAttribute(i,a));for(u=e.attributes,n=u.length-1;n>=0;--n)r=u[n],r.specified!==!1&&(i=r.name,o=r.namespaceURI,o?(i=r.localName||i,p(t,o,i)||e.removeAttributeNS(o,i)):p(t,null,i)||e.removeAttribute(i))}function o(e,t,n){e[n]!==t[n]&&(e[n]=t[n],e[n]?e.setAttribute(n,""):e.removeAttribute(n,""))}function a(){}function s(e){return e.id}function u(i){return function(o,u,l){function c(e){C?C.push(e):C=[e]}function d(e,t){if(e.nodeType===m)for(var n=e.firstChild;n;){var r=void 0;t&&(r=T(n))?c(r):(O(n),n.firstChild&&d(n,t)),n=n.nextSibling}}function h(e,t,n){A(e)!==!1&&(t&&t.removeChild(e),O(e),d(e,n))}function p(e){if(e.nodeType===m)for(var t=e.firstChild;t;){var n=T(t);n&&(P[n]=t),p(t),t=t.nextSibling}}function _(e){w(e);for(var n=e.firstChild;n;){var r=n.nextSibling,i=T(n);if(i){var o=P[i];o&&t(n,o)&&(n.parentNode.replaceChild(o,n),b(o,n))}_(n),n=r}}function b(e,n,r){var a,s=T(n);if(s&&delete P[s],!u.isSameNode||!u.isSameNode(o)){if(!r){if(k(e,n)===!1)return;if(i(e,n),x(e),L(e,n)===!1)return}if("TEXTAREA"!==e.nodeName){var l,d,p,S,C=n.firstChild,w=e.firstChild;e:for(;C;){for(p=C.nextSibling,l=T(C);w;){if(d=w.nextSibling,C.isSameNode&&C.isSameNode(w)){C=p,w=d;continue e}a=T(w);var A=w.nodeType,O=void 0;if(A===C.nodeType&&(A===m?(l?l!==a&&((S=P[l])?w.nextSibling===S?O=!1:(e.insertBefore(S,w),d=w.nextSibling,a?c(a):h(w,e,!0),w=S):O=!1):a&&(O=!1),O=O!==!1&&t(w,C),O&&b(w,C)):A!==y&&A!=g||(O=!0,w.nodeValue=C.nodeValue)),O){C=p,w=d;continue e}a?c(a):h(w,e,!0),w=d}if(l&&(S=P[l])&&t(S,C))e.appendChild(S),b(S,C);else{var M=E(C);M!==!1&&(M&&(C=M),C.actualize&&(C=C.actualize(e.ownerDocument||f)),e.appendChild(C),_(C))}C=p,w=d}for(;w;)d=w.nextSibling,(a=T(w))?c(a):h(w,e,!0),w=d}var N=v[e.nodeName];N&&N(e,n)}}if(l||(l={}),"string"==typeof u)if("#document"===o.nodeName||"HTML"===o.nodeName){var S=u;u=f.createElement("html"),u.innerHTML=S}else u=e(u);var C,T=l.getNodeKey||s,E=l.onBeforeNodeAdded||a,w=l.onNodeAdded||a,k=l.onBeforeElUpdated||a,x=l.onElUpdated||a,A=l.onBeforeNodeDiscarded||a,O=l.onNodeDiscarded||a,L=l.onBeforeElChildrenUpdated||a,M=l.childrenOnly===!0,P={};p(o);var N=o,I=N.nodeType,j=u.nodeType;if(!M)if(I===m)j===m?t(o,u)||(O(o),N=r(o,n(u.nodeName,u.namespaceURI))):N=u;else if(I===y||I===g){if(j===I)return N.nodeValue=u.nodeValue,N;N=u}if(N===u)O(o);else if(b(N,u,M),C)for(var H=0,U=C.length;H<U;H++){var D=P[C[H]];D&&h(D,D.parentNode,!1)}return!M&&N!==o&&o.parentNode&&(N.actualize&&(N=N.actualize(o.ownerDocument||f)),o.parentNode.replaceChild(N,o)),N}}var l,c,d="http://www.w3.org/1999/xhtml",f="undefined"==typeof document?void 0:document,h=f?f.body||f.createElement("div"):{};c=h.hasAttributeNS?function(e,t,n){return e.hasAttributeNS(t,n)}:h.hasAttribute?function(e,t,n){return e.hasAttribute(n)}:function(e,t,n){return null!=e.getAttributeNode(t,n)};var p=c,v={OPTION:function(e,t){o(e,t,"selected")},INPUT:function(e,t){o(e,t,"checked"),o(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),p(t,null,"value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var n=t.value;if(e.value!==n&&(e.value=n),e.firstChild){if(""===n&&e.firstChild.nodeValue===e.placeholder)return;e.firstChild.nodeValue=n}},SELECT:function(e,t){if(!p(t,null,"multiple")){for(var n=-1,r=0,i=t.firstChild;i;){var o=i.nodeName;if(o&&"OPTION"===o.toUpperCase()){if(p(i,null,"selected")){n=r;break}r++}i=i.nextSibling}e.selectedIndex=r}}},m=1,y=3,g=8,_=u(i);return _})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=/^<([-A-Za-z0-9_]+)((?:\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,r=/^<\/([-A-Za-z0-9_]+)[^>]*>/,i=/([a-zA-Z_:][-a-zA-Z0-9_:.]*)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,o=function(e,t){function o(e,n,r,o){if(n=n.toLowerCase(),o=!!o,o||c.push(n),t.start){var a=[];r.replace(i,function(e,t){var n=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:"";a.push({name:t,value:n,escaped:n.replace(/(^|[^\\])"/g,'$1\\"')})}),t.start&&t.start(n,a,o)}}function a(e,n){if(n)for(var r=c.length-1;r>=0&&c[r]!=n;r--);else var r=0;if(r>=0){for(var i=c.length-1;i>=r;i--)t.end&&t.end(c[i]);c.length=r}}var s,u,l,c=[],d=e;for(c.last=function(){return this[this.length-1]};e;){if(u=!0,c.last())e=e.replace(new RegExp("([\\s\\S]*?)</"+c.last()+"[^>]*>"),function(e,n){return t.chars&&t.chars(n),""}),a("",c.last());else if(0==e.indexOf("</")?(l=e.match(r),l&&(e=e.substring(l[0].length),l[0].replace(r,a),u=!1)):0==e.indexOf("<")&&(l=e.match(n),l&&(e=e.substring(l[0].length),l[0].replace(n,o),u=!1)),u){s=e.indexOf("<");var f=s<0?e:e.substring(0,s);e=s<0?"":e.substring(s),t.chars&&t.chars(f)}if(e==d)throw"Parse Error: "+e;d=e}a()},a=!1,s=a?console.log.bind(console):function(){};Array.prototype.reduce||(Array.prototype.reduce=function(e){if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var t,n=Object(this),r=n.length>>>0,i=0;if(2==arguments.length)t=arguments[1];else{for(;i<r&&!(i in n);)i++;if(i>=r)throw new TypeError("Reduce of empty array with no initial value");t=n[i++]}for(;i<r;i++)i in n&&(t=e(t,n[i],i,n));return t});var u=function(e){var t=[],n={node:"root",child:[]};return o(e,{start:function(e,r,i){s(e,r,i);var o={node:"element",tag:e};if(0!==r.length&&(o.attr=r.reduce(function(e,t){var n=t.name,r=t.value;return e[n]=r,e},{})),i){var a=t[0]||n;void 0===a.child&&(a.child=[]),a.child.push(o)}else t.unshift(o)},end:function(e){s(e);var r=t.shift();if(r.tag!==e&&console.error("invalid state: mismatch end tag"),0===t.length)n.child.push(r);else{var i=t[0];void 0===i.child&&(i.child=[]),i.child.push(r)}},chars:function(e){s(e);var r={node:"text",text:e};if(0===t.length)n.child.push(r);else{var i=t[0];void 0===i.child&&(i.child=[]),i.child.push(r)}}}),n};t.default=u},function(e,t,n){var r,i,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};/*!
	 * mustache.js - Logic-less {{mustache}} templates with JavaScript
	 * http://github.com/janl/mustache.js
	 */
!function(n,s){"object"===a(t)&&t&&"string"!=typeof t.nodeName?s(t):(i=[t],r=s,o="function"==typeof r?r.apply(t,i):r,!(void 0!==o&&(e.exports=o)))}(void 0,function(e){function t(e){return"function"==typeof e}function n(e){return m(e)?"array":"undefined"==typeof e?"undefined":a(e)}function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(e,t){return null!=e&&"object"===("undefined"==typeof e?"undefined":a(e))&&t in e}function o(e,t){return y.call(e,t)}function s(e){return!o(g,e)}function u(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return _[e]})}function l(t,n){function i(){if(y&&!g)for(;v.length;)delete p[v.pop()];else v=[];y=!1,g=!1}function o(e){if("string"==typeof e&&(e=e.split(S,2)),!m(e)||2!==e.length)throw new Error("Invalid tags: "+e);a=new RegExp(r(e[0])+"\\s*"),u=new RegExp("\\s*"+r(e[1])),l=new RegExp("\\s*"+r("}"+e[1]))}if(!t)return[];var a,u,l,h=[],p=[],v=[],y=!1,g=!1;o(n||e.tags);for(var _,w,k,x,A,O,L=new f(t);!L.eos();){if(_=L.pos,k=L.scanUntil(a))for(var M=0,P=k.length;M<P;++M)x=k.charAt(M),s(x)?v.push(p.length):g=!0,p.push(["text",x,_,_+1]),_+=1,"\n"===x&&i();if(!L.scan(a))break;if(y=!0,w=L.scan(E)||"name",L.scan(b),"="===w?(k=L.scanUntil(C),L.scan(C),L.scanUntil(u)):"{"===w?(k=L.scanUntil(l),L.scan(T),L.scanUntil(u),w="&"):k=L.scanUntil(u),!L.scan(u))throw new Error("Unclosed tag at "+L.pos);if(A=[w,k,_,L.pos],p.push(A),"#"===w||"^"===w)h.push(A);else if("/"===w){if(O=h.pop(),!O)throw new Error('Unopened section "'+k+'" at '+_);if(O[1]!==k)throw new Error('Unclosed section "'+O[1]+'" at '+_)}else"name"===w||"{"===w||"&"===w?g=!0:"="===w&&o(k)}if(O=h.pop())throw new Error('Unclosed section "'+O[1]+'" at '+L.pos);return d(c(p))}function c(e){for(var t,n,r=[],i=0,o=e.length;i<o;++i)t=e[i],t&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}function d(e){for(var t,n,r=[],i=r,o=[],a=0,s=e.length;a<s;++a)switch(t=e[a],t[0]){case"#":case"^":i.push(t),o.push(t),i=t[4]=[];break;case"/":n=o.pop(),n[5]=t[2],i=o.length>0?o[o.length-1][4]:r;break;default:i.push(t)}return r}function f(e){this.string=e,this.tail=e,this.pos=0}function h(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function p(){this.cache={}}var v=Object.prototype.toString,m=Array.isArray||function(e){return"[object Array]"===v.call(e)},y=RegExp.prototype.test,g=/\S/,_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},b=/\s*/,S=/\s+/,C=/\s*=/,T=/\s*\}/,E=/#|\^|\/|>|\{|&|=|!/;f.prototype.eos=function(){return""===this.tail},f.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},f.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},h.prototype.push=function(e){return new h(e,this)},h.prototype.lookup=function(e){var n,r=this.cache;if(r.hasOwnProperty(e))n=r[e];else{for(var o,a,s=this,u=!1;s;){if(e.indexOf(".")>0)for(n=s.view,o=e.split("."),a=0;null!=n&&a<o.length;)a===o.length-1&&(u=i(n,o[a])),n=n[o[a++]];else n=s.view[e],u=i(s.view,e);if(u)break;s=s.parent}r[e]=n}return t(n)&&(n=n.call(this.view)),n},p.prototype.clearCache=function(){this.cache={}},p.prototype.parse=function(e,t){var n=this.cache,r=n[e];return null==r&&(r=n[e]=l(e,t)),r},p.prototype.render=function(e,t,n){var r=this.parse(e),i=t instanceof h?t:new h(t);return this.renderTokens(r,i,n,e)},p.prototype.renderTokens=function(e,t,n,r){for(var i,o,a,s="",u=0,l=e.length;u<l;++u)a=void 0,i=e[u],o=i[0],"#"===o?a=this.renderSection(i,t,n,r):"^"===o?a=this.renderInverted(i,t,n,r):">"===o?a=this.renderPartial(i,t,n,r):"&"===o?a=this.unescapedValue(i,t):"name"===o?a=this.escapedValue(i,t):"text"===o&&(a=this.rawValue(i)),void 0!==a&&(s+=a);return s},p.prototype.renderSection=function(e,n,r,i){function o(e){return s.render(e,n,r)}var s=this,u="",l=n.lookup(e[1]);if(l){if(m(l))for(var c=0,d=l.length;c<d;++c)u+=this.renderTokens(e[4],n.push(l[c]),r,i);else if("object"===("undefined"==typeof l?"undefined":a(l))||"string"==typeof l||"number"==typeof l)u+=this.renderTokens(e[4],n.push(l),r,i);else if(t(l)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");l=l.call(n.view,i.slice(e[3],e[5]),o),null!=l&&(u+=l)}else u+=this.renderTokens(e[4],n,r,i);return u}},p.prototype.renderInverted=function(e,t,n,r){var i=t.lookup(e[1]);if(!i||m(i)&&0===i.length)return this.renderTokens(e[4],t,n,r)},p.prototype.renderPartial=function(e,n,r){if(r){var i=t(r)?r(e[1]):r[e[1]];return null!=i?this.renderTokens(this.parse(i),n,r,i):void 0}},p.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},p.prototype.escapedValue=function(t,n){var r=n.lookup(t[1]);if(null!=r)return e.escape(r)},p.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.3.0",e.tags=["{{","}}"];var w=new p;return e.clearCache=function(){return w.clearCache()},e.parse=function(e,t){return w.parse(e,t)},e.render=function(e,t,r){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+n(e)+'" was given as the first argument for mustache#render(template, view, partials)');return w.render(e,t,r)},e.to_html=function(n,r,i,o){var a=e.render(n,r,i);return t(o)?void o(a):a},e.escape=u,e.Scanner=f,e.Context=h,e.Writer=p,e})}])});