/* Nuclear  v0.5.3
 * By AlloyTeam http://www.alloyteam.com/
 * Github: https://github.com/AlloyTeam/Nuclear
 * MIT Licensed.
 */
!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("Nuclear requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){var n={},r=e.document;return function(){"use strict";function e(e,n){c(e&&e.nodeType,"You must provide a valid node to update."),e.nodeType===h&&(e=e.documentElement),"string"==typeof n&&(e===r.documentElement?(d.innerHTML=n,n=d):(p.innerHTML=n,n=p.firstChild)),t(e,n)}function t(e,t){if(e.nodeType===u)if(o(e,e.childNodes,t.childNodes),e.nodeName===t.nodeName)i(e,e.attributes,t.attributes);else{for(var n=t.cloneNode();e.firstChild;)n.appendChild(e.firstChild);e.parentNode.replaceChild(n,e)}else e.nodeType===t.nodeType?e.nodeValue=t.nodeValue:e.parentNode.replaceChild(t,e)}function i(e,t,n){var r,i,o,a;for(r=t.length;r--;)i=t[r],a=i.namespaceURI,o=n.getNamedItemNS(a,i.name),o||t.removeNamedItemNS(a,i.name);for(r=n.length;r--;)i=n[r],a=i.namespaceURI,o=t.getNamedItemNS(a,i.name),o?o.value!==i.value&&(o.value=i.value):(n.removeNamedItemNS(a,i.name),t.setNamedItemNS(i))}function o(e,n,r){var i,o,s,c,u,h=a(n),d=a(r);for(i in h)d[i]||e.removeChild(h[i]);for(i in d)if(o=h[i],s=d[i],o){if(t(o,s),c=o[l],u=s[l],c===u)continue;if(n[u]===o)continue;e.insertBefore(o,n[u])}else e.appendChild(s)}function a(e){for(var t,n={},r=e.length;r--;)t=e[r],t[l]=r,n[s(t)||r]=t;return n}function s(e){if(e.nodeType===u)return e.getAttribute("data-key")||e.id}function c(e,t){if(!e)throw new Error("set-dom: "+t)}var l="__set-dom-index__",u=1,h=9,d=r.createElement("html"),p=r.createElement("body");n.setDOM=e}(),n.create=function(e,t){e._nuclearSetting=t||{},n._mixObj(e);var r=this===n?n.Class:this,i=r.extend(e);return i.create=n.create,i},n._mixObj=function(t){t.ctor=function(t,i,o){this._nuclearDiffDom=!0,this._nuclearIncrement=o,this._nuclearServerRender=this._nuclearSetting.server,this._nuclearSetting.diff===!1&&(this._nuclearDiffDom=!1),this._nuclearReRender="string"==typeof t,this._nuclearReRender?(this.parentNode=r.querySelector(t),this._ncInstanceId=this.parentNode.querySelector("div").getAttribute("data-nuclearId"),this._nuclearOption=JSON.parse(this.parentNode.querySelector("input[name=__nuclear_option_"+this._ncInstanceId+"]").value)):this._nuclearServerRender?(this._ncInstanceId=n.getServerInstanceId(),this._nuclearOption=t):(this._ncInstanceId=n.getInstanceId(),this._nuclearOption=t),n.ie<9&&(this._nuclearDiffDom=!1),e.Nuclear.instances[this._ncInstanceId]=this,this._nuclearParentEmpty=!i,this.HTML="",this.option=this._nuclearOption,this.option["@item"]=function(){return JSON.stringify(this)},this._nuclearReRender||(this._nuclearParentEmpty?this.parentNode=r.createElement("div"):this.parentNode="string"==typeof i?r.querySelector(i):i),this.install&&this.install(),this._nuclearRef=[],this._isNuclearComponent=!0;for(var a in this)this.hasOwnProperty(a)&&this[a]&&this[a]._isNuclearComponent&&(this[a].nuclearParent=this,this._nuclearRef.push(this[a]));var s=this._nuclearTplGenerator();this._nuclearFixNestingChild(this,s),this._nuclearTimer=null,this._preNuclearTime=new Date,this._nuclearRenderInfo={data:this.option,parent:this.parentNode},this._nuclearRender(s),this.installed&&arguments.length>1&&this.installed()},t._nuclearFixNestingChild=function(e,t){e._ncChildrenMapping=[];var n=t||e._nuclearTplGenerator();if(n){var r=n.match(/<child[^>][\s\S]*?nc-constructor=['|"](\S*)['|"][\s\S]*?>[\s\S]*?<\/child>/g);if(r){var i=r.length;e.children=[];for(var o=0;o<i;o++){var a=r[o];a.match(/nc-constructor=['|"](\S*)['|"]/g);var s=e._getClassFromString(RegExp.$1);if(!e.childrenOptions)throw"you must define the [childrenOptions] property in the parent node's install function to init the child ["+RegExp.$1+"]";if(!s)throw"Can't find Class called ["+RegExp.$1+"]";var c=new s(e.childrenOptions[o]||{});e.children.push(c),a.match(/nc-name=['|"](\S*)['|"]/g),RegExp.$1&&(e[RegExp.$1]=c),c.nuclearParent=e,e._ncChildrenMapping.push({tpl:a,child:c}),e._nuclearRef.push(c)}}}},t._getClassFromString=function(t){if(0!==t.indexOf(".")){var n=t.split("."),r=1,i=n.length;for(current=e[n[0]];r<i;r++)current=current[n[r]];return current}return e[t]},t.update=function(){this._nuclearRender()},t.setNuclearContainer=function(e){this.parentNode="string"==typeof e?r.querySelector(e):e,this._nuclearRenderInfo.parent=this.parentNode,this._nuclearIncrement?this.parentNode.insertAdjacentHTML("beforeend",this.HTML):this.parentNode.innerHTML=this.HTML,this.node=this.parentNode.lastChild,this._mixNode()},t.render&&(t._nuclearTplGenerator=t.render),t.render=function(){return this._nuclearParentEmpty?this._nuclearFixNesting(this.HTML):this._nuclearTplGenerator()},t._nuclearFixNesting=function(e){var t=this._ncChildrenMapping.length;if(t>0)for(var n=0;n<t;n++)this._ncChildrenMapping[n].child._nuclearRender(),e=e.replace(this._ncChildrenMapping[n].tpl,this._ncChildrenMapping[n].child.HTML);return e},t._nuclearRender=function(e){var t=this._nuclearRenderInfo;if(t.tpl=e||this._nuclearTplGenerator(),t.tpl=this._nuclearFixNesting(t.tpl),this.style){var i=r.getElementById("nuclear_style_"+this._ncInstanceId);i&&i.parentNode===r.getElementsByTagName("head")[0]&&r.getElementsByTagName("head")[0].removeChild(i),n.addStyle(this.style(),"nuclear_style_"+this._ncInstanceId)}if(this.node)if(n.isUndefined(t.tpl))t.parent.removeChild(this.node),this.node=null,this.HTML="";else if(this._nuclearDiffDom)n.setDOM(this.node,this._nulcearGenerateHTML(t));else{var o=n.str2Dom(this._nulcearGenerateHTML(t));t.parent.replaceChild(o,this.node),this.node=o}else n.isUndefined(t.tpl)||(this._nuclearIncrement?t.parent.insertAdjacentHTML("beforeend",this._nulcearGenerateHTML(t)):t.parent.innerHTML=this._nulcearGenerateHTML(t),this.node=t.parent.lastChild);this.node&&(this.node.setAttribute("data-nuclearId",this._ncInstanceId),this._mixNode(),this.HTML=this.node.outerHTML,this._nuclearFix(),this.onRefresh&&this.onRefresh(),this._nuclearServerRender||this._nuclearFixForm())},t._nuclearFixForm=function(){for(var e=this.node.querySelectorAll("input"),t=0,n=e.length;t<n;t++){var r=e[t],i=r.type.toLowerCase();""===r.getAttribute("value")&&(r.value=""),"checked"!==i&&"radio"!==i||(r.hasAttribute("checked")?r.checked="checked":r.checked=!1)}},t._mixNode=function(){var e=this.node.querySelectorAll("*[nc-id]"),t=e.length;if(t>0)for(var n=0;n<t;n++){var r=e[n];this[r.getAttribute("nc-id")]=r}var i=this.node.querySelectorAll("*[nc-class]"),o=i.length;if(o>0){for(var a=0;a<o;a++){var s=i[a],c=s.getAttribute("nc-class");this[c]=[]}for(a=0;a<o;a++){var s=i[a],c=s.getAttribute("nc-class");this[c].push(s)}}},t._nuclearFix=function(){this.nuclearParent||this._nuclearParentEmpty||this._nuclearFixOne(this)},t._nuclearFixOne=function(e){var t=e._nuclearRef.length;if(t>0)for(var n=0;n<t;n++){var r=e._nuclearRef[n];r.node=e.node.querySelector('*[data-nuclearId="'+r._ncInstanceId+'"]'),r.node&&(r._mixNode(),r._nuclearRenderInfo.parent=r.node.parentNode,this._nuclearFixOne(r),r.onRefresh&&r.onRefresh(),this._nuclearServerRender||this._nuclearFixForm(),r.installed&&r.installed())}},t._nuclearWrap=function(e){var t="";return this._nuclearServerRender&&(t=this._nuclearViewOption(this._ncInstanceId,JSON.stringify(this.option))),'<div id="nuclear-scoper-'+this._ncInstanceId+'" '+(this._nuclearServerRender?'data-server="server"':"")+">"+e+t+"</div>"},t._nuclearViewOption=function(e,t){return'\n<input type="hidden" name="__nuclear_option_'+e+"\"  value='"+t+"'>\n"},t._nulcearGenerateHTML=function(e){return this._nuclearWrap(n.render(n._fixEvent(n._fixTplIndex(this._fixStyleFromTpl(e.tpl)),this._ncInstanceId),e.data))},t._fixStyleFromTpl=function(e){var t=e.match(/<style(([\s\S])*?)<\/style>/g),i=this.style?this.style():"";if(t)for(var o=0,a=t.length;o<a;o++)i+=t[o].replace("<style>","").replace("</style>","");var s=r.getElementById("nuclear_style_"+this._ncInstanceId);return s&&r.getElementsByTagName("head")[0].removeChild(s),this._nuclearServerRender?'<style id="nuclear_style_'+this._ncInstanceId+'">'+n.scoper(i,"#nuclear-scoper-"+this._ncInstanceId)+"</style>"+e.replace(/<style(([\s\S])*?)<\/style>/g,""):(n.addStyle(n.scoper(i,"#nuclear-scoper-"+this._ncInstanceId),"nuclear_style_"+this._ncInstanceId),e.replace(/<style(([\s\S])*?)<\/style>/g,""))},t.destroy=function(){this.node.parentNode.removeChild(this.node);var e=r.getElementById("nuclear_style_"+this._ncInstanceId),t=r.getElementsByTagName("head")[0];e&&e.parentNode===t&&t.removeChild(e),this.node=null}},n._fixEvent=function(e,t){return e.replace(/<[\s\S]*?>/g,function(e){return e.replace(/(onabort|onblur|oncancel|oncanplay|oncanplaythrough|onchange|onclick|onclose|oncontextmenu|oncuechange|ondblclick|ondrag|ondragend|ondragenter|ondragleave|ondragover|ondragstart|ondrop|ondurationchange|onemptied|onended|onerror|onfocus|oninput|oninvalid|onkeydown|onkeypress|onkeyup|onload|onloadeddata|onloadedmetadata|onloadstart|onmousedown|onmouseenter|onmouseleave|onmousemove|onmouseout|onmouseover|onmouseup|onmousewheel|onpause|onplay|onplaying|onprogress|onratechange|onreset|onresize|onscroll|onseeked|onseeking|onselect|onshow|onstalled|onsubmit|onsuspend|ontimeupdate|ontoggle|onvolumechange|onwaiting|onautocomplete|onautocompleteerror|onbeforecopy|onbeforecut|onbeforepaste|oncopy|oncut|onpaste|onsearch|onselectstart|onwheel|onwebkitfullscreenchange|onwebkitfullscreenerror|ontouchstart|ontouchmove|ontouchend|ontouchcancel|onpointerdown|onpointerup|onpointercancel|onpointermove|onpointerover|onpointerout|onpointerenter|onpointerleave)=('|")/g,function(e,n,r,i,o){return"Nuclear.instances["===o.substr(e.length+i,18)?e:e+="Nuclear.instances["+t+"]."})})},n._fixTplIndex=function(e){return e.replace(/{{@index}}/g,"{{_nuclearIndex}}")},n.str2Dom=function(e){var t={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],body:[0,"",""],_default:[1,"<div>","</div>"]};t.optgroup=t.option,t.tbody=t.tfoot=t.colgroup=t.caption=t.thead,t.th=t.td;var n=/<\s*\w.*?>/g.exec(e),i=r.createElement("div");if(null!=n){var o=n[0].replace(/</g,"").replace(/>/g,"").split(" ")[0];if("body"===o.toLowerCase()){var a=r.createElement("body");i.innerHTML=e.replace(/<body/g,"<div").replace(/<\/body>/g,"</div>");var s=i.firstChild.attributes;a.innerHTML=e;for(var c=0;c<s.length;c++)a.setAttribute(s[c].name,s[c].value);return a}var l=t[o]||t._default;e=l[1]+e+l[2],i.innerHTML=e;for(var u=l[0]+1;u--;)i=i.lastChild}else i.innerHTML=e,i=i.lastChild;return i},n.isUndefined=function(e){return"undefined"==typeof e},n._serverInstanceId=1e6,n.getServerInstanceId=function(){return n._serverInstanceId>1e7&&!n.instances[1e6]&&(n._serverInstanceId=1e6),n._serverInstanceId++},n._instanceId=0,n.getInstanceId=function(){if(n._instanceId>n._serverInstanceId)throw"please set _serverInstanceId value to a larger value";return n._instanceId++},n.instances={},n.destroy=function(e){n.instances[e._ncInstanceId]=null},function(e,t){n.Tpl={},t(n.Tpl),n.render=n.Tpl.render}(this,function(e){function t(e){return"function"==typeof e}function n(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function r(e,t){return f.call(e,t)}function i(e){return!r(v,e)}function o(e){return String(e).replace(/[&<>"'\/]/g,function(e){return _[e]})}function a(t,r){function o(){if(w&&!N)for(;_.length;)delete v[_.pop()];else _=[];w=!1,N=!1}function a(e){if("string"==typeof e&&(e=e.split(m,2)),!p(e)||2!==e.length)throw new Error("Invalid tags: "+e);u=new RegExp(n(e[0])+"\\s*"),h=new RegExp("\\s*"+n(e[1])),d=new RegExp("\\s*"+n("}"+e[1]))}if(!t)return[];var u,h,d,f=[],v=[],_=[],w=!1,N=!1;a(r||e.tags);for(var x,T,S,C,E,R,k=new l(t);!k.eos();){if(x=k.pos,S=k.scanUntil(u))for(var M=0,O=S.length;M<O;++M)C=S.charAt(M),i(C)?_.push(v.length):N=!0,v.push(["text",C,x,x+1]),x+=1,"\n"===C&&o();if(!k.scan(u))break;if(w=!0,T=k.scan(b)||"name",k.scan(g),"="===T?(S=k.scanUntil(y),k.scan(y),k.scanUntil(h)):"{"===T?(S=k.scanUntil(d),k.scan(I),k.scanUntil(h),T="&"):S=k.scanUntil(h),!k.scan(h))throw new Error("Unclosed tag at "+k.pos);if(E=[T,S,x,k.pos],v.push(E),"#"===T||"^"===T)f.push(E);else if("/"===T){if(R=f.pop(),!R)throw new Error('Unopened section "'+S+'" at '+x);if(R[1]!==S)throw new Error('Unclosed section "'+R[1]+'" at '+x)}else"name"===T||"{"===T||"&"===T?N=!0:"="===T&&a(S)}if(R=f.pop())throw new Error('Unclosed section "'+R[1]+'" at '+k.pos);return c(s(v))}function s(e){for(var t,n,r=[],i=0,o=e.length;i<o;++i)t=e[i],t&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}function c(e){for(var t,n,r=[],i=r,o=[],a=0,s=e.length;a<s;++a)switch(t=e[a],t[0]){case"#":case"^":i.push(t),o.push(t),i=t[4]=[];break;case"/":n=o.pop(),n[5]=t[2],i=o.length>0?o[o.length-1][4]:r;break;default:i.push(t)}return r}function l(e){this.string=e,this.tail=e,this.pos=0}function u(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function h(){this.cache={}}var d=Object.prototype.toString,p=Array.isArray||function(e){return"[object Array]"===d.call(e)},f=RegExp.prototype.test,v=/\S/,_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},g=/\s*/,m=/\s+/,y=/\s*=/,I=/\s*\}/,b=/#|\^|\/|>|\{|&|=|!/;l.prototype.eos=function(){return""===this.tail},l.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},l.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},u.prototype.push=function(e){return new u(e,this)},u.prototype.lookup=function(e){var n,r=this.cache;if(e in r)n=r[e];else{for(var i,o,a=this,s=!1;a;){if(e.indexOf(".")>0)for(n=a.view,i=e.split("."),o=0;null!=n&&o<i.length;)o===i.length-1&&null!=n&&(s="object"==typeof n&&n.hasOwnProperty(i[o])),n=n[i[o++]];else null!=a.view&&"object"==typeof a.view&&(n=a.view[e],s=a.view.hasOwnProperty(e));if(s)break;a=a.parent}r[e]=n}return t(n)&&(n=n.call(this.view)),n},h.prototype.clearCache=function(){this.cache={}},h.prototype.parse=function(e,t){var n=this.cache,r=n[e];return null==r&&(r=n[e]=a(e,t)),r},h.prototype.render=function(e,t,n){var r=this.parse(e),i=t instanceof u?t:new u(t);return this.renderTokens(r,i,n,e)},h.prototype.renderTokens=function(e,t,n,r){for(var i,o,a,s="",c=0,l=e.length;c<l;++c)a=void 0,i=e[c],o=i[0],"#"===o?a=this.renderSection(i,t,n,r):"^"===o?a=this.renderInverted(i,t,n,r):">"===o?a=this.renderPartial(i,t,n,r):"&"===o?a=this.unescapedValue(i,t):"name"===o?a=this.escapedValue(i,t):"text"===o&&(a=this.rawValue(i)),void 0!==a&&(s+=a);return s},h.prototype.renderSection=function(e,n,r,i){function o(e){return a.render(e,n,r)}var a=this,s="",c=n.lookup(e[1]);if(c){if(p(c))for(var l=0,u=c.length;l<u;++l)s+=this.renderTokens(e[4],n.push(c[l]),r,i);else if("object"==typeof c||"string"==typeof c||"number"==typeof c)s+=this.renderTokens(e[4],n.push(c),r,i);else if(t(c)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");c=c.call(n.view,i.slice(e[3],e[5]),o),null!=c&&(s+=c)}else s+=this.renderTokens(e[4],n,r,i);return s}},h.prototype.renderInverted=function(e,t,n,r){var i=t.lookup(e[1]);if(!i||p(i)&&0===i.length)return this.renderTokens(e[4],t,n,r)},h.prototype.renderPartial=function(e,n,r){if(r){var i=t(r)?r(e[1]):r[e[1]];return null!=i?this.renderTokens(this.parse(i),n,r,i):void 0}},h.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},h.prototype.escapedValue=function(t,n){var r=n.lookup(t[1]);if(null!=r)return e.escape(r)},h.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.0.0",e.tags=["{{","}}"];var w=new h;e.clearCache=function(){return w.clearCache()},e.parse=function(e,t){return w.parse(e,t)},e.render=function(e,t,n){return w.render(e,t,n)},e.to_html=function(n,r,i,o){var a=e.render(n,r,i);return t(o)?void o(a):a},e.escape=o,e.Scanner=l,e.Context=u,e.Writer=h}),"function"!=typeof Object.create&&(Object.create=function(e){var t=function(){};return function(n,r){if(n!==Object(n)&&null!==n)throw TypeError("Argument must be an object, or null");t.prototype=n||{},r!==e&&Object.defineProperties(t.prototype,r);var i=new t;return t.prototype=null,null===n&&(i.__proto__=null),i}}()),n.Class=function(){},n.Class.extend=function(e){function t(){this.ctor.apply(this,arguments)}var r=Object.create(this.prototype);for(var i in e)r[i]=e[i];return t.prototype=r,t.prototype._super=Object.create(this.prototype),t.prototype.constructor=t,t.extend=n.Class.extend,t},n.scoper=function(e,t){var n=new RegExp("([^\r\n,{}]+)(,(?=[^}]*{)|s*{)","g");return e=e.replace(n,function(e,n,r){return n.match(/^\s*(@media|@keyframes|to|from|@font-face)/)?n+r:(n.match(/:scope/)&&(n=n.replace(/([^\s]*):scope/,function(e,t){return""===t?"> *":"> "+t})),n=n.replace(/^(\s*)/,"$1"+t+" "),n+r)})},n.ie=function(){for(var e,t=3,n=r.createElement("div"),i=n.getElementsByTagName("i");n.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",i[0];);return t>4?t:e}(),n.addStyle=function(e,t){var i=r,o=i.createElement("style");i.getElementsByTagName("head")[0].appendChild(o),o.setAttribute("type","text/css"),o.setAttribute("id",t),n.ie?o.styleSheet.cssText=e:o.textContent=e},t||e.Nuclear&&e.Nuclear.instances||(e.Nuclear=n),n});