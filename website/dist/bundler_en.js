!function(n){function e(i){if(t[i])return t[i].exports;var o=t[i]={exports:{},id:i,loaded:!1};return n[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var t={};return e.m=n,e.c=t,e.p="",e(0)}([function(n,e,t){"use strict";function i(n){return n&&n.__esModule?n:{default:n}}var o=t(1),a=i(o);Omi.render(new a.default({lan:"en"}),"body",!0)},function(n,e,t){"use strict";function i(n){return n&&n.__esModule?n:{default:n}}function o(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function a(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}function r(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function n(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),l=t(2),d=i(l),c=t(10),u=i(c),m=t(48),p=i(m),h=t(50),f=i(h),g=t(11),v=(i(g),t(51)),b=i(v);d.default.makeHTML("Content",u.default),d.default.makeHTML("Sidebar",p.default),d.default.makeHTML("Head",f.default),d.default.makeHTML("Pager",b.default);var y=function(n){function e(n){return o(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n))}return r(e,n),s(e,[{key:"install",value:function(){var n=this;this.setViewport(),window.onreszie=function(){n.setViewport(),n.update()}}},{key:"setViewport",value:function(){window.innerWidth<768?this.data.width="100%":this.data.width=window.innerWidth-220+"px"}},{key:"style",value:function(){return"\n        .main{\n            position: absolute;\n            left:220px;\n            top:45px;\n            height:auto;\n        }\n\n        @media only screen and (max-width: 768px) {\n            .main{\n                left:0%;\n            }\n\n\n        }\n        "}},{key:"render",value:function(){return'<div>\n                    <Head data-lan="{{lan}}" />\n                    <div class="main"  style="width:{{width}};">\n                        <Content  omi-id="content" data-lan="{{lan}}" />\n                        <Pager omi-id="pager" data-lan="{{lan}}" />\n                    </div>\n                    <Sidebar omi-id="sidebar" data-lan="{{lan}}" />\n                </div>'}}]),e}(d.default.Component);e.default=y},function(n,e,t){"use strict";function i(n){return n&&n.__esModule?n:{default:n}}var o=t(3),a=i(o),r=t(4),s=i(r),l=t(5),d=i(l);a.default.template=s.default.render,a.default.Component=d.default,window.Omi=a.default,n.exports=a.default},function(n,e){"use strict";function t(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function i(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":r(e))&&"function"!=typeof e?n:e}function o(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":r(e)));n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}function a(n){var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push({key:t,value:n[t]});return e}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},s={};s.instances={},s._instanceId=0,s.getInstanceId=function(){return s._instanceId++},s.customTags=[],s.mapping={},s.STYLEPREFIX="omi_style_",s.STYLESCOPEDPREFIX="omi_scoped_","function"!=typeof Object.assign&&(Object.assign=function(n){if(null==n)throw new TypeError("Cannot convert undefined or null to object");n=Object(n);for(var e=1;e<arguments.length;e++){var t=arguments[e];if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}),function(){var n=Array.prototype.slice;try{n.call(document.documentElement)}catch(e){Array.prototype.slice=function(e,t){if(t="undefined"!=typeof t?t:this.length,"[object Array]"===Object.prototype.toString.call(this))return n.call(this,e,t);var i,o,a=[],r=this.length,s=e||0;s=s>=0?s:r+s;var l=t?t:r;if(t<0&&(l=r+t),o=l-s,o>0)if(a=new Array(o),this.charAt)for(i=0;i<o;i++)a[i]=this.charAt(s+i);else for(i=0;i<o;i++)a[i]=this[s+i];return a}}}();var l=function(){function n(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();s.create=function(n,e,r){var d=e,c=s.Component;return arguments.length>2&&(d=r,c=e),s[n]=function(e){function r(e,o){return t(this,r),this.___omi_constructor_name=n,i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,o))}return o(r,e),l(r,a(d)),r}(c),s.customTags.push(n),s[n]},s.mixIndex=function(n,e){for(var t=n.length,i=e||"index",o=0;o<t;o++){var a=n[o];"object"===("undefined"==typeof a?"undefined":r(a))?a[i]=o:(n[o]={value:a},n[o][i]=o)}return n},s.$=function(n,e){return e?e.querySelector(n):document.querySelector(n)},s.$$=function(n,e){return e?Array.prototype.slice.call(e.querySelectorAll(n)):Array.prototype.slice.call(document.querySelectorAll(n))},s.getClassFromString=function(n){if(0!==n.indexOf(".")){for(var e=n.split("."),t=e.length,i=s[e[0]],o=1;o<t;o++)i=i[e[o]];return i}return s[n]},s.makeHTML=function(n,e){s[n]=e,s.customTags.push(n)},s.render=function(n,e,t){return n.renderTo="string"==typeof e?document.querySelector(e):e,n._omi_increment=t,n.install(),n._render(!0),n._childrenInstalled(n),n.installed(),n},s.get=function(n){return s.mapping[n]},s.plugins={},s.extendPlugin=function(n,e){s.plugins[n]=e},s.getParameters=function(n,e,t){var i={},o=function(){},a={stringType:function(n){return n},numberType:function(n){return Number(n)},booleanType:function(n){return"true"===n||"false"!==n&&Boolean(n)},functionType:function(n){if(!n)return o;var t=e[n.replace(/Omi.instances\[\d\]./,"")];return t?t.bind(e):(console.warn("You do not define [ "+n+" ] method in following component"),void console.warn(e))}};return Object.keys(t).forEach(function(e){t[e].forEach(function(t){var o=n.getAttribute(t);null!==o&&(i[t]=a[e](o))})}),i},s.mixIndexToArray=function(n,e){n.forEach(function(n,t){n[e||"index"]=t})},n.exports=s},function(n,e,t){var i,o,a,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};/*!
	 * mustache.js - Logic-less {{mustache}} templates with JavaScript
	 * http://github.com/janl/mustache.js
	 */
!function(t,s){"object"===r(e)&&e&&"string"!=typeof e.nodeName?s(e):(o=[e],i=s,a="function"==typeof i?i.apply(e,o):i,!(void 0!==a&&(n.exports=a)))}(void 0,function(n){function e(n){return"function"==typeof n}function t(n){return g(n)?"array":"undefined"==typeof n?"undefined":r(n)}function i(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(n,e){return null!=n&&"object"===("undefined"==typeof n?"undefined":r(n))&&e in n}function a(n,e){return v.call(n,e)}function s(n){return!a(b,n)}function l(n){return String(n).replace(/[&<>"'`=\/]/g,function(n){return y[n]})}function d(e,t){function o(){if(v&&!b)for(;f.length;)delete h[f.pop()];else f=[];v=!1,b=!1}function a(n){if("string"==typeof n&&(n=n.split(x,2)),!g(n)||2!==n.length)throw new Error("Invalid tags: "+n);r=new RegExp(i(n[0])+"\\s*"),l=new RegExp("\\s*"+i(n[1])),d=new RegExp("\\s*"+i("}"+n[1]))}if(!e)return[];var r,l,d,p=[],h=[],f=[],v=!1,b=!1;a(t||n.tags);for(var y,j,T,C,H,S,M=new m(e);!M.eos();){if(y=M.pos,T=M.scanUntil(r))for(var L=0,D=T.length;L<D;++L)C=T.charAt(L),s(C)?f.push(h.length):b=!0,h.push(["text",C,y,y+1]),y+=1,"\n"===C&&o();if(!M.scan(r))break;if(v=!0,j=M.scan(k)||"name",M.scan(w),"="===j?(T=M.scanUntil(O),M.scan(O),M.scanUntil(l)):"{"===j?(T=M.scanUntil(d),M.scan(_),M.scanUntil(l),j="&"):T=M.scanUntil(l),!M.scan(l))throw new Error("Unclosed tag at "+M.pos);if(H=[j,T,y,M.pos],h.push(H),"#"===j||"^"===j)p.push(H);else if("/"===j){if(S=p.pop(),!S)throw new Error('Unopened section "'+T+'" at '+y);if(S[1]!==T)throw new Error('Unclosed section "'+S[1]+'" at '+y)}else"name"===j||"{"===j||"&"===j?b=!0:"="===j&&a(T)}if(S=p.pop())throw new Error('Unclosed section "'+S[1]+'" at '+M.pos);return u(c(h))}function c(n){for(var e,t,i=[],o=0,a=n.length;o<a;++o)e=n[o],e&&("text"===e[0]&&t&&"text"===t[0]?(t[1]+=e[1],t[3]=e[3]):(i.push(e),t=e));return i}function u(n){for(var e,t,i=[],o=i,a=[],r=0,s=n.length;r<s;++r)switch(e=n[r],e[0]){case"#":case"^":o.push(e),a.push(e),o=e[4]=[];break;case"/":t=a.pop(),t[5]=e[2],o=a.length>0?a[a.length-1][4]:i;break;default:o.push(e)}return i}function m(n){this.string=n,this.tail=n,this.pos=0}function p(n,e){this.view=n,this.cache={".":this.view},this.parent=e}function h(){this.cache={}}var f=Object.prototype.toString,g=Array.isArray||function(n){return"[object Array]"===f.call(n)},v=RegExp.prototype.test,b=/\S/,y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},w=/\s*/,x=/\s+/,O=/\s*=/,_=/\s*\}/,k=/#|\^|\/|>|\{|&|=|!/;m.prototype.eos=function(){return""===this.tail},m.prototype.scan=function(n){var e=this.tail.match(n);if(!e||0!==e.index)return"";var t=e[0];return this.tail=this.tail.substring(t.length),this.pos+=t.length,t},m.prototype.scanUntil=function(n){var e,t=this.tail.search(n);switch(t){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,t),this.tail=this.tail.substring(t)}return this.pos+=e.length,e},p.prototype.push=function(n){return new p(n,this)},p.prototype.lookup=function(n){var t,i=this.cache;if(i.hasOwnProperty(n))t=i[n];else{for(var a,r,s=this,l=!1;s;){if(n.indexOf(".")>0)for(t=s.view,a=n.split("."),r=0;null!=t&&r<a.length;)r===a.length-1&&(l=o(t,a[r])),t=t[a[r++]];else t=s.view[n],l=o(s.view,n);if(l)break;s=s.parent}i[n]=t}return e(t)&&(t=t.call(this.view)),t},h.prototype.clearCache=function(){this.cache={}},h.prototype.parse=function(n,e){var t=this.cache,i=t[n];return null==i&&(i=t[n]=d(n,e)),i},h.prototype.render=function(n,e,t){var i=this.parse(n),o=e instanceof p?e:new p(e);return this.renderTokens(i,o,t,n)},h.prototype.renderTokens=function(n,e,t,i){for(var o,a,r,s="",l=0,d=n.length;l<d;++l)r=void 0,o=n[l],a=o[0],"#"===a?r=this.renderSection(o,e,t,i):"^"===a?r=this.renderInverted(o,e,t,i):">"===a?r=this.renderPartial(o,e,t,i):"&"===a?r=this.unescapedValue(o,e):"name"===a?r=this.escapedValue(o,e):"text"===a&&(r=this.rawValue(o)),void 0!==r&&(s+=r);return s},h.prototype.renderSection=function(n,t,i,o){function a(n){return s.render(n,t,i)}var s=this,l="",d=t.lookup(n[1]);if(d){if(g(d))for(var c=0,u=d.length;c<u;++c)l+=this.renderTokens(n[4],t.push(d[c]),i,o);else if("object"===("undefined"==typeof d?"undefined":r(d))||"string"==typeof d||"number"==typeof d)l+=this.renderTokens(n[4],t.push(d),i,o);else if(e(d)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");d=d.call(t.view,o.slice(n[3],n[5]),a),null!=d&&(l+=d)}else l+=this.renderTokens(n[4],t,i,o);return l}},h.prototype.renderInverted=function(n,e,t,i){var o=e.lookup(n[1]);if(!o||g(o)&&0===o.length)return this.renderTokens(n[4],e,t,i)},h.prototype.renderPartial=function(n,t,i){if(i){var o=e(i)?i(n[1]):i[n[1]];return null!=o?this.renderTokens(this.parse(o),t,i,o):void 0}},h.prototype.unescapedValue=function(n,e){var t=e.lookup(n[1]);if(null!=t)return t},h.prototype.escapedValue=function(e,t){var i=t.lookup(e[1]);if(null!=i)return n.escape(i)},h.prototype.rawValue=function(n){return n[1]},n.name="mustache.js",n.version="2.3.0",n.tags=["{{","}}"];var j=new h;return n.clearCache=function(){return j.clearCache()},n.parse=function(n,e){return j.parse(n,e)},n.render=function(n,e,i){if("string"!=typeof n)throw new TypeError('Invalid template! Template should be a "string" but "'+t(n)+'" was given as the first argument for mustache#render(template, view, partials)');return j.render(n,e,i)},n.to_html=function(t,i,o,a){var r=n.render(t,i,o);return e(a)?void a(r):r},n.escape=l,n.Scanner=m,n.Context=p,n.Writer=h,n})},function(n,e,t){"use strict";function i(n){return n&&n.__esModule?n:{default:n}}function o(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function n(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),r=t(3),s=i(r),l=t(6),d=i(l),c=t(7),u=i(c),m=t(8),p=i(m),h=t(9),f=i(h),g=function(){function n(e,t){o(this,n);var i=Object.prototype.toString.call(e),a="[object Object]"!==i&&"[object Undefined]"!==i;a?(this.renderTo="string"==typeof e?document.querySelector(e):e,this._hidden=this.renderTo.querySelector(".omi_scoped__hidden_data"),this.id=this._hidden.dataset.omiId,this.data=JSON.parse(this._hidden.value)):(this.data=e||{},this._omi_server_rendering=t,this.id=this._omi_server_rendering?1e6+s.default.getInstanceId():s.default.getInstanceId()),this.refs={},this.children=[],this.childrenData=[],this.HTML=null,this._addedItems=[],this._omi_order=[],s.default.instances[this.id]=this,this.dataFirst=!0,this._omi_scoped_attr=s.default.STYLESCOPEDPREFIX+this.id,this._preCSS=null,this._omiGroupDataCounter={},(this._omi_server_rendering||a)&&(this.install(),this._render(!0),this._childrenInstalled(this),this.installed())}return a(n,[{key:"install",value:function(){}},{key:"installed",value:function(){}},{key:"uninstall",value:function(){}},{key:"afterUpdate",value:function(){}},{key:"beforeUpdate",value:function(){}},{key:"render",value:function(){}},{key:"style",value:function(){}},{key:"update",value:function(){if(this.beforeUpdate(),this._childrenBeforeUpdate(this),this.renderTo)this._render();else if(this._omi_removed){var n=this._createHiddenNode();this.node.parentNode.replaceChild(n,this.node),this.node=n}else(0,p.default)(this.node,(0,u.default)(this._childRender(this._omiChildStr),this.id)),this.node=document.querySelector("["+this._omi_scoped_attr+"]"),this._queryElements(this),this._fixForm();this._renderAddedChildren(),this._childrenAfterUpdate(this),this.afterUpdate()}},{key:"_childrenBeforeUpdate",value:function(n){var e=this;n.children.forEach(function(n){n.beforeUpdate(),e._childrenBeforeUpdate(n)})}},{key:"_childrenAfterUpdate",value:function(n){var e=this;n.children.forEach(function(n){e._childrenAfterUpdate(n),n.afterUpdate()})}},{key:"setData",value:function(n,e){this.data=n,e&&this.update()}},{key:"removeChild",value:function(n){var e=n;"number"==typeof n&&(e=this.children[n]),e.remove()}},{key:"restoreChild",value:function(n){var e=n;"number"==typeof n&&(e=this.children[n]),e.restore()}},{key:"setComponentOrder",value:function(n){var e=this;n.forEach(function(n,t){e._omi_order[t]=n}),this.update()}},{key:"addComponent",value:function(n,e,t){this._addedItems.push({position:n,el:e,component:t}),this.update()}},{key:"removeComponent",value:function(n){for(var e=0,t=this._addedItems.length;e<t;e++)if(n.id===this._addedItems[e].component.id){this._addedItems.splice(e,1);break}this.update()}},{key:"remove",value:function(){this._omi_removed=!0,this.update(),this.uninstall()}},{key:"restore",value:function(){this._omi_removed=!1,this.update(),this.installed()}},{key:"_renderAddedChildren",value:function(){var n=this;this._addedItems.forEach(function(e){var t="string"==typeof e.el?n.node.querySelector(e.el):e.el;e.component.install(),e.component._render(!0),e.component.installed(),e.component._childrenInstalled(e.component),t.insertAdjacentHTML(e.position,e.component.HTML)}),this.children.forEach(function(n){n._renderAddedChildren()})}},{key:"_render",value:function(n){var e=this;if(this._omi_removed){var t=this._createHiddenNode();return void(n?this.renderTo&&this.renderTo.appendChild(t):(this.node.parentNode.replaceChild(t,this.node),this.node=t))}this._generateHTMLCSS(),this._extractChildren(this),n&&this.children.forEach(function(n,t){e._omi_order[t]=t}),this.children.forEach(function(n,t){e.HTML=e.HTML.replace(n._omiChildStr,e.children[e._omi_order[t]].HTML)}),this.HTML=(0,u.default)(this.HTML,this.id),n?this.renderTo&&(this._omi_increment?this.renderTo.insertAdjacentHTML("beforeend",this.HTML):this.renderTo.innerHTML=this.HTML):""!==this.HTML?(0,p.default)(this.node,this.HTML):(0,p.default)(this.node,this._createHiddenNode()),this.renderTo&&(this.node=document.querySelector("["+this._omi_scoped_attr+"]"),this._queryElements(this),this._fixForm())}},{key:"_childRender",value:function(n,e){var t=this;return this._omi_removed?(this.HTML='<input type="hidden" omi_scoped_'+this.id+" >",this.HTML):(this._mergeData(n),this._generateHTMLCSS(),this._extractChildren(this),e&&this.children.forEach(function(n,e){t._omi_order[e]=e}),this.children.forEach(function(n,e){t.HTML=t.HTML.replace(n._omiChildStr,t.children[t._omi_order[e]].HTML)}),this.HTML=(0,u.default)(this.HTML,this.id),this.HTML)}},{key:"_queryElements",value:function(n){n._mixRefs(),n._execPlugins(),n.children.forEach(function(e){e.node=n.node.querySelector("["+s.default.STYLESCOPEDPREFIX+e.id+"]"),n._queryElements(e)})}},{key:"_mixRefs",value:function(){var n=this,e=s.default.$$("*[ref]",this.node);e.forEach(function(e){e.hasAttribute(n._omi_scoped_attr)&&(n.refs[e.getAttribute("ref")]=e)});var t=this.node.getAttribute("ref");t&&(this.refs[t]=this.node)}},{key:"_execPlugins",value:function(){var n=this;Object.keys(s.default.plugins).forEach(function(e){var t=s.default.$$("*["+e+"]",n.node);t.forEach(function(t){t.hasAttribute(n._omi_scoped_attr)&&s.default.plugins[e](t,n)}),n.node.hasAttribute(e)&&s.default.plugins[e](n.node,n)})}},{key:"_childrenInstalled",value:function(n){var e=this;n.children.forEach(function(n){e._childrenInstalled(n),n.installed()})}},{key:"_fixForm",value:function(){s.default.$$("input",this.node).forEach(function(n){var e=n.type.toLowerCase();""===n.getAttribute("value")&&(n.value=""),"checked"!==e&&"radio"!==e||(n.hasAttribute("checked")?n.checked="checked":n.checked=!1)}),s.default.$$("textarea",this.node).forEach(function(n){n.value=n.getAttribute("value")}),s.default.$$("select",this.node).forEach(function(n){var e=n.getAttribute("value");if(e)s.default.$$("option",n).forEach(function(n){e===n.getAttribute("value")&&n.setAttribute("selected","selected")});else{var t=s.default.$$("option",n)[0];t&&t.setAttribute("selected","selected")}})}},{key:"_replaceTags",value:function(n,e){var t=n.join("|"),i=new RegExp("<("+t+"+)((?:\\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?)*)\\s*(\\/?)>","g");return e.replace(i,function(n,e){var t=n.length-2;return t>=0&&n.lastIndexOf("/>")===n.length-2?n.replace("<"+e,'<child tag="'+e+'"').substr(0,n.length+10)+"></child>":n.lastIndexOf(">")===n.length-1?n.replace("<"+e,'<child tag="'+e+'"')+"</child>":void 0})}},{key:"_createHiddenNode",value:function(){var n=document.createElement("input");return n.setAttribute("type","hidden"),n.setAttribute(this._omi_scoped_attr,""),n}},{key:"_mergeData",value:function(n){this.dataFirst?this.data=Object.assign({},this._getDataset(n),this.data):this.data=Object.assign({},this.data,this._getDataset(n))}},{key:"_generateHTMLCSS",value:function(){this.CSS=(this.style()||"").replace(/<\/?style>/g,""),this.CSS&&(this.CSS=d.default.scoper(this.CSS,"["+this._omi_scoped_attr+"]"),this.CSS===this._preCSS||this._omi_server_rendering||(d.default.addStyle(this.CSS,this.id),this._preCSS=this.CSS));var n=this.render();this.HTML=this._scopedAttr(s.default.template(n?n:"",this.data),this._omi_scoped_attr).trim(),this._omi_server_rendering&&(this.HTML='\r\n<style id="'+s.default.STYLEPREFIX+this.id+'">\r\n'+this.CSS+"\r\n</style>\r\n"+this.HTML,this.HTML+='\r\n<input type="hidden" data-omi-id="'+this.id+'" class="'+s.default.STYLESCOPEDPREFIX+"_hidden_data\" value='"+JSON.stringify(this.data)+"'  />\r\n")}},{key:"_scopedAttr",value:function(n,e){return n.replace(/<[^\/]([A-Za-z]*)[^>]*>/g,function(n){var t=n.split(" ")[0].replace(">","");return n.replace(t,t+" "+e)})}},{key:"_getDataset",value:function(n){var e=this,t=(0,f.default)(n),i=t.child[0].attr;return Object.keys(i).forEach(function(n){0===n.indexOf("data-")&&(e._dataset[e._capitalize(n.replace("data-",""))]=i[n])}),this._dataset}},{key:"_capitalize",value:function(n){return n=n.toLowerCase(),n=n.replace(/\b\w+\b/g,function(n){return n.substring(0,1).toUpperCase()+n.substring(1)}).replace(/-/g,""),n.substring(0,1).toLowerCase()+n.substring(1)}},{key:"_extractPropertyFromString",value:function(n,e){var t=n.replace(/['|"|\]]/g,"").replace(/\[/g,".").split("."),i=e;return t.forEach(function(n){i=i[n]}),t=null,i}},{key:"_extractChildren",value:function(n){var e=this;s.default.customTags.length>0&&(n.HTML=this._replaceTags(s.default.customTags,n.HTML));var t=n.HTML.match(/<child[^>][\s\S]*?tag=['|"](\S*)['|"][\s\S]*?><\/child>/g);t&&t.forEach(function(t,i){var o=(0,f.default)(t),a=o.child[0].attr,r=a.tag;delete a.tag;var l=e.children[i];if(l&&l.___omi_constructor_name===r)l._childRender(t);else{var d={},c={},u={},m={},p=null,h=null;Object.keys(a).forEach(function(t){var i=a[t];if(0===t.indexOf("on")){var o=n[i];o&&(d[t]=o.bind(n))}else"omi-id"===t?p=i:"name"===t?h=i:"group-data"===t?(n._omiGroupDataCounter.hasOwnProperty(i)?n._omiGroupDataCounter[i]++:n._omiGroupDataCounter[i]=0,m=e._extractPropertyFromString(i,n)[n._omiGroupDataCounter[i]]):0===t.indexOf("data-")?c[e._capitalize(t.replace("data-",""))]=i:"data"===t&&(u=e._extractPropertyFromString(i,n))});var g=s.default.getClassFromString(r);if(!g)throw"Can't find Class called ["+r+"]";var v=new g(Object.assign(d,n.childrenData[i],c,u,m),!1);v._omiChildStr=t,v.parent=n,v.___omi_constructor_name=r,v._dataset={},v.install(),p&&(s.default.mapping[p]=v),h&&(n[h]=v),l?n.children[i]=v:n.children.push(v),v._childRender(t,!0)}})}}]),n}();e.default=g},function(n,e,t){"use strict";function i(n){return n&&n.__esModule?n:{default:n}}function o(n,e){var t=new RegExp("([^\r\n,{}]+)(,(?=[^}]*{)|s*{)","g");return n=n.replace(t,function(n,t,i){return t.match(/^\s*(@media|@keyframes|to|from|@font-face)/)?t+i:(t.match(/:scope/)&&(t=t.replace(/([^\s]*):scope/,function(n,e){return""===e?"> *":"> "+e})),t=t.replace(/^(\s*)/,t.trim()+e+",$1"+e+" ").replace(/\s+/g," "),t+i)})}function a(n,e){var t=document.getElementById(s.default.STYLEPREFIX+e),i=document.getElementsByTagName("head")[0];t&&t.parentNode===i&&i.removeChild(t);var o=document.createElement("style");i.appendChild(o),o.setAttribute("type","text/css"),o.setAttribute("id",s.default.STYLEPREFIX+e),window.ActiveXObject?o.styleSheet.cssText=n:o.textContent=n}Object.defineProperty(e,"__esModule",{value:!0});var r=t(3),s=i(r);e.default={scoper:o,addStyle:a}},function(n,e){"use strict";function t(n,e){return n.replace(/<[\s\S]*?[^=]>/g,function(n){return n.replace(/on(abort|blur|cancel|canplay|canplaythrough|change|click|close|contextmenu|cuechange|dblclick|drag|dragend|dragenter|dragleave|dragover|dragstart|drop|durationchange|emptied|ended|error|focus|input|invalid|keydown|keypress|keyup|load|loadeddata|loadedmetadata|loadstart|mousedown|mouseenter|mouseleave|mousemove|mouseout|mouseover|mouseup|mousewheel|pause|play|playing|progress|ratechange|reset|resize|scroll|seeked|seeking|select|show|stalled|submit|suspend|timeupdate|toggle|volumechange|waiting|autocomplete|autocompleteerror|beforecopy|beforecut|beforepaste|copy|cut|paste|search|selectstart|wheel|webkitfullscreenchange|webkitfullscreenerror|touchstart|touchmove|touchend|touchcancel|pointerdown|pointerup|pointercancel|pointermove|pointerover|pointerout|pointerenter|pointerleave|Abort|Blur|Cancel|CanPlay|CanPlayThrough|Change|Click|Close|ContextMenu|CueChange|DblClick|Drag|DragEnd|DragEnter|DragLeave|DragOver|DragStart|Drop|DurationChange|Emptied|Ended|Error|Focus|Input|Invalid|KeyDown|KeyPress|KeyUp|Load|LoadedData|LoadedMetadata|LoadStart|MouseDown|MouseEnter|MouseLeave|MouseMove|MouseOut|MouseOver|MouseUp|MouseWheel|Pause|Play|Playing|Progress|RateChange|Reset|Resize|Scroll|Seeked|Seeking|Select|Show|Stalled|Submit|Suspend|TimeUpdate|Toggle|VolumeChange|Waiting|AutoComplete|AutoCompleteError|BeforeCopy|BeforeCut|BeforePaste|Copy|Cut|Paste|Search|SelectStart|Wheel|WebkitFullScreenChange|WebkitFullScreenError|TouchStart|TouchMove|TouchEnd|TouchCancel|PointerDown|PointerUp|PointerCancel|PointerMove|PointerOver|PointerOut|PointerEnter|PointerLeave)=('|"|{)([\s\S]*)('|"|})/g,function(n,t,i,o,a){if(0===o.indexOf("Omi.instances[")||0===o.indexOf("new Function("))return n;if("{"===i){var r="on"+t+"=\"new Function('event', '("+o.replace(/'/g,'"')+").bind(Omi.instances["+e+"])(event)')(event)\"";return r.replace(/\n/g,"")}return o.match(/.*?\(.*?\)/)?n.replace(/=(['|"])/,"=$1Omi.instances["+e+"]."):n})})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=t},function(n,e,t){var i,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};!function(r,s){"object"===a(e)&&"undefined"!=typeof n?n.exports=s():(i=s,o="function"==typeof i?i.call(e,t,e,n):i,!(void 0!==o&&(n.exports=o)))}(void 0,function(){"use strict";function n(n){!d&&m.createRange&&(d=m.createRange(),d.selectNode(m.body));var e;return d&&d.createContextualFragment?e=d.createContextualFragment(n):(e=m.createElement("body"),e.innerHTML=n),e.childNodes[0]}function e(n,e){var t=n.nodeName,i=e.nodeName;return t===i||!!(e.actualize&&t.charCodeAt(0)<91&&i.charCodeAt(0)>90)&&t===i.toUpperCase()}function t(n,e){return e&&e!==u?m.createElementNS(e,n):m.createElement(n)}function i(n,e){for(var t=n.firstChild;t;){var i=t.nextSibling;e.appendChild(t),t=i}return e}function o(n,e){var t,i,o,a,r,s,l=e.attributes;for(t=l.length-1;t>=0;--t)i=l[t],o=i.name,a=i.namespaceURI,r=i.value,a?(o=i.localName||o,s=n.getAttributeNS(a,o),s!==r&&n.setAttributeNS(a,o,r)):(s=n.getAttribute(o),s!==r&&n.setAttribute(o,r));for(l=n.attributes,t=l.length-1;t>=0;--t)i=l[t],i.specified!==!1&&(o=i.name,a=i.namespaceURI,a?(o=i.localName||o,h(e,a,o)||n.removeAttributeNS(a,o)):h(e,null,o)||n.removeAttribute(o))}function a(n,e,t){n[t]!==e[t]&&(n[t]=e[t],n[t]?n.setAttribute(t,""):n.removeAttribute(t,""))}function r(){}function s(n){return n.id}function l(o){return function(a,l,d){function c(n){O?O.push(n):O=[n]}function u(n,e){if(n.nodeType===g)for(var t=n.firstChild;t;){var i=void 0;e&&(i=_(t))?c(i):(S(t),t.firstChild&&u(t,e)),t=t.nextSibling}}function p(n,e,t){H(n)!==!1&&(e&&e.removeChild(n),S(n),u(n,t))}function h(n){if(n.nodeType===g)for(var e=n.firstChild;e;){var t=_(e);t&&(D[t]=e),h(e),e=e.nextSibling}}function y(n){j(n);for(var t=n.firstChild;t;){var i=t.nextSibling,o=_(t);if(o){var a=D[o];a&&e(t,a)&&(t.parentNode.replaceChild(a,t),w(a,t))}y(t),t=i}}function w(n,t,i){var r,s=_(t);if(s&&delete D[s],!l.isSameNode||!l.isSameNode(a)){if(!i){if(T(n,t)===!1)return;if(o(n,t),C(n),M(n,t)===!1)return}if("TEXTAREA"!==n.nodeName){var d,u,h,x,O=t.firstChild,j=n.firstChild;n:for(;O;){for(h=O.nextSibling,d=_(O);j;){if(u=j.nextSibling,O.isSameNode&&O.isSameNode(j)){O=h,j=u;continue n}r=_(j);var H=j.nodeType,S=void 0;if(H===O.nodeType&&(H===g?(d?d!==r&&((x=D[d])?j.nextSibling===x?S=!1:(n.insertBefore(x,j),u=j.nextSibling,r?c(r):p(j,n,!0),j=x):S=!1):r&&(S=!1),S=S!==!1&&e(j,O),S&&w(j,O)):H!==v&&H!=b||(S=!0,j.nodeValue=O.nodeValue)),S){O=h,j=u;continue n}r?c(r):p(j,n,!0),j=u}if(d&&(x=D[d])&&e(x,O))n.appendChild(x),w(x,O);else{var L=k(O);L!==!1&&(L&&(O=L),O.actualize&&(O=O.actualize(n.ownerDocument||m)),n.appendChild(O),y(O))}O=h,j=u}for(;j;)u=j.nextSibling,(r=_(j))?c(r):p(j,n,!0),j=u}var A=f[n.nodeName];A&&A(n,t)}}if(d||(d={}),"string"==typeof l)if("#document"===a.nodeName||"HTML"===a.nodeName){var x=l;l=m.createElement("html"),l.innerHTML=x}else l=n(l);var O,_=d.getNodeKey||s,k=d.onBeforeNodeAdded||r,j=d.onNodeAdded||r,T=d.onBeforeElUpdated||r,C=d.onElUpdated||r,H=d.onBeforeNodeDiscarded||r,S=d.onNodeDiscarded||r,M=d.onBeforeElChildrenUpdated||r,L=d.childrenOnly===!0,D={};h(a);var A=a,E=A.nodeType,P=l.nodeType;if(!L)if(E===g)P===g?e(a,l)||(S(a),A=i(a,t(l.nodeName,l.namespaceURI))):A=l;else if(E===v||E===b){if(P===E)return A.nodeValue=l.nodeValue,A;A=l}if(A===l)S(a);else if(w(A,l,L),O)for(var I=0,X=O.length;I<X;I++){var U=D[O[I]];U&&p(U,U.parentNode,!1)}return!L&&A!==a&&a.parentNode&&(A.actualize&&(A=A.actualize(a.ownerDocument||m)),a.parentNode.replaceChild(A,a)),A}}var d,c,u="http://www.w3.org/1999/xhtml",m="undefined"==typeof document?void 0:document,p=m?m.body||m.createElement("div"):{};c=p.hasAttributeNS?function(n,e,t){return n.hasAttributeNS(e,t)}:p.hasAttribute?function(n,e,t){return n.hasAttribute(t)}:function(n,e,t){return null!=n.getAttributeNode(e,t)};var h=c,f={OPTION:function(n,e){a(n,e,"selected")},INPUT:function(n,e){a(n,e,"checked"),a(n,e,"disabled"),n.value!==e.value&&(n.value=e.value),h(e,null,"value")||n.removeAttribute("value")},TEXTAREA:function(n,e){var t=e.value;if(n.value!==t&&(n.value=t),n.firstChild){if(""===t&&n.firstChild.nodeValue===n.placeholder)return;n.firstChild.nodeValue=t}},SELECT:function(n,e){if(!h(e,null,"multiple")){for(var t=-1,i=0,o=e.firstChild;o;){var a=o.nodeName;if(a&&"OPTION"===a.toUpperCase()){if(h(o,null,"selected")){t=i;break}i++}o=o.nextSibling}n.selectedIndex=i}}},g=1,v=3,b=8,y=l(o);return y})},function(n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=/^<([-A-Za-z0-9_]+)((?:\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,i=/^<\/([-A-Za-z0-9_]+)[^>]*>/,o=/([a-zA-Z_:][-a-zA-Z0-9_:.]*)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,a=function(n,e){function a(n,t,i,a){if(t=t.toLowerCase(),a=!!a,a||c.push(t),e.start){var r=[];i.replace(o,function(n,e){var t=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:"";r.push({name:e,value:t,escaped:t.replace(/(^|[^\\])"/g,'$1\\"')})}),e.start&&e.start(t,r,a)}}function r(n,t){if(t)for(var i=c.length-1;i>=0&&c[i]!=t;i--);else var i=0;if(i>=0){for(var o=c.length-1;o>=i;o--)e.end&&e.end(c[o]);c.length=i}}var s,l,d,c=[],u=n;for(c.last=function(){return this[this.length-1]};n;){if(l=!0,c.last())n=n.replace(new RegExp("([\\s\\S]*?)</"+c.last()+"[^>]*>"),function(n,t){return e.chars&&e.chars(t),""}),r("",c.last());else if(0==n.indexOf("</")?(d=n.match(i),d&&(n=n.substring(d[0].length),d[0].replace(i,r),l=!1)):0==n.indexOf("<")&&(d=n.match(t),d&&(n=n.substring(d[0].length),d[0].replace(t,a),l=!1)),l){s=n.indexOf("<");var m=s<0?n:n.substring(0,s);n=s<0?"":n.substring(s),e.chars&&e.chars(m)}if(n==u)throw"Parse Error: "+n;u=n}r()},r=!1,s=r?console.log.bind(console):function(){};Array.prototype.reduce||(Array.prototype.reduce=function(n){if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof n)throw new TypeError(n+" is not a function");var e,t=Object(this),i=t.length>>>0,o=0;if(2==arguments.length)e=arguments[1];else{for(;o<i&&!(o in t);)o++;if(o>=i)throw new TypeError("Reduce of empty array with no initial value");e=t[o++]}for(;o<i;o++)o in t&&(e=n(e,t[o],o,t));return e});var l=function(n){var e=[],t={node:"root",child:[]};return a(n,{start:function(n,i,o){s(n,i,o);var a={node:"element",tag:n};if(0!==i.length&&(a.attr=i.reduce(function(n,e){var t=e.name,i=e.value;return n[t]=i,n},{})),o){var r=e[0]||t;void 0===r.child&&(r.child=[]),r.child.push(a)}else e.unshift(a)},end:function(n){s(n);var i=e.shift();if(i.tag!==n&&console.error("invalid state: mismatch end tag"),0===e.length)t.child.push(i);else{var o=e[0];void 0===o.child&&(o.child=[]),o.child.push(i)}},chars:function(n){s(n);var i={node:"text",text:n};if(0===e.length)t.child.push(i);else{var o=e[0];void 0===o.child&&(o.child=[]),o.child.push(i)}}}),t};e.default=l},function(n,e,t){"use strict";function i(n){return n&&n.__esModule?n:{default:n}}function o(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function a(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}function r(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}function s(n,e){var i=t(12)("./"+e+"_"+n+".md");return i.substring(0,i.length-1).replace(/\\r\\n/g,"\r\n").replace(/\\n/g,"\n").replace(/\\t/g,"\t").replace('module.exports = "',"").replace(/\\"/g,'"').replace(/\\\\/g,"\\")}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function n(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),d=t(2),c=i(d),u=t(11),m=i(u),p=function(n){function e(n){return o(this,e),n=Object.assign({lan:"cn",name:"installation"},n),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n))}return r(e,n),l(e,[{key:"installed",value:function(){this.initCodeStyle()}},{key:"afterUpdate",value:function(){this.initCodeStyle()}},{key:"initCodeStyle",value:function(n){for(var e=document.querySelectorAll("code"),t=0,i=e.length;t<i;t++){var o=Prism.highlight(e[t].textContent,Prism.languages.javascript);e[t].innerHTML=o,e[t].classList.add("language-js")}if(c.default.$$("pre").forEach(function(n){n.classList.add("language-js")}),window.innerWidth>640){var a=document.querySelectorAll("pre"),r=this.getHighLight();if(r){for(var s in r)a[s]&&a[s].setAttribute("data-line",r[s]);n||lineHighLight()}}}},{key:"getHighLight",value:function(){var n=this,e=null;return m.default.menus[this.data.lan].forEach(function(t){t.list.forEach(function(t){t.md===n.data.name&&(e=t.highlight)})}),e}},{key:"installed",value:function(){}},{key:"render",value:function(){return this.data.html=marked(s(this.data.name,this.data.lan)),'\n        <div class="content">\n            {{{html}}}\n        </div>\n        '}},{key:"style",value:function(){return"\n        .content{\n             width: 80%;\n        }\n        h3{\n            color:#444444;\n        }\n        pre{\n            border: 1px solid #eee;\n            width: 100%;\n        }\n        li{\n            text-indent: 20px;\n            list-style:disc inside ;\n        }\n\n         @media only screen and (max-width: 768px) {\n           .content{\n             width: 100%;\n           }\n\n\n        }\n        "}}]),e}(c.default.Component);e.default=p},function(n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t={isMobile:!1,mds:{cn:["installation","hello_world","components","communication","lifecycle","events","condition","loop","form","inherit","template","get_dom","plugin","thinking_in_omi","pr_env","pr_hello"],en:["installation","hello_world","components","communication","lifecycle","events","condition","loop","form","inherit","template","get_dom","plugin"]},menus:{cn:[{active:!0,title:"快速开始",currentIndex:0,list:[{name:"安装",md:"installation"},{name:"Hello World",md:"hello_world",highlight:{2:"6",5:"4,6"}},{name:"组件",md:"components",highlight:{2:"3,9,34"}},{name:"组件通讯",md:"communication",highlight:{0:"34",1:"5,11"}},{name:"生命周期",md:"lifecycle"},{name:"事件处理",md:"events"},{name:"条件判断",md:"condition"},{name:"循环遍历",md:"loop",highlight:{1:"9-11"}},{name:"表单",md:"form"},{name:"继承",md:"inherit"},{name:"模板切换",md:"template"},{name:"获取DOM节点",md:"get_dom"},{name:"插件体系",md:"plugin"},{name:"Omi的理念",md:"thinking_in_omi"}]}],en:[{title:"QUICK START",currentIndex:0,list:[{name:"Installation",md:"installation"},{name:"Hello World",md:"hello_world"},{name:"Components",md:"components"},{name:"Communication",md:"communication"},{name:"Lifecycle",md:"lifecycle"},{name:"Handling Events",md:"events"},{name:"Conditional Rendering",md:"condition"},{name:"Loop",md:"loop"},{name:"Forms",md:"form"},{name:"Inheritance",md:"inherit"},{name:"Templates",md:"template"},{name:"Get DOM",md:"get_dom"},{name:"Plugin",md:"plugin"},{name:"Thinking in Omi",md:"thinking_in_omi"}]}]}},i={versions:function(){var n=navigator.userAgent;navigator.appVersion;return{trident:n.indexOf("Trident")>-1,presto:n.indexOf("Presto")>-1,webKit:n.indexOf("AppleWebKit")>-1,gecko:n.indexOf("Gecko")>-1&&n.indexOf("KHTML")==-1,mobile:!!n.match(/AppleWebKit.*Mobile.*/),ios:!!n.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:n.indexOf("Android")>-1||n.indexOf("Linux")>-1,iPhone:n.indexOf("iPhone")>-1,iPad:n.indexOf("iPad")>-1,webApp:n.indexOf("Safari")==-1}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()};(i.versions.mobile||i.versions.ios||i.versions.android||i.versions.iPhone||i.versions.iPad)&&(t.isMobile=!0),e.default=t},function(n,e,t){function i(n){return t(o(n))}function o(n){return a[n]||function(){throw new Error("Cannot find module '"+n+"'.")}()}var a={"./README.md":13,"./cn_communication.md":14,"./cn_components.md":15,"./cn_condition.md":16,"./cn_events.md":17,"./cn_form.md":18,"./cn_get_dom.md":19,"./cn_hello_world.md":20,"./cn_inherit.md":21,"./cn_installation.md":22,"./cn_lifecycle.md":23,"./cn_loop.md":24,"./cn_plugin.md":25,"./cn_pr_nearby.md":26,"./cn_template.md":27,"./cn_thinking_in_omi.md":28,"./deep_in/README.md":29,"./deep_in/cn_env.md":30,"./deep_in/cn_hello.md":31,"./deep_in/cn_nearby.md":32,"./deep_in/cn_omi-cli.md":33,"./en_communication.md":34,"./en_components.md":35,"./en_condition.md":36,"./en_events.md":37,"./en_form.md":38,"./en_get_dom.md":39,"./en_hello_world.md":40,"./en_inherit.md":41,"./en_installation.md":42,"./en_lifecycle.md":43,"./en_loop.md":44,"./en_plugin.md":45,"./en_template.md":46,"./en_thinking_in_omi.md":47};i.keys=function(){return Object.keys(a)},i.resolve=o,n.exports=i,i.id=12},function(n,e){n.exports='module.exports = "## [Docs Website](https://alloyteam.github.io/omi/website/docs.html)\\n\\n### Usage\\n* [安装](./cn_installation.md)\\n* [Hello World](./cn_hello_world.md)\\n* [组件](./cn_components.md)\\n* [组件通讯](./cn_communication.md)\\n* [生命周期](./cn_lifecycle.md)\\n* [事件处理](./cn_events.md)\\n* [条件判断](./cn_condition.md)\\n* [循环遍历](./cn_loop.md)\\n* [表单](./cn_form.md)\\n* [继承](./cn_inherit.md)\\n* [模板切换](./cn_template.md)\\n* [获取DOM节点](./cn_get_dom.md)\\n* [插件体系](./cn_plugin.md)\\n* [Omi理念](./cn_thinking_in_omi.md)\\n\\n### Usage(en-us)\\n* [installation](./en_installation.md)\\n* [Hello World](./en_hello_world.md)\\n* [components](./en_components.md)\\n* [communication](./en_communication.md)\\n* [lifecycle](./en_lifecycle.md)\\n* [events](./en_events.md)\\n* [condition](./en_condition.md)\\n* [loop](./en_loop.md)\\n* [form](./en_form.md)\\n* [inherit](./en_inherit.md)\\n* [template](./en_template.md)\\n\\n"';
},function(n,e){n.exports='module.exports = "<h2 id=\\"组件通讯\\">组件通讯</h2>\\n\\n[Omi框架](https://github.com/AlloyTeam/omi)组建间的通讯非常遍历灵活，因为有许多可选方案进行通讯：\\n\\n* 通过在组件上声明 data-* 传递给子节点 \\n* 通过在组件上声明 data 传递给子节点 （支持复杂数据类型的映射）\\n* 父容器设置 childrenData 自动传递给子节点\\n* 声明 group-data 传递（支持复杂数据类型的映射）\\n* 完全面向对象，可以非常容易地拿到对象的实例，之后可以设置实例属性和调用实例的方法\\n\\n所以通讯变得畅通无阻，下面一一来举例说明。\\n\\n### data-*通讯 \\n\\n```js\\nclass Hello extends Omi.Component {\\n    constructor(data) {\\n      super(data);\\n    }\\n    style () {\\n      return  `\\n      h1{\\n      \\tcursor:pointer;\\n      }\\n      `;\\n    }\\n    handleClick(target, evt){\\n      alert(target.innerHTML);\\n    }\\n    render() {\\n      return  `\\n      <div>\\n      \\t<h1 onclick=\\"handleClick(this, event)\\">Hello ,{{name}}!</h1>\\n      </div>\\n  \\t\\t`;\\n    }\\n}\\n\\nOmi.makeHTML(\'Hello\', Hello);\\n\\nclass App extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n  \\n    render() {\\n        return  `\\n        <div>\\n            <Hello data-name=\\"Omi\\" />\\n        </div>\\n        `;\\n    }\\n}\\n\\nOmi.render(new App(),\\"#container\\");\\n```\\n\\n一般data-*用来传递值类型，如string、number。值得注意的是，通过data-*接收到的数据类型都是string，需要自行转成number类型。\\n通常情况下，data-*能满足我们的要求，但是遇到复杂的数据类型是没有办法通过大量data-*去表达，所以可以通过data通讯，请往下看。\\n\\n### data通讯 \\n\\n如上面代码所示，通过 data-name=\\"Omi\\"可以把name传递给子组件。下面的代码也可以达到同样的效果。\\n\\n```js\\n...\\nclass App extends Omi.Component {\\n    constructor(data) {\\n      super(data);\\n      this.helloData = { name : \'Omi\' };\\n    }\\n  \\n    render() {\\n        return  `\\n        <div>\\n            <Hello data=\\"helloData\\" />\\n        </div>\\n        `;\\n    }\\n}\\n\\nOmi.render(new App(),\\"#container\\");\\n```\\n\\n使用data声明，会去组件的instance（也就是this）下找对应的属性，this下可以挂载任意复杂的对象。所以这也就突破了data-*的局限性。\\n\\n如果instance下面的某个属性下面的某个属性下面的某个数组的第一个元素的某个属性要作为data传递Hello怎么办？\\n没关系，data声明是支持复杂类型的，使用方式如下:\\n\\n```js\\n...\\nclass App extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n        this.complexData ={\\n            a:{\\n                b:{\\n                    c:[\\n                        {\\n                            e:[{\\n                                name:\'ComplexData Support1\'\\n                            },{\\n                                name:\'ComplexData Support2\'\\n                            }]\\n                        },\\n                        {\\n                            name: \'ComplexData Support3\'\\n                        }\\n                    ]\\n                }\\n            }\\n        };\\n    }\\n  \\n    render() {\\n        return  `\\n        <div>\\n            <Hello data=\\"complexData.a.b.c[1]\\" />\\n        </div>\\n        `;\\n    }\\n}\\n...\\n```\\n\\n<a href=\\"http://alloyteam.github.io/omi/website/redirect.html?type=data_complex\\" target=\\"_blank\\">点击这里→data映射复杂数据</a>\\n\\n### childrenData通讯\\n\\n```js\\n...\\nclass App extends Omi.Component {\\n    constructor(data) {\\n      super(data);\\n      this.childrenData = [{ name : \'Omi\' } , { name : \'dntzhang\' }];\\n    }\\n  \\n    render() {\\n        return  `\\n        <div>\\n            <Hello  />\\n            <Hello  />\\n        </div>\\n        `;\\n    }\\n}\\n\\nOmi.render(new App(),\\"#container\\");\\n```\\n\\n使用this.childrenData传递data给子组件，childrenData是一个数组类型，所以支持同时给多个组件传递data，与render里面的组件会一一对应上。\\n\\n### group-data通讯\\n\\nchildrenData的方式可以批量传递数据给组件，但是有很多场景下data的来源不一定非要都从childrenData来，childrenData是个数组，会和组件的顺序一一对应，这就给不同传递方式的data必须全部集中的childrenData中，非常不方便。group-data专门为解决上面的痛点而生，专门是为了给一组组件批量传递data。\\n\\n```js\\nimport Hello from \'./hello.js\';\\n\\n\\nOmi.makeHTML(\'Hello\', Hello);\\n\\nclass App extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n        this.testData = [{name: \'Omi\'}, {name: \'dntzhang\'}, {name: \'AlloyTeam\'}];\\n    }\\n\\n    render() {\\n        return  `\\n        <div>\\n            <Hello group-data=\\"testData\\" />\\n            <Hello group-data=\\"testData\\" />\\n            <Hello group-data=\\"testData\\" />\\n        </div>\\n        `;\\n\\n    }\\n}\\n\\nOmi.render(new App(),\\"#container\\");\\n```\\n\\n只需要在声明的子组件上标记group-data，就会去当前组件的instance（也就是this）下面找对应的属性，然后根据当前的位置，和对应数组的位置会一一对应起来。\\n\\n运行结果如下：\\n![](http://images2015.cnblogs.com/blog/105416/201702/105416-20170216110701535-1698390390.png)\\n\\n<a href=\\"http://alloyteam.github.io/omi/website/redirect.html?type=group_data\\" target=\\"_blank\\">点击这里→group-data</a>\\n\\n同样group-data支持复杂数据类型的映射，需要注意的是，group-data映射的终点必须是一个数组:\\n\\n```js\\nimport Hello from \'./hello.js\';\\n\\n\\nOmi.makeHTML(\'Hello\', Hello);\\n\\nclass App extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n        this.complexData ={\\n            a:{\\n                b:{\\n                    c:[\\n                        {\\n                            e:[{\\n                                name:\'ComplexData Support1\'\\n                            },{\\n                                name:\'ComplexData Support2\'\\n                            }]\\n                        },\\n                        {\\n                            name: \'ComplexData Support3\'\\n                        }\\n                    ]\\n                }\\n            }\\n        };\\n    }\\n\\n    render() {\\n        return  `\\n        <div>\\n            <Hello group-data=\\"complexData.a.b.c[0].e\\" />\\n            <Hello group-data=\\"complexData.a.b.c[0].e\\" />\\n        </div>\\n        `;\\n\\n    }\\n}\\n\\nOmi.render(new App(),\\"#container\\");\\n```\\n\\n<a href=\\"http://alloyteam.github.io/omi/website/redirect.html?type=group_data_complex\\" target=\\"_blank\\">点击这里→group-data映射复杂数据</a>\\n\\n### 通过对象实例\\n\\n```js\\n...\\nclass App extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n    \\n    installed(){\\n        this.hello.data.name = \\"Omi\\";\\n        this.update()\\n    }\\n  \\n    render() {\\n        return  `\\n        <div>\\n            <Hello name=\\"hello\\" />\\n        </div>\\n        `;\\n    }\\n}\\n\\nOmi.render(new App(),\\"#container\\");\\n```\\n\\n### 通过omi-id\\n\\n```js\\n...\\nclass App extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n    \\n    installed(){\\n        Omi.get(\\"hello\\").data.name = \\"Omi\\";\\n        this.update()\\n    }\\n  \\n    render() {\\n        return  `\\n        <div>\\n            <Hello omi-id=\\"hello\\" />\\n        </div>\\n        `;\\n\\n    }\\n}\\n\\nOmi.render(new App(),\\"#container\\");\\n```\\n\\n通过在组件上声明omi-id，在程序任何地方拿到该对象的实例。这个可以算是跨任意组件通讯神器。\\n\\n### 特别强调\\n\\n* 通过childrenData或者data方式通讯都是一锤子买卖。后续变更只能通过组件实例下的data属性去更新组件\\n* 通过data-✼通讯也是一锤子买卖。后续变更只能通过组件实例下的data属性去更新组件。\\n* 关于data-✼通讯也可以不是一锤子买卖，但是要设置组件实例的dataFirst为false，这样的话data-✼就会覆盖组件实例的data对应的属性\\n\\n关于上面的第三条也就是这样的逻辑伪代码：\\n```js\\nif(this.dataFirst){\\n    this.data = Object.assign({},data-✼ ,this.data);\\n}else{\\n    this.data = Object.assign({},this.data, data-✼);\\n}\\n```"'},function(n,e){n.exports='module.exports = "<h2 id=\\"组件\\">组件</h2>\\n\\n[Omi框架](https://github.com/AlloyTeam/omi)完全基于组件体系设计，我们希望开发者可以像搭积木一样制作Web程序，一切皆是组件，组件也可以嵌套子组件形成新的组件，新的组件又可以当作子组件嵌套至任意组件形成新的组件...\\n\\n![](http://images2015.cnblogs.com/blog/105416/201702/105416-20170210093427338-1536910080.png)\\n\\n## 简单组件\\n\\n这里使用Todo的例子来讲解Omi组件体系的使用。\\n\\n```js\\nclass Todo extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n    add (evt) {\\n        evt.preventDefault();\\n        this.data.items.push(this.data.text);\\n        this.data.text = \'\';\\n        this.update();\\n    }\\n\\n    style () {\\n        return `\\n        h3 { color:red; }\\n        button{ color:green;}\\n        `;\\n    }\\n\\n    handleChange(target){\\n        this.data.text = target.value;\\n    }\\n\\n    render () {\\n        return `<div>\\n                    <h3>TODO</h3>\\n                    <ul> {{#items}} <li>{{.}}</li> {{/items}}</ul>\\n                    <form onsubmit=\\"add(event)\\" >\\n                        <input type=\\"text\\" onchange=\\"handleChange(this)\\"  value=\\"{{text}}\\"  />\\n                        <button>Add #{{items.length}}</button>\\n                    </form>\\n                </div>`;\\n    }\\n}\\n\\nOmi.render(new Todo({ items: [] ,text : \'\' }),\\"body\\");\\n```\\n\\n组件生成的HTML最终会插入到body中。上面的例子展示了Omi的部分特性:\\n\\n- data传递: new Todo(data,..)的data可以直接提供给render方法里的模板\\n- 局部CSS: h3只对render里的h3生效，不会污染外面的h3；button也是同样的\\n- 声明式事件绑定: onchange调用的就是组件内的handleChange，this可以拿到当然的DOM元素,还可以拿到当前的event\\n- 需要手动调用update方法才能更新组件\\n\\n这里需要特别强调的是，为了更加的自由和灵活度。Omi没有内置数据变更的自动更新，需要开发者自己调用update方法。\\n\\n<a href=\\"http://alloyteam.github.io/omi/website/redirect.html?type=todo\\" target=\\"_blank\\">点击这里→在线试试</a>\\n\\n## 组件嵌套\\n\\n如果页面超级简单的话，可以没有组件嵌套。但是绝大部分Web网页或者Web应用，需要嵌套定义的组件来完成所有的功能和展示。比如上面的Todo，我们也是可以抽取出List。\\n这样让程序易维护、可扩展、方便复用。如，我们抽取出List：\\n\\n```js\\nclass List extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n\\n    render () {\\n        return `<ul> {{#items}} <li>{{.}}</li> {{/items}}</ul>`;\\n    }\\n}\\n```\\n\\n怎么使用这个List？我们需要使用Omi.makeHTML把List制作成可以声明式的标签，在render方法中就能直接使用该标签。如下所示：\\n\\n```js\\nimport List from \'./list.js\';\\n\\nOmi.makeHTML(\'List\', List);\\n\\nclass Todo extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n        this.data.length = this.data.items.length;\\n        this.listData = { items : this.data.items };\\n    }\\n\\n    add (evt) {\\n        evt.preventDefault();\\n        this.list.data.items.push(this.data.text);\\n        this.data.length = this.list.data.items.length;\\n        this.data.text = \'\';\\n        this.update();\\n    }\\n\\n    style () {\\n        return `\\n        h3 { color:red; }\\n        button{ color:green;}\\n        `;\\n    }\\n\\n    handleChange(target){\\n        this.data.text = target.value;\\n    }\\n\\n    render () {\\n        return `<div>\\n                    <h3>TODO</h3>\\n                    <List  name=\\"list\\" data=\\"listData\\" />\\n                    <form onsubmit=\\"add(event)\\" >\\n                        <input type=\\"text\\" onchange=\\"handleChange(this)\\"  value=\\"{{text}}\\"  />\\n                        <button>Add #{{length}}</button>\\n                    </form>\\n                </div>`;\\n    }\\n}\\n```\\n\\n* 第3行，通过makeHTML方法把组件制作成可以在render中使用的标签。当然Omi.makeHTML(\'List\', List);也可以写在List组件的代码下面。\\n* 第9行，在父组件上定义listData属性用来传递给子组件。\\n* 第34行，在render方法中使用List组件。其中name方法可以让你在代码里通过this快速方法到该组件的实例。data=\\"listData\\"可以让你把this.listData传递给子组件。\\n\\n需要注意的是，父组件的this.listData会被通过Object.assign浅拷贝到子组件。\\n这样做的目的主要是希望以后DOM的变更都尽量修改子组件自身的data，然后再调用其update方法，而不是去更改父组件的listData。\\n\\n关于Omi组件通讯其实有4种方案，这个后续教程会专门来讲。\\n\\n<a href=\\"http://alloyteam.github.io/omi/website/redirect.html?type=todo_nest\\" target=\\"_blank\\">点击这里→在线试试</a>\\n"'},function(n,e){n.exports="module.exports = \"<h2 id=\\\"条件判断\\\">条件判断</h2>\\n\\n我们经常需要根据不同的状态呈现不同的界面，比如有的用户是vip要显示vip的Logo。Omi有许多种方式满足你的要求。\\n\\n### 方式一\\n\\n```js\\nclass ConditionTest extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n\\n    render () {\\n        return `{{#isVip}}\\n                    <div>you are VIP.</div>\\n                {{/isVip}}\\n                {{^isVip}}\\n                    <div>you are not VIP.</div>\\n                {{/isVip}}`;\\n    }\\n}\\n```\\n\\n上面完全使用mustachejs的条件判断的语法。当然Omi不强制你使用mustachejs。你可以是omi.lite.js，然后重写Omi.template方法去使用任意你喜爱的模板引擎。\\n\\n### 方式二\\n\\n```js\\nclass ConditionTest extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n\\n    render () {\\n        if(this.data.isVip){\\n            return '<div>you are VIP.</div>';\\n        }else{\\n            return '<div>you are not VIP.</div>';\\n        }\\n    }\\n}\\n```\\n\\nrender就是提供了很好的可编程性，里面可以写任意js逻辑代码。对了，差点忘了，style方法里面也可以写js逻辑的。\\n\\n```js\\nclass ConditionTest extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n\\n    style (){\\n        if(this.data.isVip){\\n            return 'div{ color : red; }';\\n        }else{\\n            return 'div{ color : green; }';\\n        }\\n    }\\n\\n    render () {\\n        if(this.data.isVip){\\n            return '<div>you are VIP.</div>';\\n        }else{\\n            return '<div>you are not VIP.</div>';\\n        }\\n    }\\n}\\n```\""},function(n,e){n.exports='module.exports = "<h2 id=\\"事件处理\\">事件处理</h2>\\n\\nOmi的事件分内置事件和自定义事件。在内置事件处理方面巧妙地利用了浏览器自身的管线机制，可以通过event和this轻松拿到事件实例和触发该事件的元素。\\n\\n### 内置事件\\n\\n什么算内置事件？只要下面正则能匹配到就算内置事件。\\n\\n```js\\non(abort|blur|cancel|canplay|canplaythrough|change|click|close|contextmenu|cuechange|dblclick|drag|dragend|dragenter|dragleave|dragover|dragstart|drop|durationchange|emptied|ended|error|focus|input|invalid|keydown|keypress|keyup|load|loadeddata|loadedmetadata|loadstart|mousedown|mouseenter|mouseleave|mousemove|mouseout|mouseover|mouseup|mousewheel|pause|play|playing|progress|ratechange|reset|resize|scroll|seeked|seeking|select|show|stalled|submit|suspend|timeupdate|toggle|volumechange|waiting|autocomplete|autocompleteerror|beforecopy|beforecut|beforepaste|copy|cut|paste|search|selectstart|wheel|webkitfullscreenchange|webkitfullscreenerror|touchstart|touchmove|touchend|touchcancel|pointerdown|pointerup|pointercancel|pointermove|pointerover|pointerout|pointerenter|pointerleave)\\n```\\n\\n内置事件怎么绑定？如下所示：\\n\\n```js\\nclass EventTest extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n\\n    handleClick(dom, evt){\\n        alert(dom.innerHTML);\\n    }\\n\\n    render () {\\n        return `<div onclick=\\"handleClick(this, event)\\">Hello, Omi!</div>`;\\n    }\\n}\\n```\\n\\n### 自定义事件\\n\\n开发者自己定义的组件的事件，称为自定义事件，自定义事件必须以on开头，即onXXXX的格式，不然Omi识别不到。这里拿分页作为例子：\\n\\n```js\\nimport Omi from \'../../src/index.js\';\\nimport Pagination from \'./pagination.js\';\\nimport Content from \'./content.js\';\\n\\nOmi.makeHTML(\'Pagination\', Pagination);\\nOmi.makeHTML(\'Content\', Content);\\n\\nclass Main extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n\\n    installed(){\\n        this.content.goto(this.pagination.data.currentPage+1);\\n    }\\n    handlePageChange(index){\\n        this.content.goto(index+1);\\n    }\\n\\n    render () {\\n        return `<div>\\n                    <h1>Pagination Example</h1>\\n                    <Content name=\\"content\\" />\\n                    <Pagination\\n                        name=\\"pagination\\"\\n                        data-total=\\"100\\"\\n                        data-page-size=\\"10\\"\\n                        data-num-edge=\\"1\\"\\n                        data-num-display=\\"4\\"　　　　　\\n                        onPageChange=\\"handlePageChange\\" />\\n                </div>`;\\n    }\\n}\\n\\nOmi.render( new Main(),\'body\');\\n```\\n\\n如上面的onPageChange就是自定义事件，触发会执行handlePageChange。onPageChange方法是在Pagination中执行：\\n\\n```js\\nimport Omi from \'../../src/index.js\';\\n\\nclass Pagination extends Omi.Component {\\n    ...\\n    ...\\n    ...\\n            linkTo: \\"#\\",\\n            prevText: \\"Prev\\",\\n            nextText: \\"Next\\",\\n            ellipseText: \\"...\\",\\n            prevShow: true,\\n            nextShow: true,\\n            onPageChange: function () { return false; }\\n        }, this.data);\\n\\n        this.pageNum = Math.ceil(this.data.total / this.data.pageSize);\\n    }\\n    goto (index,evt) {\\n        evt.preventDefault();\\n        this.data.currentPage=index;\\n        this.update();\\n        this.data.onPageChange(index);\\n    }\\n    ...\\n    ...\\n    ...\\n}\\n```\\n\\n这里取了Pagination组件的部分代码。高亮的就是执行onPageChange的地方。\\n\\n### 相关地址\\n\\n* [演示地址](http://alloyteam.github.io/omi/example/pagination/)\\n* [源码地址](https://github.com/AlloyTeam/omi/tree/master/example/pagination)\\n"'},function(n,e){n.exports='module.exports = "<h2 id=\\"表单\\">表单</h2>\\n\\nOmi让一些表单操控起来更加方便，特别是select！\\n\\n### select标签\\n\\n以前，我们需要像如下的方式选中一个选项：\\n\\n```html\\n<select>\\n  <option value=\\"grapefruit\\">Grapefruit</option>\\n  <option value=\\"lime\\">Lime</option>\\n  <option selected value=\\"coconut\\">Coconut</option>\\n  <option value=\\"mango\\">Mango</option>\\n</select>\\n```\\n\\n第三个option由于加上了selected，所有会被选中。这样带来的问题就是，开发者写的程序可能要操遍历每个option。而使用Omi，你只需要这样子：\\n\\n```html\\n<select value=\\"coconut\\">\\n  <option value=\\"grapefruit\\">Grapefruit</option>\\n  <option value=\\"lime\\">Lime</option>\\n  <option value=\\"coconut\\">Coconut</option>\\n  <option value=\\"mango\\">Mango</option>\\n</select>\\n```\\n\\n这样就能达到同样的效果。比如你想选择第一项：\\n\\n```html\\n<select value=\\"grapefruit\\">\\n  <option value=\\"grapefruit\\">Grapefruit</option>\\n  <option value=\\"lime\\">Lime</option>\\n  <option value=\\"coconut\\">Coconut</option>\\n  <option value=\\"mango\\">Mango</option>\\n</select>\\n```\\n\\n是不是非常方便？\\n\\n###  举个例子\\n\\n```js\\nclass FormTest extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n       \\n    }\\n\\n    handleChange(target){\\n      console.log(target.value)\\n      this.data.value = target.value;\\n    }\\n\\n    handleSubmit(evt) {\\n      alert(\'Your favorite flavor is: \' + this.data.value);\\n      evt.preventDefault();\\n    }\\n  \\n    render () {\\n        return `\\n        <form onsubmit=\\"handleSubmit(event)\\">\\n        <label>\\n          Pick your favorite La Croix flavor:\\n          <select value=\\"{{value}}\\" onchange=\\"handleChange(this)\\">\\n            <option value=\\"grapefruit\\">Grapefruit</option>\\n            <option value=\\"lime\\">Lime</option>\\n            <option value=\\"coconut\\">Coconut</option>\\n            <option value=\\"mango\\">Mango</option>\\n          </select>\\n        </label>\\n        <input type=\\"submit\\" value=\\"Submit\\" />\\n      </form>`;\\n    }\\n}\\n\\nOmi.render(new FormTest({ value: \'mango\' }),\'#container\');\\n```\\n\\n<a href=\\"http://alloyteam.github.io/omi/website/redirect.html?type=form\\" target=\\"_blank\\">点击这里→在线试试</a>"'},function(n,e){n.exports='module.exports = "<h2 id=\\"获取DOM节点\\">获取DOM节点</h2>\\n\\n虽然绝大部分情况下，开发者不需要去查找获取DOM，但是还是有需要获取DOM的场景，所以Omi提供了方便获取DOM节点的方式。\\n\\n### ref和refs\\n\\n```js\\nclass Hello extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n    style () {\\n        return  `\\n            h1{\\n                cursor:pointer;\\n            }\\n         `;\\n    }\\n    handleClick(){\\n        alert(this.refs.abc.innerHTML);\\n    }\\n    render() {\\n        return  `\\n        <div>\\n            <h1 ref=\\"abc\\" onclick=\\"handleClick()\\">Hello ,{{name}}!</h1>\\n        </div>\\n        `;\\n\\n    }\\n}\\n\\nOmi.render(new Hello({ name : \\"Omi\\" }),\\"#container\\");\\n```\\n\\n可以看到通过在HTML中标记ref为abc，那么就通过this.refs.abc访问到该DOM节点。\\n\\n<a href=\\"http://alloyteam.github.io/omi/website/redirect.html?type=ref\\" target=\\"_blank\\">点击这里→在线试试</a>"'},function(n,e){n.exports='module.exports = "<h2 id=\\"Hello World\\">Hello World</h2>\\n\\n你可以使用ES6+或者ES5的方式编写Omi程序来搭建你的Web程序。\\n\\n### Hello World with ES6+\\n\\n你可以使用 [webpack](https://webpack.github.io/) 打包工具，webpack会把你的模块代码打成一个很小的包，优化加载时间。使用[babel](http://babeljs.io/)，让你立刻马上使用ES6+来编写你的web程序。你只需要在webpack配置的module设置好[babel-loader](https://github.com/babel/babel-loader)便可。\\n\\n一个Omi的简短的例子如下所示:\\n\\n```js\\nimport Omi from \'./omi.js\';\\n\\nclass Hello extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n    style () {\\n        return  `\\n            h1{\\n                cursor:pointer;\\n            }\\n         `;\\n    }\\n    handleClick(target, evt){\\n        alert(target.innerHTML);\\n    }\\n    render() {\\n        return  `\\n        <div>\\n            <h1 onclick=\\"handleClick(this, event)\\">Hello ,{{name}}!</h1>\\n        </div>\\n        `;\\n\\n    }\\n}\\n\\nOmi.render(new Hello({ name : \\"Omi\\" }),\\"#container\\");\\n```\\n\\n组件生成的HTML最终会插入到#container中。上面的例子展示了Omi的部分特性:\\n\\n- data传递: new Hello(data,..)的data可以直接提供给render方法里的模板\\n- 局部CSS: h1只对render里的h1生效，不会污染外面的h1\\n- 声明式事件绑定: onclick调用的就是组件内的handleClick，this可以拿到当前的DOM元素,还可以拿到当前的event\\n\\n<a href=\\"http://alloyteam.github.io/omi/website/redirect.html?type=hello\\" target=\\"_blank\\">点击这里→在线试试</a>\\n\\n你可以使用Omi.makeHTML来生成组件标签用于嵌套。\\n```js\\n    Omi.makeHTML(\'Hello\', Hello);\\n```\\n那么你就在其他组件中使用，如\\n```js\\n  ...\\n  render() {\\n        return  `\\n        <div>\\n            <div>Test</div>\\n            <Hello data-name=\\"Omi\\" />\\n        </div>\\n        `;\\n    }\\n    ...\\n```\\n\\n<a href=\\"http://alloyteam.github.io/omi/website/redirect.html?type=hello_nest\\" target=\\"_blank\\">点击这里→在线试试</a>\\n\\n###  Hello World with ES5\\n\\n当然Omi没有抛弃ES5的用户。你可以使用ES5的方式编写Omi。如，在你的HTML中引用omi.js：\\n\\n```html\\n<script src=\\"omi.js\\"></script>\\n```\\n\\n然后：\\n\\n```js\\nvar Hello =  Omi.create(\\"Hello\\", {\\n    style: function () {\\n        return \\"h1{ cursor:pointer }\\";\\n    },\\n    handleClick: function (dom) {\\n        alert(dom.innerHTML)\\n    },\\n    render: function () {\\n        return \' <div>\\\\\\n                        <h1 onclick=\\"handleClick(this, event)\\">\\\\\\n                            Hello ,{{name}}!\\\\\\n                        </h1>\\\\\\n                </div>\'\\n    }\\n});\\n\\nvar Test =  Omi.create(\\"Test\\", {\\n    render: function () {\\n        return \'<div>\\\\\\n                    <div>Test</div>\\\\\\n                    <Hello data-name=\\"Omi\\" />\\\\\\n                </div>\'\\n    }\\n});\\n\\nOmi.render(new Test(),\'#container\');\\n```\\n当然除了在HTML引入脚本，你还可以使用AMD、CMD或者CommonJS的方式引入Omi，这里就不再一一列举。\\n\\n需要注意的是，Omi.create的第一个参数Hello是用来生成Tag Name的。你可以在其他地方嵌入你的组件。如：\\n\\n```js\\n  ...\\n  render:function() {\\n        return  \'<div>\\\\\\n                    <Hello  data-name=\\"Omi1\\" />\\\\\\n                    <div>Test XXXX</div>\\\\\\n                    <Hello  data-name=\\"Omi2\\" />\\\\\\n                </div>\';\\n    }\\n    ...\\n```\\n\\n<a href=\\"http://alloyteam.github.io/omi/website/redirect.html?type=hello_es5\\" target=\\"_blank\\">点击这里→在线试试</a>\\n"'},function(n,e){n.exports='module.exports = "<h2 id=\\"继承\\">继承</h2>\\n\\n通过继承机制，可以利用已有的数据类型来定义新的数据类型。所定义的新的数据类型不仅拥有新定义的成员，而且还同时拥有旧的成员。我们称已存在的用来派生新类的类为基类，又称为父类。由已存在的类派生出的新类称为派生类，又称为子类。\\n\\n### 举个例子\\n\\n```js\\nclass Hello extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n    style () {\\n        return  `\\n            div{\\n                cursor:pointer;\\n            }\\n         `;\\n    }\\n    handleClick(target, evt){\\n        alert(target.innerHTML);\\n    }\\n    render() {\\n       return  \' <div onclick=\\"handleClick(this,event)\\">Hello {{name}}!</div>\'\\n    }\\n}\\n\\nclass SubHello extends Hello {\\n    constructor(data) {\\n        super(data);\\n    }\\n}\\n\\nOmi.render(new SubHello({ name : \'Omi\' }),\'#container\');\\n```\\n\\n<a href=\\"http://alloyteam.github.io/omi/website/redirect.html?type=inherit\\" target=\\"_blank\\">点击这里→在线试试</a>\\n\\n###  ES5下的继承\\n\\n```js\\nvar Hello =  Omi.create(\\"Hello\\",{\\n  render:function(){\\n    return  \' <div>Hello {{name}}!</div>\'\\n  }\\n})\\n\\nvar SubHello =  Omi.create(\\"SubHello\\",Hello,{ });\\n\\n\\nOmi.render(new SubHello({ name : \'Omi\' }),\'#container\');\\n```\\n\\n<a href=\\"http://alloyteam.github.io/omi/website/redirect.html?type=inherit_es5\\" target=\\"_blank\\">点击这里→在线试试</a>"'},function(n,e){n.exports='module.exports = "<h2 id=\\"安装\\">安装</h2>\\n\\n[Omi](https://github.com/AlloyTeam/omi)（读音 / [ˈomɪ] /, 汉字类似于 欧米） 是一款用于创建用户界面的组件化框架，开放并且现代，故得名：Omi。\\n\\n### 安装 Omi\\n\\n我们推荐使用  [npm](https://www.npmjs.com/) 来管理你的前端依赖.\\n\\n通过npm安装Omi，你只需要执行下面的命令:\\n\\n``` js\\nnpm install omi\\n```\\n\\n## omi-cli\\n\\n你也可以通过omi-cli去初始化你的项目:\\n\\n``` js\\n$ npm install omi-cli -g       //安装cli\\n$ omi init your_project_name   //初始化项目，你也可以在一个空的文件夹下执行 omi init\\n$ cd your_project_name         //如果你是在空文件夹下执行的 omi init。请无视这条命令\\n$ npm run dev                  //开发\\n$ npm run dist                 //部署发布\\n```"'},function(n,e){n.exports='module.exports = "<h2 id=\\"生命周期\\">生命周期</h2>\\n\\n|name   |avatars   |company   | \\n|---|---|---|\\n| constructor  | 构造函数 | new的时候 |\\n| install  | 初始化安装，这可以拿到用户传进的data进行处理 | 实例化 |\\n| installed    | 安装完成，HTML已经插入页面之后执行  |  实例化  |\\n| uninstall | 卸载组件。执行remove方法会触发该事件    |   销毁时 |\\n| beforeUpdate | 更新前     |   存在期 |\\n| afterUpdate | 更新后     |    存在期 |\\n\\n## 示意图\\n\\n![lc](http://images2015.cnblogs.com/blog/105416/201701/105416-20170119153018546-1566368987.png)\\n       \\n### 举个例子\\n\\n```js\\nclass Timer extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n\\n    install () {\\n        this.data = {secondsElapsed: 0};\\n    }\\n\\n    tick() {\\n        this.data.secondsElapsed++;\\n        this.update();\\n    }\\n\\n    installed(){\\n        this.interval = setInterval(() => this.tick(), 1000);\\n    }\\n\\n    uninstall() {\\n        clearInterval(this.interval);\\n    }\\n\\n\\n    style () {\\n        return `\\n        .num { color:red; }\\n        `;\\n    }\\n\\n    render () {\\n        return `<div>Seconds Elapsed:<span class=\\"num\\"> {{secondsElapsed}}</span></div>`;\\n    }\\n}\\n```\\n\\n<a href=\\"http://alloyteam.github.io/omi/website/redirect.html?type=lifecycle\\" target=\\"_blank\\">点击这里→在线试试</a>\\n"'},function(n,e){n.exports='module.exports = "<h2 id=\\"循环遍历\\">循环遍历</h2>\\n\\n下面介绍mustache.js的方式和javascript遍历的方式。\\n\\n### 方式一\\n\\n```js\\nclass List extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n\\n    render () {\\n        return `<div>\\n                    <ul> \\n                        {{#items}} \\n                        <li id=\\"{{id}}\\">{{text}}</li> \\n                        {{/items}}\\n                    </ul>\\n                </div>`;\\n    }\\n}\\n\\nOmi.render(new List({\\n    items: [\\n        {id: 1, text: \'Omi\'},\\n        {id: 2, text: \'dntzhang\'},\\n        {id: 3, text: \'AlloyTeam\'}\\n    ]\\n}),\\"body\\");\\n```\\n\\nmustache.js更详细的循环遍历使用可看[https://github.com/janl/mustache.js#non-empty-lists](https://github.com/janl/mustache.js#non-empty-lists)。 比如还支持：\\n\\n* 如果items的每一项是字符串，可以直接**{{.}}**的方式来输出每一项\\n* 循环的时候调用定义好的函数\\n\\n<a href=\\"http://alloyteam.github.io/omi/website/redirect.html?type=list\\" target=\\"_blank\\">点击这里→在线试试</a>\\n\\n### 方式二\\n\\n既然ES6+了，当然可以使用${ }以及Array的map方法: \\n\\n```js\\nclass List extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n\\n    render() {\\n        return `<div>\\n                    <ul>\\n                    ${this.data.items.map(item =>\\n                         `<li id=\\"${item.id}\\">${item.text}</li>`\\n                    ).join(\'\')}\\n                    </ul>\\n                </div>`;\\n    }\\n}\\n\\nOmi.render(new List({\\n    items: [\\n        {id: 1, text: \'Omi\'},\\n        {id: 2, text: \'dntzhang\'},\\n        {id: 3, text: \'AlloyTeam\'}\\n    ]\\n}),\\"body\\");\\n```\\n\\n你将在页面看到如下效果:\\n\\n![pv](http://images2015.cnblogs.com/blog/105416/201701/105416-20170122095724129-2059595233.png)\\n\\n<a href=\\"http://alloyteam.github.io/omi/website/redirect.html?type=list2\\" target=\\"_blank\\">点击这里→在线试试</a>"'},function(n,e){n.exports="module.exports = \"<h2 id=\\\"插件体系\\\">插件体系</h2>\\n\\n[Omi](https://github.com/AlloyTeam/omi)是Web组件化框架，怎么又来了个插件的概念？\\n\\n可以这么理解: Omi插件体系可以赋予dom元素一些能力，并且可以和组件的实例产生关联。\\n\\n### omi-drag\\n\\n且看这个例子:\\n\\n<a href=\\\"http://alloyteam.github.io/omi/website/redirect.html?type=plugin\\\" target=\\\"_blank\\\">点击这里→在线试试</a>\\n\\n```js\\nimport OmiDrag from './omi-drag.js';\\n\\nOmiDrag.init();\\n\\nclass App extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n\\n    render() {\\n        return  `\\n        <div>\\n            <div omi-drag class=\\\"test\\\">Drag Me</div>\\n        </div>\\n        `;\\n\\n    }\\n\\n    style(){\\n       return `\\n        .test{\\n            width:100px;\\n            height:100px;\\n            color:white;\\n            line-height:90px;\\n            text-align:center;\\n            background-color:#00BFF3;\\n        }\\n        `\\n    }\\n}\\n\\nOmi.render(new App(),\\\"#container\\\");\\n```\\n\\n如上面的代码所示，通过在div上标记omi-drag，这个div就能够被用户使用鼠标拖拽。我们称omi-drag.js为omi插件。\\n是不是非常方便？那么这个omi-drag是怎么实现的？\\n\\n## Omi.extendPlugin\\n\\n核心方法: Omi.extendPlugin( pluginName, handler )\\n\\n下面的代码就是展示了如何通过 Omi.extendPlugin 赋予dom拖拽的能力:\\n\\n```js\\n;(function () {\\n\\n    var OmiDrag = {};\\n    var Omi = typeof require === 'function'\\n        ? require('omi')\\n        : window.Omi;\\n\\n    OmiDrag.init = function(){\\n        Omi.extendPlugin('omi-drag',function(dom, instance){\\n            dom.style.cursor='move';\\n            var isMouseDown = false,\\n                preX = null,\\n                preY = null,\\n                currentX = null,\\n                currentY = null,\\n                translateX = 0,\\n                translateY = 0;\\n\\n            dom.addEventListener('mousedown',function(evt){\\n                isMouseDown = true;\\n                preX = evt.pageX;\\n                preY = evt.pageY;\\n                evt.stopPropagation();\\n            },false);\\n\\n            window.addEventListener('mousemove',function(evt){\\n                if(isMouseDown){\\n                    currentX = evt.pageX;\\n                    currentY = evt.pageY;\\n                    if(preX != null){\\n                        translateX += currentX - preX;\\n                        translateY += currentY - preY;\\n                        dom.style.transform = 'translateX('+translateX+'px) translateY('+translateY+'px)';\\n                    }\\n                    preX = currentX;\\n                    preY = currentY;\\n                    evt.preventDefault();\\n                }\\n            },false);\\n\\n            window.addEventListener('mouseup',function(){\\n                isMouseDown = false;\\n                preX = preY = currentX = currentY = null;\\n            },false);\\n        });\\n    }\\n\\n    OmiDrag.destroy = function(){\\n        delete Omi.plugins['omi-drag'];\\n    };\\n\\n    if (typeof exports == \\\"object\\\") {\\n        module.exports = OmiDrag;\\n    } else if (typeof define == \\\"function\\\" && define.amd) {\\n        define([], function(){ return OmiDrag });\\n    } else {\\n        window.OmiDrag = OmiDrag;\\n    }\\n\\n})();\\n```\\n\\n方法: Omi.extendPlugin( pluginName, handler )\\n\\n其中pluginName为插件的名称\\n其中handler为处理器。handler可以拿到标记了pluginName的dom以及dom所在的组件的实例，即 dom 和 instance。\\n\\n通过 Omi.extendPlugin，可以赋予dom元素一些能力，也可以和组件的实例(instance)产生关联。\\n但是上面的例子没有和instance产生关联，我们接下来试试:\\n\\n## 关联instance\\n\\n我们想在组件里面能够监听到move并且执行回调。如下:\\n\\n```js\\n...\\n...\\nmoveHandler(){\\n    console.log('moving');\\n}\\n\\nrender() {\\n    return  `\\n    <div>\\n        <div omi-drag class=\\\"test\\\">Drag Me</div>\\n    </div>\\n    `;\\n}\\n...\\n```\\n\\n主要被拖动过程中，moveHandler就不断地被执行。插件代码需要修改:\\n\\n```js\\n...\\nwindow.addEventListener('mousemove',function(evt){\\n    if(isMouseDown){\\n        currentX = evt.pageX;\\n        currentY = evt.pageY;\\n        if(preX != null){\\n            translateX += currentX - preX;\\n            translateY += currentY - preY;\\n            dom.style.transform = 'translateX('+translateX+'px) translateY('+translateY+'px)';\\n        }\\n        preX = currentX;\\n        preY = currentY;\\n        evt.preventDefault();\\n        instance.moveHandler(evt);\\n    }\\n},false);\\n```\\n\\n我们在里面增加了instance.moveHandler(evt);方法，用来执行组件实例上的moveHandler方法。\\n这样的话:就是组件的实例(instance)产生关联。但是还是有问题？如果标记了多个omi-drag 就会有问题！如:\\n\\n```js\\n...\\nrender() {\\n    return  `\\n    <div>\\n        <div omi-drag class=\\\"test\\\">Drag Me</div>\\n        <div omi-drag class=\\\"test\\\">Drag Me</div>\\n    </div>\\n    `;\\n}\\n...\\n```\\n\\n通常我们系统每个omi-drag都能对应一个回调函数，如：\\n\\n```js\\n...\\n...\\nmoveHandlerA(){\\n    console.log('moving');\\n}\\n\\nmoveHandlerB(){\\n    console.log('moving');\\n}\\n\\nrender() {\\n    return  `\\n    <div>\\n        <div omi-drag class=\\\"test\\\">Drag Me A</div>\\n        <div omi-drag class=\\\"test\\\">Drag Me B</div>\\n    </div>\\n    `;\\n}\\n...\\n```\\n\\n怎么办？怎么实现？有办法！通过dom传递数据给插件。\\n\\n## 传递数据\\n\\n先来看最后实现的效果:\\n\\n```js\\n...\\n...\\nmoveHandlerA(){\\n    console.log('moving');\\n}\\n\\nmoveHandlerB(){\\n    console.log('moving');\\n}\\n\\nrender() {\\n    return  `\\n    <div>\\n        <div omi-drag class=\\\"test\\\" dragMove=\\\"moveHandlerA\\\" >Drag Me A</div>\\n        <div omi-drag class=\\\"test\\\" dragMove=\\\"moveHandlerB\\\" >Drag Me B</div>\\n    </div>\\n    `;\\n}\\n...\\n```\\n\\nomi-drag修改的地方:\\n\\n```js\\n...\\nvar handlerName = dom.getAttribute('dragMove');\\n\\nwindow.addEventListener('mousemove',function(evt){\\n    if(isMouseDown){\\n        currentX = evt.pageX;\\n        currentY = evt.pageY;\\n        if(preX != null){\\n            translateX += currentX - preX;\\n            translateY += currentY - preY;\\n            dom.style.transform = 'translateX('+translateX+'px) translateY('+translateY+'px)';\\n        }\\n        preX = currentX;\\n        preY = currentY;\\n        evt.preventDefault();\\n        instance[handlerName](evt);\\n    }\\n},false);\\n...\\n```\\n\\n* 通过 var handlerName = dom.getAttribute('dragMove') 拿到dom上声明的dragMove\\n* 通过 instance[handlerName](evt) 去执行对应的方法\\n\\n<a href=\\\"http://alloyteam.github.io/omi/website/redirect.html?type=plugin\\\" target=\\\"_blank\\\">点击这里→在线试试</a>\\n\\n## 更多插件\\n\\n* [omi-finger](https://github.com/AlloyTeam/omi/tree/master/plugins/omi-finger) Omi的[AlloyFinger](https://github.com/AlloyTeam/AlloyFinger)插件，支持各种触摸事件和手势\\n* [omi-transform](https://github.com/AlloyTeam/omi/tree/master/plugins/omi-transform) Omi的[transformjs](http://alloyteam.github.io/AlloyTouch/transformjs/)插件，快速方便地设置DOM的CSS3 Transform属性\\n* [omi-touch](https://github.com/AlloyTeam/omi/tree/master/plugins/omi-touch) Omi的[AlloyTouch](https://github.com/AlloyTeam/AlloyTouch)插件，Omi项目的触摸运动解决方案（支持触摸滚动、旋转、翻页、选择等等）\\n* [omi-jquery-date-picker](https://github.com/AlloyTeam/omi/tree/master/plugins/omi-jquery-date-picker) Omi的时间选择插件，支持各种时间或者时间区域选择\\n\"";
},function(n,e){n.exports='module.exports = "## 写在前面\\nOmi很适合大型复杂的Web页面开发，例如一些Web在线工具的开发。但是制作这种简单的QQ附近用户列表Web页，也不会有大炮哄蚊子的感觉。\\n\\n项目开始之前，实现选择一个脚手架。这个项目用的就是[Omi Github上的scaffolding](https://github.com/AlloyTeam/omi/tree/master/scaffolding)作为其项目脚手架。主要基于 Gulp + Webpack + Babel + BrowserSync 进行开发和部署。（ps：目前脚手架先上github弄下来，pasturn和Aresn正在开发omi-cli，不久就要发布了）\\n\\nGulp用来串联整个流程，Webpack + Babel让你可以写ES6和打包，BrowserSync用来帮你刷浏览器，不用F5了。\\n\\n这里需要注意的是，BrowserSync会启动localhost:3000导致你的AJAX请求跨域而无法拿到数据。\\n\\n![](http://images2015.cnblogs.com/blog/105416/201702/105416-20170222184323476-1150194475.png)\\n\\n\\n所以，要使用Fiddler并配置Extention：\\n\\n![](http://images2015.cnblogs.com/blog/105416/201702/105416-20170222184331445-1124037886.png)\\n\\n\\n## 目录\\n\\n![](http://images2015.cnblogs.com/blog/105416/201702/105416-20170222184337726-1825094998.png)\\n\\n\\n目录结构也是和[Omi Github上的scaffolding](https://github.com/AlloyTeam/omi/tree/master/scaffolding)一样。\\n组件全放在component目录，公共的工具库放在common，其他资源文件放在asset里。\\n\\n## 命令\\n\\n开发\\n```js\\nnpm run dev\\n```\\n\\n发布\\n```js\\nnpm run dist\\n```\\n\\n## 开始写码\\n\\n万事具备，开始写码。先写组件：\\n\\n```js\\nimport Omi from \'omi\'\\n\\nclass UserList extends Omi.Component {\\n    constructor(data) {\\n        super(data)\\n    }\\n\\n    install() {\\n        this.data.uin_info || (this.data.uin_info = [])\\n        this.data.uin_info.forEach(user => {\\n            this.prepareData(user)\\n        })\\n    }\\n    \\n    prepareData(user){\\n        user.desc_d = user.desc.split(\\"&nbsp;\\")[0]\\n        user.desc_t = user.desc.split(\\"&nbsp;\\")[1]\\n        user.isBoy = user.sex === \\"男\\"\\n        user.qlogo = user.url.replace(\\"http://\\", location.protocol + \\"//\\").replace(/&amp;/g, \\"&\\")\\n        if (user.profession_desc) {\\n            user.hasProfession_desc = true\\n        }\\n    }\\n    \\n    appendUsers (users) {\\n        users.uin_info && users.uin_info.forEach(user =>{\\n            this.prepareData(user)\\n            this.data.uin_info.push(user)\\n        })\\n        this.update()\\n    }\\n\\n    sendGift(uin, nick, qlogo) {\\n        //送礼物并关闭webview,此处省略\\n        //..\\n        //..\\n    }\\n\\n    render() {\\n        return `\\n<div class=\\"user_list\\">\\n    {{#uin_info}}\\n    <div class=\\"item\\" onclick=\\"sendGift(\'{{uin}}\',\'{{nick}}\',\'{{qlogo}}\')\\">\\n        <div class=\\"qlogo\\">\\n            <img style=\\"width: 70px;\\" src=\\"{{qlogo}}\\" />\\n        </div>\\n        <div class=\\"main b1 bb\\">\\n            <div class=\\"nick\\">{{{nick}}}</div>\\n            <div class=\\"icons\\">\\n                {{#isBoy}}<span class=\\"boy_age\\"><img src=\\"component/user_list/boy.png\\" alt=\\"\\" /><span>{{age}}</span></span> {{/isBoy}}\\n               {{^isBoy}}<span class=\\"girl_age\\"><img src=\\"component/user_list/girl.png\\" alt=\\"\\" /><span>{{age}}</span></span> {{/isBoy}}\\n                {{#hasProfession_desc}} <span class=\\"profession\\"><span>{{profession_desc}}</span></span> {{/hasProfession_desc}}\\n            </div>\\n            <div class=\\"action\\">{{{intro}}}</div>\\n        </div>\\n        <div class=\\"distance_info\\">{{desc_d}} · {{desc_t}}</div>\\n    </div>\\n    {{/uin_info}}\\n    <div style=\\"text-align:center;font-size:13px;line-height:30px;height:30px;\\"><span class=\\"loading\\"></span> 加载中...</div>\\n</div>\\n`\\n    }\\n\\n    style() {\\n        return `\\n\\n\\n.qlogo {\\n    overflow: hidden;\\n    width: 70px;\\n    height: 70px;\\n    -webkit-border-radius: 50%;\\n    border-radius: 50%;\\n    position: absolute;\\n    top: 10px;\\n    left: 12px;\\n}\\n...\\n...\\n..这里省略大量.....\\n...\\n...\\n\\n.distance_info {\\n    position: absolute;\\n    top: 15px;\\n    right: 9px;\\n    color: #7B7B84;\\n    font-size: 10px;\\n}\\n\\n        `\\n    }\\n}\\n\\nexport default UserList\\n```\\n\\n组件里面有5个方法:\\n\\n* constructor 组件的构造函数，生命周期的一部分，其实在super上面和super调用下面可以对data做一些处理。super之上不能拿到this\\n* install 组件的初始化安装，生命周期的一部分，这里也可以拿到用户传进的data进行处理\\n* prepareData 对数据进行一些处理来满足模板的渲染\\n* appendUsers 新增数据，用来处理用户向下滚动的load more 的行为的时候调用\\n* sendGift 送礼物，点击每一项的时候会有送礼物的行为，业务相关，可以无视..\\n\\n其他两个方法的render和style用来生成组件的HTML和局部CSS，不再叙述。\\nrender里面使用了[mustache.js](https://github.com/janl/mustache.js)模板引擎；\\n如果使用omi.lite.js版本(不包含[mustache.js](https://github.com/janl/mustache.js)模板引擎)的话，你也可以使用ES6 map去遍历数据生成HTML，或者重写 Omi.template去使用任意你喜欢的模板引擎，非常灵活方便。\\n\\n这里友情提醒一下，如果使用webstorm的话，可以把js version设置成JSX Harmony或者ECMAScript 6，这样才是写ES6+的姿势。\\n\\n![](http://images2015.cnblogs.com/blog/105416/201702/105416-20170222184433148-472636444.png)\\n\\n\\n下面来看index.js:\\n\\n```js\\nimport Root from \'./config.js\'\\nimport Omi from \'omi\'\\nimport UserList from \'../component/user_list/index.js\'\\n\\nOmi.makeHTML(\'UserList\', UserList)\\n\\nclass Main extends Omi.Component {\\n    constructor(data) {\\n        super(data)\\n    }\\n\\n    installed() {\\n        window.onscroll = () => this.loadMore()\\n        this.requestData(data => this.list.appendUsers(data))\\n    }\\n\\n    loadMore() {\\n        const body = document.body,\\n            html = document.documentElement,\\n            height = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight),\\n            vp_height = window.innerHeight\\n\\n        if (height - document.body.scrollTop - vp_height < 200) {\\n            this.requestData(data => this.list.appendUsers(data))\\n        }\\n    }\\n\\n    requestData(callback) {\\n        if (Root.isDev) {\\n            require.ensure([], ()=> {\\n                callback(require(\'./mock_data.js\').default)\\n            })\\n        }else{\\n        \\t//ajax 请求数据，这里省略\\n        }\\n    }\\n\\n    render() {\\n        return `\\n    <div class=\\"main\\">\\n        <UserList name=\\"list\\" />\\n    </div>`\\n    }\\n}\\n\\nOmi.render(new Main(),\'body\')\\n```\\n\\n通过Omi.makeHTML(\'UserList\', UserList)这句代码，UserList变成了可以嵌套至render方法中的标签。如：\\n\\n```js\\n render() {\\n        return `\\n    <div class=\\"main\\">\\n        <UserList name=\\"list\\" />\\n    </div>`\\n    }\\n```\\n\\n下面这行代码，是监听滚动，快滚动到底部的时候在loadMore里面会去请求。\\n\\n```js\\nwindow.onscroll = () => this.loadMore()\\n```\\n\\n通过height - document.body.scrollTop - vp_height < 200判断用户快要滚动底部，滚动到底部有个加载更多的行为，即：\\n\\n```js\\nif (height - document.body.scrollTop - vp_height < 200) {\\n    this.requestData(data => this.list.appendUsers(data))\\n}\\n```\\n\\nrequestData是去服务器请求分页的数据，请求成功，会去调用this.list.appendUsers进行数据的添加。\\n慢着？this.list哪里来的？appendUsers又是哪里定义的方法？且看下面：\\n\\n```js\\n <UserList name=\\"list\\" />\\n```\\n\\n上面标记的name，让你可以直接通过this.list访问到UserList对象的实例，所以也就可以调用它的appendUsers方法！\\n\\n再来看下数据模拟：\\n\\n```js\\nif (Root.isDev) {\\n        require.ensure([], ()=> {\\n            callback(require(\'./mock_data.js\').default)\\n        })\\n    }\\n```\\n\\n这里在dev环境下是mock数据，使用了require.ensure，这样当你npm run dist的时候，mock的数据就不会被打包进js里了！！\\n\\n## 最后\\n\\n好了，就这么多，Omi让代码真心方便简洁~~~\\n\\n### 相关地址\\n\\n* [演示地址](http://alloyteam.github.io/omi/example/qq_nearby/dev/index.html)\\n* [源码地址](https://github.com/AlloyTeam/omi/tree/master/example/qq_nearby)"'},function(n,e){n.exports='module.exports = "<h2 id=\\"模板切换\\">模板切换</h2>\\n\\nOmi有三个版本。其中的omi.js和omi.lite.js属于Web端使用的版本。\\n\\n* omi.js内置了[mustache.js](https://github.com/janl/mustache.js)作为模版引擎\\n* omi.lite.js不包含任何模版引擎\\n\\nOmi不强制开发者使用mustache.js，你可以根据业务场景使用任意模板引擎或者不使用模板引擎。\\n\\n那么怎么使用别的模板引擎？下面拿[artTemplate](https://github.com/aui/artTemplate)作为例子。\\n\\n### 使用artTemplate\\n\\n```js\\nOmi.template = function(tpl, data){\\n    return artTemplate.compile(tpl)(data);\\n}\\n```\\n重写Omi.template方法，tpl为传入的模板，data为模板所需的数据，返回值为HTML。\\n重写完毕后就能在render使用artTemplate的语法，如：\\n\\n```js\\nclass List extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n\\n    style () {\\n        return `\\n        h1 { color:red; }\\n        li{ color:green;}\\n        `;\\n    }\\n\\n    render () {\\n        return `<h1>{{title}}</h1>\\n                <ul>\\n                    {{each list as value i}}\\n                    <li>索引 {{i + 1}} ：{{value}}</li>\\n                    {{/each}}\\n                </ul>`;\\n    }\\n}\\n```\\n\\n### 相关地址\\n\\n* [演示地址](http://alloyteam.github.io/omi/example/artTemplate/)\\n* [源码地址](https://github.com/AlloyTeam/omi/tree/master/example/artTemplate)"'},function(n,e){n.exports='module.exports = "<h2 id=\\"Omi的理念\\">Omi的理念</h2>\\n\\nOmi的理念是基于面向对象编程体系，内建积木系统。\\n 传统的单向数据流或者抛出event的组件通讯方式增加了系统的稳定性，但是丧失了灵活性。一定程度上也降低了组建的复用。所谓鱼和熊掌不可兼得。\\n 面向对象体系需要多一个逻辑层，可以自由操作所有组件的instance，instance之间的逻辑关系构建出了整个程序。这样组建间的逻辑，通信，复用就全部迎刃而解。组建也更加单一职责，更松耦合。\\n\\n对比函数式编程、命令式编程与面向对象编程，可以归纳总结出下面几条：\\n\\n- 命令式编程干脆直接，利用循环条件等控制流程，强调执行过程\\n- 命令式编程对硬件执行友好，运行更容易，却阻碍了复杂程序的设计\\n- 函数式强调输入和输出，并非执行过程\\n- 函数式倡导多个简单执行单元组合成复杂运算程序\\n- 面向对象编程将对象作为程序的基本单元，更具有重用性、灵活性和扩展性\\n\\nJavascript是哪种类型的语言？现在ES6+已经有了class。那么他是面向对象语言？\\n但是JS可以在任意地方定义函数并且当作把函数当作值来传递。那么他是函数式编程语言？\\n所以，没有精准的定义，取决于你的用法和姿势。其次，Web组件化架构层面编程模型和语言层面编程模型是非常自由的关系。意思就是，你可以用Javascript构建函数式编程框架如React，也可以基于面向对象体系搭建Omi。\\n\\n### 函数式编程 VS 面向对象编程\\n\\n在UI组件框架层面，函数式编程的代表有React，Omi属于面向对象编程体系。那么他们各有什么优缺点？下面做了个对比（其实也是函数式编程与面向对象编程的对比）：\\n\\n|    | React        | Omi  |\\n| ------------- |:-------------:|:-----:|\\n| 组件通信  | ★★★★☆| ★★★★★ |\\n| 稳定性    | ★★★★★    |   ★★★★☆ |\\n| 灵活性  | ★★★★☆| ★★★★★ |\\n| 扩展性 | ★★★★☆     |   ★★★★★ |\\n| 测试性 | ★★★★★     |   ★★★★☆ |\\n| 文件大小 | ★★★☆☆    |   ★★★★★ |\\n| 功能特性 | ★★★☆☆    |   ★★★★☆ |\\n| DOM性能 | ★★★★★    |   ★★★★☆ |\\n| 动画性能 | ★★★★☆    |   ★★★★★ |\\n| 抽象复杂度 | ★★★★☆    |   ★★★★★ |\\n| 异步编程 | ★★★★★    |   ★★★★☆ |\\n\\n可以看得出，鱼和熊掌不可兼得。面向对象编程更具有重用性、灵活性和扩展性，带来的问题就是更加难测试。\\n具体来说，如函数式编程，其测试面积是state1 + state2 + ... + stateN；在面向对象编程中，其测试面积是state1×event1 + state2×event2 + ... + stateN×eventN。\\n\\n总结来说，更加推荐使用面向对象的方式去搭建UI组件化框架。\\n\\n<hr/>\\n\\n### 全文结束，感谢阅读。[开始Omi之旅吧!](https://github.com/AlloyTeam/omi) \\n\\n"'},function(n,e){n.exports='module.exports = "# 深入Omi\\n\\n（待续...）\\n\\n* [环境搭建](./cn_env.md)\\n* [Hello Omi](./cn_hello.md)\\n* [手Q附近Web页Omi实战](./cn_nearby.md)\\n* 局部CSS揭秘\\n* 组件嵌套揭秘\\n* 事件处理揭秘\\n* 服务器端渲染揭秘\\n* 模板切换揭秘\\n* 容器系统揭秘"'},function(n,e){n.exports='module.exports = "<h2 id=\\"环境搭建\\">环境搭建</h2>\\n\\n[Omi框架](https://github.com/AlloyTeam/omi)使用 Webpack + ES6 的方式去开发；使用karma+jasmine来作为Omi的测试工具。\\n\\n## Karma介绍\\n\\nKarma是一个基于Node.js的JavaScript测试执行过程管理工具（Test Runner）。该工具可用于测试所有主流Web浏览器，也可集成到CI（Continuous integration）工具，也可和其他代码编辑器一起使用。这个测试工具的一个强大特性就是，它可以监控(Watch)文件的变化，然后自行执行。但是集成到travis ci要把singleRun设置成true,让其只执行一遍。\\n\\n## Jasmine介绍\\nJasmine 是一款 JavaScript BDD（行为驱动开发）测试框架，它不依赖于其他任何 JavaScript 组件。它有干净清晰的语法，让您可以很简单的写出测试代码。\\n\\n## 开发依赖包\\n\\n在package.json中，有如下配置:\\n\\n```js\\n  \\"devDependencies\\": {\\n    \\"babel-core\\": \\"^6.0.20\\",\\n    \\"babel-loader\\": \\"^6.0.1\\",\\n    \\"babel-preset-es2015\\": \\"^6.0.15\\",\\n    \\"node-libs-browser\\": \\"^0.5.3\\",\\n    \\"webpack\\": \\"^1.14.0\\",\\n    \\"jasmine-core\\": \\"^2.5.2\\",\\n    \\"karma\\": \\"^1.3.0\\",\\n    \\"karma-chrome-launcher\\": \\"^2.0.0\\",\\n    \\"karma-jasmine\\": \\"^1.1.0\\",\\n    \\"karma-webpack\\": \\"^1.8.1\\"\\n  }\\n```\\n\\n* ES6+相关依赖有babel-core、babel-loader和babel-preset-es2015\\n\\n在webpack.config.js中配置js文件使用babel-loader编译。\\n```js\\nloaders: [\\n    {\\n        loader: \'babel-loader\',\\n        test: /\\\\.js$/,\\n        query: {\\n            presets: \'es2015\',\\n        }\\n    }\\n]\\n```\\n\\n* webpack相关依赖有node-libs-browser和webpack\\n* 其余都是单元测试相关依赖\\n\\n        注意，这里使用了karma-webpack。因为使用Omi框架支持ES6+和ES5,使用karma-webpack是为了在单元测试里面使用ES6+的import和Class等语法。\\n\\n在karma.conf.js中配置webpack:\\n\\n```js\\n    webpack: webpackConfig,\\n    webpackMiddleware:{\\n      noInfo:false\\n    },\\n    plugins: [\\n        \'karma-webpack\',\\n        \'karma-jasmine\',\\n        \'karma-chrome-launcher\'\\n    ]\\n```\\n\\n具体配置看test目录下的[karma.conf.js](https://github.com/AlloyTeam/omi/blob/master/test/karma.conf.js)和[webpack.test.config.js](https://github.com/AlloyTeam/omi/blob/master/test/webpack.test.config.js)便可。\\n\\n注意，karma.conf.js需要设置\\n\\n```js\\n// if true, Karma captures browsers, runs the tests and exits\\nsingleRun: true,\\n```\\n\\n不然，travis ci脚本执行的时候不会中断导致执行超时异常。\\n\\n## npm 脚本\\n\\n```js\\n  \\"scripts\\": {\\n    \\"build\\": \\"webpack -w\\",\\n    \\"test\\": \\"karma start test/karma.conf.js\\",\\n    \\"hello\\": \\"webpack -w\\",\\n    \\"todo\\": \\"webpack -w\\"\\n  }\\n```\\n\\n其中：\\n* npm run build : 生成dist目录的omi.js文件\\n* npm run test : 执行单元测试\\n* npm run hello : 编译hello的demo\\n* npm run todo : 编译todo的demo\\n\\n在webpack.config.js中，会根据 process.env.npm_lifecycle_event去设置不同的入口文件。所以同样是执行webpack -w，执行结果可以不一样。\\n\\n来看下build的相关webpack配置:\\n\\n```js\\nif(ENV === \'build\'){\\n    config = {\\n        entry: {\\n            omi: \'./src/index.js\'\\n        },\\n        output: {\\n            path: \'dist/\',\\n            library:\'Omi\',\\n            libraryTarget: \'umd\',\\n            filename:  \'[name].js\'\\n        },\\n```\\n\\n这里把libraryTarget设置成了umd，webpack会帮助我们build出umd的Omi。\\n\\n如果是打包demo（npm run hello 和 npm run todo）的话，会进入下面的条件判断：\\n\\n```js\\nelse {\\n    config.entry = \'./example/\' + ENV + \'/main.js\';\\n    config.output.path = \'./example/\' + ENV + \'/\';\\n}\\n```\\n\\n会去example下对应的目录查找main.js作为webpack入口文件。\\n\\n这里可以看到，我们不仅用webpack build出Omi框架，也使用webpack build所有demo。\\n详细配置参考[webpack.config.js](https://github.com/AlloyTeam/omi/blob/master/webpack.config.js)的配置。\\n\\n## 参考文档\\n\\n* [http://www.cnblogs.com/cqhaibin/p/5867125.html](http://www.cnblogs.com/cqhaibin/p/5867125.html)\\n* [https://karma-runner.github.io/latest/intro/installation.html](https://karma-runner.github.io/latest/intro/installation.html)\\n* [https://karma-runner.github.io/latest/intro/configuration.html](https://karma-runner.github.io/latest/intro/configuration.html)\\n\\n"'},function(n,e){n.exports="module.exports = \"<h2 id=\\\"Hello Omi\\\">Hello Omi</h2>\\n\\n[Omi框架](https://github.com/AlloyTeam/omi)的每个组件都继承自Omi.Component，本篇会去完成Omi的Component的基本锥形，让其能够渲染第一个组件。\\n\\n## omi.js实现\\n\\n```js\\nvar Omi = {};\\nOmi._instanceId = 0;\\nOmi.getInstanceId = function () {\\n    return Omi._instanceId++;\\n};\\n\\nOmi.render = function(component, renderTo){\\n    component.renderTo = typeof renderTo === \\\"string\\\" ? document.querySelector(renderTo) : renderTo;\\n    component._render();\\n    return component;\\n};\\n\\nmodule.exports = Omi;\\n```\\n\\n* Omi.getInstanceId 用来给每个组件生成自增的ID\\n* Omi.render 用来把组件渲染到页面\\n\\n## 基类Omi.Component实现\\n\\n所有的组件都是继承自Omi.Component。\\n\\n```js\\nimport Omi from './omi.js';\\n\\nclass Component {\\n    constructor(data) {\\n        this.data = data || {};\\n        this.id = Omi.getInstanceId();\\n        this.HTML = null;\\n        this.renderTo = null;\\n    }\\n\\n    _render() {\\n        this.HTML = this.render();\\n        this.renderTo.innerHTML = this.HTML;\\n    }\\n}\\n\\nexport default Component;\\n```\\n\\n* Omi使用完全面向对象的方式去开发组件，这里约定好带有下划线的方法是用于内部实现调用，不建议Omi框架的使用者去调用。\\n* 其中，_render为私有方法用于内部实现调用,会去调用组件的真正render方法用于生成HTML,并且把生成的HTML插入到renderTo容器里面。\\n* 注意，这里目前没有引入dom diff，不管第几次渲染都是无脑设置innerHTML，复杂HTML结构对浏览器的开销很大，这里后续会引入diff。\\n\\n## index.js整合\\n\\n```js\\nimport Omi from './omi.js';\\nimport Component from './component.js';\\n\\nOmi.Component = Component;\\n\\nwindow.Omi = Omi;\\nmodule.exports = Omi;\\n```\\n\\n这里把Omi给直接暴露在window下，因为每个组件都生成了唯一的ID，后续实现事件作用域以及对象实例获取都要通过window下的Omi获取。\\n\\n## 最后使用\\n\\n实现完omi.js和component.js以及index.js之后，你就可以实现Hello Omi拉:\\n\\n```js\\nimport Omi from 'index.js'; \\n//或者使用webpack build之后的omi.js \\n//import Omi from 'omi.js';\\n\\nclass Hello extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n    render() {\\n        return  `\\n      <div>\\n      \\t<h1>Hello ,`+ this.data.name +`!</h1>\\n      </div>\\n  \\t\\t`;\\n\\n    }\\n}\\n\\nOmi.render(new Hello({ name : 'Omi' }),\\\"#container\\\");\\n```\\n\\n什么？都2017年了还在拼接字符串？！虽然ES6+的template string让多行字符串拼接更加得心应手，但是template string+模板引擎可以让更加优雅方便。既然用了template string，也可以写成这样子：\\n\\n```js\\nclass Hello extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n    render() {\\n        return  `\\n      <div>\\n        <h1>Hello ,${this.data.name}!</h1>\\n      </div>\\n        `;\\n\\n    }\\n}\\n\\nOmi.render(new Hello({ name : 'Omi' }),\\\"#container\\\");\\n```\\n\\n## 引入mustachejs模板引擎\\n\\nOmi支持任意模板引擎。可以看到，上面是通过拼接字符串的形式生成HTML，这里当然可以使用模板引擎。\\n\\n修改一下index.js:\\n\\n```js\\nimport Omi from './omi.js';\\nimport Mustache from './mustache.js';\\nimport Component from './component.js';\\n\\nOmi.template = Mustache.render;\\nOmi.Component = Component;\\n\\nwindow.Omi=Omi;\\nmodule.exports = Omi;\\n```\\n\\n这里把Mustache.render挂载在Omi.template下。再修改一下component.js:\\n\\n```js\\nimport Omi from './omi.js';\\n\\nclass Component {\\n    constructor(data) {\\n        this.data = data || {};\\n        this.id = Omi.getInstanceId();\\n        this.HTML = null;\\n    }\\n\\n    _render() {\\n        this.HTML = Omi.template(this.render(), this.data);\\n        this.renderTo.innerHTML = this.HTML;\\n    }\\n}\\n\\nexport default Component;\\n```\\n\\nOmi.template（即Mustache.render）需要接受两个参数，第一个参数是模板，第二个参数是模板使用的数据。\\n\\n现在，你便可以使用mustachejs模板引擎的语法了：\\n\\n```js\\nclass Hello extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n    render() {\\n        return  `\\n      <div>\\n      \\t<h1>Hello ,{{name}}!</h1>\\n      </div>\\n  \\t\\t`;\\n\\n    }\\n}\\n```\\n\\n从上面的代码可以看到，你完全可以重写Omi.template方法去使用任意模板引擎。重写Omi.template的话，建议使用omi.lite.js，因为omi.lite.js是不包含任何模板引擎的。那么怎么build出两个版本的omi？且看webpack里设置的多入口:\\n\\n```js\\n entry: {\\n    omi: './src/index.js',\\n    'omi.lite': './src/index.lite.js'\\n},\\noutput: {\\n    path: 'dist/',\\n    library:'Omi',\\n    libraryTarget: 'umd',\\n    filename:  '[name].js'\\n},\\n```\\n\\nindex.lite.js的代码如下：\\n\\n```js\\nimport Omi from './omi.js';\\nimport Component from './component.js';\\n\\nOmi.template = function(tpl, data){\\n    return tpl;\\n}\\n\\nOmi.Component = Component;\\n\\nwindow.Omi=Omi;\\nmodule.exports = Omi;\\n```\\n\\n可以看到Omi.template没有对tpl做任何处理直接返回，开发者可以重写该方法。\\n\\n## 总结\\n\\n到目前为止，已经实现了：\\n\\n* 第一个组件的渲染\\n* 模板引擎的接入\\n* 多入口打包omi.js和omi.lite.js\\n\\n下片，将介绍《Omi原理-局部CSS》，欢迎关注...\\n\""},function(n,e){n.exports='module.exports = "## 写在前面\\nOmi很适合大型复杂的Web页面开发，例如一些Web在线工具的开发。但是制作这种简单的QQ附近用户列表Web页，也不会有大炮哄蚊子的感觉。\\n\\n项目开始之前，实现选择一个脚手架。这个项目用的就是[Omi Github上的scaffolding](https://github.com/AlloyTeam/omi/tree/master/scaffolding)作为其项目脚手架。主要基于 Gulp + Webpack + Babel + BrowserSync 进行开发和部署。（ps：目前脚手架先上github弄下来，pasturn和Aresn正在开发omi-cli，不久就要发布了）\\n\\nGulp用来串联整个流程，Webpack + Babel让你可以写ES6和打包，BrowserSync用来帮你刷浏览器，不用F5了。\\n\\n这里需要注意的是，BrowserSync会启动localhost:3000导致你的AJAX请求跨域而无法拿到数据。\\n\\n![](http://images2015.cnblogs.com/blog/105416/201702/105416-20170222184323476-1150194475.png)\\n\\n\\n所以，要使用Fiddler并配置Extention：\\n\\n![](http://images2015.cnblogs.com/blog/105416/201702/105416-20170222184331445-1124037886.png)\\n\\n\\n## 目录\\n\\n![](http://images2015.cnblogs.com/blog/105416/201702/105416-20170222184337726-1825094998.png)\\n\\n\\n目录结构也是和[Omi Github上的scaffolding](https://github.com/AlloyTeam/omi/tree/master/scaffolding)一样。\\n组件全放在component目录，公共的工具库放在common，其他资源文件放在asset里。\\n\\n## 命令\\n\\n开发\\n```js\\nnpm run dev\\n```\\n\\n发布\\n```js\\nnpm run dist\\n```\\n\\n## 开始写码\\n\\n万事具备，开始写码。先写组件：\\n\\n```js\\nimport Omi from \'omi\'\\n\\nclass UserList extends Omi.Component {\\n    constructor(data) {\\n        super(data)\\n    }\\n\\n    install() {\\n        this.data.uin_info || (this.data.uin_info = [])\\n        this.data.uin_info.forEach(user => {\\n            this.prepareData(user)\\n        })\\n    }\\n    \\n    prepareData(user){\\n        user.desc_d = user.desc.split(\\"&nbsp;\\")[0]\\n        user.desc_t = user.desc.split(\\"&nbsp;\\")[1]\\n        user.isBoy = user.sex === \\"男\\"\\n        user.qlogo = user.url.replace(\\"http://\\", location.protocol + \\"//\\").replace(/&amp;/g, \\"&\\")\\n        if (user.profession_desc) {\\n            user.hasProfession_desc = true\\n        }\\n    }\\n    \\n    appendUsers (users) {\\n        users.uin_info && users.uin_info.forEach(user =>{\\n            this.prepareData(user)\\n            this.data.uin_info.push(user)\\n        })\\n        this.update()\\n    }\\n\\n    sendGift(uin, nick, qlogo) {\\n        //送礼物并关闭webview,此处省略\\n        //..\\n        //..\\n    }\\n\\n    render() {\\n        return `\\n<div class=\\"user_list\\">\\n    {{#uin_info}}\\n    <div class=\\"item\\" onclick=\\"sendGift(\'{{uin}}\',\'{{nick}}\',\'{{qlogo}}\')\\">\\n        <div class=\\"qlogo\\">\\n            <img style=\\"width: 70px;\\" src=\\"{{qlogo}}\\" />\\n        </div>\\n        <div class=\\"main b1 bb\\">\\n            <div class=\\"nick\\">{{{nick}}}</div>\\n            <div class=\\"icons\\">\\n                {{#isBoy}}<span class=\\"boy_age\\"><img src=\\"component/user_list/boy.png\\" alt=\\"\\" /><span>{{age}}</span></span> {{/isBoy}}\\n               {{^isBoy}}<span class=\\"girl_age\\"><img src=\\"component/user_list/girl.png\\" alt=\\"\\" /><span>{{age}}</span></span> {{/isBoy}}\\n                {{#hasProfession_desc}} <span class=\\"profession\\"><span>{{profession_desc}}</span></span> {{/hasProfession_desc}}\\n            </div>\\n            <div class=\\"action\\">{{{intro}}}</div>\\n        </div>\\n        <div class=\\"distance_info\\">{{desc_d}} · {{desc_t}}</div>\\n    </div>\\n    {{/uin_info}}\\n    <div style=\\"text-align:center;font-size:13px;line-height:30px;height:30px;\\"><span class=\\"loading\\"></span> 加载中...</div>\\n</div>\\n`\\n    }\\n\\n    style() {\\n        return `\\n\\n\\n.qlogo {\\n    overflow: hidden;\\n    width: 70px;\\n    height: 70px;\\n    -webkit-border-radius: 50%;\\n    border-radius: 50%;\\n    position: absolute;\\n    top: 10px;\\n    left: 12px;\\n}\\n...\\n...\\n..这里省略大量.....\\n...\\n...\\n\\n.distance_info {\\n    position: absolute;\\n    top: 15px;\\n    right: 9px;\\n    color: #7B7B84;\\n    font-size: 10px;\\n}\\n\\n        `\\n    }\\n}\\n\\nexport default UserList\\n```\\n\\n组件里面有5个方法:\\n\\n* constructor 组件的构造函数，生命周期的一部分，其实在super上面和super调用下面可以对data做一些处理。super之上不能拿到this\\n* install 组件的初始化安装，生命周期的一部分，这里也可以拿到用户传进的data进行处理\\n* prepareData 对数据进行一些处理来满足模板的渲染\\n* appendUsers 新增数据，用来处理用户向下滚动的load more 的行为的时候调用\\n* sendGift 送礼物，点击每一项的时候会有送礼物的行为，业务相关，可以无视..\\n\\n其他两个方法的render和style用来生成组件的HTML和局部CSS，不再叙述。\\nrender里面使用了[mustache.js](https://github.com/janl/mustache.js)模板引擎；\\n如果使用omi.lite.js版本(不包含[mustache.js](https://github.com/janl/mustache.js)模板引擎)的话，你也可以使用ES6 map去遍历数据生成HTML，或者重写 Omi.template去使用任意你喜欢的模板引擎，非常灵活方便。\\n\\n这里友情提醒一下，如果使用webstorm的话，可以把js version设置成JSX Harmony或者ECMAScript 6，这样才是写ES6+的姿势。\\n\\n![](http://images2015.cnblogs.com/blog/105416/201702/105416-20170222184433148-472636444.png)\\n\\n\\n下面来看index.js:\\n\\n```js\\nimport Root from \'./config.js\'\\nimport Omi from \'omi\'\\nimport UserList from \'../component/user_list/index.js\'\\n\\nOmi.makeHTML(\'UserList\', UserList)\\n\\nclass Main extends Omi.Component {\\n    constructor(data) {\\n        super(data)\\n    }\\n\\n    installed() {\\n        window.onscroll = () => this.loadMore()\\n        this.requestData(data => this.list.appendUsers(data))\\n    }\\n\\n    loadMore() {\\n        const body = document.body,\\n            html = document.documentElement,\\n            height = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight),\\n            vp_height = window.innerHeight\\n\\n        if (height - document.body.scrollTop - vp_height < 200) {\\n            this.requestData(data => this.list.appendUsers(data))\\n        }\\n    }\\n\\n    requestData(callback) {\\n        if (Root.isDev) {\\n            require.ensure([], ()=> {\\n                callback(require(\'./mock_data.js\').default)\\n            })\\n        }else{\\n        \\t//ajax 请求数据，这里省略\\n        }\\n    }\\n\\n    render() {\\n        return `\\n    <div class=\\"main\\">\\n        <UserList name=\\"list\\" />\\n    </div>`\\n    }\\n}\\n\\nOmi.render(new Main(),\'body\')\\n```\\n\\n通过Omi.makeHTML(\'UserList\', UserList)这句代码，UserList变成了可以嵌套至render方法中的标签。如：\\n\\n```js\\n render() {\\n        return `\\n    <div class=\\"main\\">\\n        <UserList name=\\"list\\" />\\n    </div>`\\n    }\\n```\\n\\n下面这行代码，是监听滚动，快滚动到底部的时候在loadMore里面会去请求。\\n\\n```js\\nwindow.onscroll = () => this.loadMore()\\n```\\n\\n通过height - document.body.scrollTop - vp_height < 200判断用户快要滚动底部，滚动到底部有个加载更多的行为，即：\\n\\n```js\\nif (height - document.body.scrollTop - vp_height < 200) {\\n    this.requestData(data => this.list.appendUsers(data))\\n}\\n```\\n\\nrequestData是去服务器请求分页的数据，请求成功，会去调用this.list.appendUsers进行数据的添加。\\n慢着？this.list哪里来的？appendUsers又是哪里定义的方法？且看下面：\\n\\n```js\\n <UserList name=\\"list\\" />\\n```\\n\\n上面标记的name，让你可以直接通过this.list访问到UserList对象的实例，所以也就可以调用它的appendUsers方法！\\n\\n再来看下数据模拟：\\n\\n```js\\nif (Root.isDev) {\\n        require.ensure([], ()=> {\\n            callback(require(\'./mock_data.js\').default)\\n        })\\n    }\\n```\\n\\n这里在dev环境下是mock数据，使用了require.ensure，这样当你npm run dist的时候，mock的数据就不会被打包进js里了！！\\n\\n## 最后\\n\\n好了，就这么多，Omi让代码真心方便简洁~~~\\n\\n### 相关地址\\n\\n* [演示地址](http://alloyteam.github.io/omi/example/qq_nearby/dev/index.html)\\n* [源码地址](https://github.com/AlloyTeam/omi/tree/master/example/qq_nearby)"'},function(n,e){n.exports='module.exports = "# Omi命令行界面omi-cli发布\\n\\n通常认为，命令行界面（CLI）没有图形用户界面（GUI）那么方便用户操作。但是CLI比GUI节约资源，在熟悉命令之后，CLI会比GUI更加高效地帮你完成想要的任务。\\n\\n下面来介绍下[pasturn](https://github.com/pasturn)童鞋为Omi开发的CLI的两种使用姿势：\\n\\n## 姿势一\\n\\n```js\\n$ npm install omi-cli -g       //安装cli\\n$ omi init your_project_name   //初始化项目\\n$ cd your_project_name         //转到项目目录\\n$ npm run dev                  //开发\\n$ npm run dist                 //部署发布\\n```\\n\\n## 姿势二\\n\\n当我们在一个空文件夹的时候，可以执行下面的命令。\\n\\n```js\\n$ npm install omi-cli -g       //安装cli\\n$ omi init                     //初始化项目\\n$ npm run dev                  //开发\\n$ npm run dist                 //部署发布\\n```\\n\\n这里不用再去跳转目录了，当前目录就是项目的目录。\\n\\n## 安装过程截图\\n\\n安装omi-cli:\\n\\n![](http://images2015.cnblogs.com/blog/105416/201702/105416-20170227100545470-696026058.png)\\n\\n\\n安装初始化项目omi init:\\n\\n![](http://images2015.cnblogs.com/blog/105416/201702/105416-20170227100554891-1802174132.png)\\n\\n上面的成功的界面。注意：初始化项目会自动安装相关的npm依赖包，所以时间较长，请耐心等待。\\n安装完成之后，在项目目录下你可以看到下面的目录结构：\\n\\n![](http://images2015.cnblogs.com/blog/105416/201702/105416-20170227100755845-465268116.png)\\n\\n开发 npm run dev:\\n\\n![](http://images2015.cnblogs.com/blog/105416/201702/105416-20170227100601235-1477801934.png)\\n\\n![](http://images2015.cnblogs.com/blog/105416/201702/105416-20170227100608985-921528126.png)\\n\\n如果，你看到了上面的界面，说明一切OK了。创建出来的项目主要基于 Gulp + Webpack + Babel + BrowserSync 进行开发和部署。Gulp用来串联整个流程，Webpack + Babel让你可以写ES6和打包，BrowserSync用来帮你刷浏览器，不用F5了。\\n\\n## 后续\\n\\n更多脚手架模板以及更多功能的命令正在开发中，如果有什么意见或者建议欢迎让我们知道。\\n\\n## 相关\\n\\n* Omi的Github地址[https://github.com/AlloyTeam/omi](https://github.com/AlloyTeam/omi)\\n* 如果想体验一下Omi框架，可以访问 [Omi Playground](http://alloyteam.github.io/omi/example/playground/)\\n* 如果想使用Omi框架或者开发完善Omi框架，可以访问 [Omi使用文档](https://github.com/AlloyTeam/omi/tree/master/docs#omi使用文档)\\n* 如果你想获得更佳的阅读体验，可以访问 [Docs Website](http://alloyteam.github.io/omi/website/docs.html)\\n* 如果你懒得搭建项目脚手架，可以试试 [omi-cli](https://github.com/AlloyTeam/omi/tree/master/cli)\\n* 如果你有Omi相关的问题可以 [New issue](https://github.com/AlloyTeam/omi/issues/new)\\n* 如果想更加方便的交流关于Omi的一切可以加入QQ的Omi交流群(256426170)\\n\\n![](http://images2015.cnblogs.com/blog/105416/201702/105416-20170208095745213-1049686133.png)"'},function(n,e){n.exports='module.exports = "<h2 id=\\"Communication\\">Component Communication</h2>\\n\\nCommunication between [Omi](https://github.com/AlloyTeam/omi) components is very flexible, there are many options:\\n\\n- By declaring `data-*` on the component to pass data to child node\\n- By declaring `data` on the component to pass data to child node (support complex data types mapping)\\n- By declaring `childrenData` on parent component to automatically pass data to child node\\n- By declaring `group-data` (support complex data types mapping)\\n- It\'s completely object-oriented, you can easily get the object instance, then you can set the instance of the property or call the instance of the method\\n\\nLet\'s see some examples.\\n\\n### Communicate by `data-*`\\n\\n```js\\nclass Hello extends Omi.Component {\\n    constructor(data) {\\n      super(data);\\n    }\\n    style () {\\n      return  `\\n      h1{\\n      \\tcursor:pointer;\\n      }\\n      `;\\n    }\\n    handleClick(target, evt){\\n      alert(target.innerHTML);\\n    }\\n    render() {\\n      return  `\\n      <div>\\n      \\t<h1 onclick=\\"handleClick(this, event)\\">Hello ,{{name}}!</h1>\\n      </div>\\n  \\t\\t`;\\n\\n    }\\n}\\n\\nOmi.makeHTML(\'Hello\', Hello);\\n\\nclass App extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n  \\n    render() {\\n        return  `\\n        <div>\\n            <Hello data-name=\\"Omi\\" />\\n        </div>\\n        `;\\n    }\\n}\\n\\nOmi.render(new App(),\\"#container\\");\\n```\\n\\nGenerally `data-*` is used to pass value types such as string and number. It is worth noting that, through `data-*`, received data types are string. You need to manually transform it to the number type.\\n\\nNormally, communicate by `data-*` is enough, but sometimes we may need to use complex data types, then we can use `data` to communicate.\\n\\n### Communicate by `data`\\n\\nAs shown in the above code, name can be passed to the subcomponent by `data-name=\\"Omi\\"`. The following code can also achieve the same effect.\\n\\n```js\\n...\\nclass App extends Omi.Component {\\n    constructor(data) {\\n      super(data);\\n      this.helloData = { name : \'Omi\' };\\n    }\\n  \\n    render() {\\n        return  `\\n        <div>\\n            <Hello data=\\"helloData\\" />\\n        </div>\\n        `;\\n    }\\n}\\n\\nOmi.render(new App(),\\"#container\\");\\n```\\n\\nUse the `data` tag, it will find the property from the component instance (that is, this), this can be mounted with any complex objects. This also broke the limitations of `data-*`.\\n\\nThen how do we pass `data` that is in a deep depth of the instance to the Hello? No worries, `data` tag can be a complex statement:\\n\\n```js\\n...\\nclass App extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n        this.complexData ={\\n            a:{\\n                b:{\\n                    c:[\\n                        {\\n                            e:[{\\n                                name:\'ComplexData Support1\'\\n                            },{\\n                                name:\'ComplexData Support2\'\\n                            }]\\n                        },\\n                        {\\n                            name: \'ComplexData Support3\'\\n                        }\\n                    ]\\n                }\\n            }\\n        };\\n    }\\n  \\n    render() {\\n        return  `\\n        <div>\\n            <Hello data=\\"complexData.a.b.c[1]\\" />\\n        </div>\\n        `;\\n    }\\n}\\n...\\n```\\n\\n<a href=\\"http://alloyteam.github.io/omi/website/redirect.html?type=data_complex\\" target=\\"_blank\\">Click me for the complex data mapping</a>\\n\\n### Communicate by `childrenData`\\n\\n```js\\n...\\nclass App extends Omi.Component {\\n    constructor(data) {\\n      super(data);\\n      this.childrenData = [{ name : \'Omi\' } , { name : \'dntzhang\' }];\\n    }\\n  \\n    render() {\\n        return  `\\n        <div>\\n            <Hello  />\\n            <Hello  />\\n        </div>\\n        `;\\n    }\\n}\\n\\nOmi.render(new App(),\\"#container\\");\\n```\\n\\nWe can use `this.childrenData` to transfer data to the sub-component. In this case, `childrenData` is an array, so it can pass data to multiple components in the same time. In the meanwhile, the data will be passed to components one by one.\\n\\n### Communicate by `group-data`\\n\\n`childrenData` can pass data to multiple components. However, there are many scenes where the source of data does not have to be from `childrenData`. `childrenData` is an array, and it should be the same order with the components, so that the data must all concentrated in `childrenData`, it\'s very inconvenient. `group-data` dedicated to solve the above pain points, specifically to pass data to a group of components.\\n\\n```js\\nimport Hello from \'./hello.js\';\\n\\n\\nOmi.makeHTML(\'Hello\', Hello);\\n\\nclass App extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n        this.testData = [{name: \'Omi\'}, {name: \'dntzhang\'}, {name: \'AlloyTeam\'}];\\n    }\\n\\n    render() {\\n        return  `\\n        <div>\\n            <Hello group-data=\\"testData\\" />\\n            <Hello group-data=\\"testData\\" />\\n            <Hello group-data=\\"testData\\" />\\n        </div>\\n        `;\\n\\n    }\\n}\\n\\nOmi.render(new App(),\\"#container\\");\\n```\\n\\nBy declaring a `group-data` tag in the sub-components, it will go to the current instance of the component (that is, `this`) to find the corresponding property. Then according to the current location, the data will pass to the positions one by one.\\n\\nThe results are as follows:\\n\\n![group-data results](http://images2015.cnblogs.com/blog/105416/201702/105416-20170216110701535-1698390390.png)\\n\\n<a href=\\"http://alloyteam.github.io/omi/website/redirect.html?type=group_data\\" target=\\"_blank\\">Click me for the group-data example</a>\\n\\nSimilarly, `group-data` supports the mapping of complex data types. It should be noted that the end of the group-data mapping must be an array:\\n\\n```js\\nimport Hello from \'./hello.js\';\\n\\n\\nOmi.makeHTML(\'Hello\', Hello);\\n\\nclass App extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n        this.complexData ={\\n            a:{\\n                b:{\\n                    c:[\\n                        {\\n                            e:[{\\n                                name:\'ComplexData Support1\'\\n                            },{\\n                                name:\'ComplexData Support2\'\\n                            }]\\n                        },\\n                        {\\n                            name: \'ComplexData Support3\'\\n                        }\\n                    ]\\n                }\\n            }\\n        };\\n    }\\n\\n    render() {\\n        return  `\\n        <div>\\n            <Hello group-data=\\"complexData.a.b.c[0].e\\" />\\n            <Hello group-data=\\"complexData.a.b.c[0].e\\" />\\n        </div>\\n        `;\\n\\n    }\\n}\\n\\nOmi.render(new App(),\\"#container\\");\\n```\\n\\n<a href=\\"http://alloyteam.github.io/omi/website/redirect.html?type=group_data_complex\\" target=\\"_blank\\">Click me for the complex group-data mapping</a>\\n\\n### By object instance\\n\\n```js\\n...\\nclass App extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n    \\n    installed(){\\n        this.hello.data.name = \\"Omi\\";\\n        this.update()\\n    }\\n  \\n    render() {\\n        return  `\\n        <div>\\n            <Hello name=\\"hello\\" />\\n        </div>\\n        `;\\n    }\\n}\\n\\nOmi.render(new App(),\\"#container\\");\\n```\\n\\n### By omi-id\\n\\n```js\\n...\\nclass App extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n    \\n    installed(){\\n        Omi.get(\\"hello\\").data.name = \\"Omi\\";\\n        this.update()\\n    }\\n  \\n    render() {\\n        return  `\\n        <div>\\n            <Hello omi-id=\\"hello\\" />\\n        </div>\\n        `;\\n\\n    }\\n}\\n\\nOmi.render(new App(),\\"#container\\");\\n```\\n\\nBy declaring `omi-id` on the component, we can get the instance of the object anywhere in the program. This can be regarded as any component communication artifacts.\\n\\n### Warm Tips\\n\\n- The data that passed by `childrenData` or `data` is shadow copied to sub-components. In order to update it, we need to update the `data` attribute of the component instance.\\n- The data that passed by `data-*` is also shadow copied to sub-components. In order to update it, we need to update the `data` attribute of the component instance.\\n- If we set the `dataFirst` property of the component instance to `false`, then `data-*` will override the `data` of component instance.\\n\\nFor the third tip, please checkout the pseudo-code:\\n\\n```js\\nif(this.dataFirst){\\n    this.data = Object.assign({},data-✼ ,this.data);\\n}else{\\n    this.data = Object.assign({},this.data, data-✼);\\n}\\n```"';
},function(n,e){n.exports='module.exports = "<h2 id=\\"Components\\">Components</h2>\\n\\n[Omi](https://github.com/AlloyTeam/omi) is based entirely on component architecture, which allows developers to build web applications like building blocks. Everything is components, components can be nested to create new components.\\n\\n![Omi Components System](http://images2015.cnblogs.com/blog/105416/201702/105416-20170210093427338-1536910080.png)\\n\\n### Simple Components\\n\\nLet\'s explore a simple Todo example to learn the components system in Omi.\\n\\n```js\\nclass Todo extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n    add (evt) {\\n        evt.preventDefault();\\n        this.data.items.push(this.data.text);\\n        this.data.text = \'\';\\n        this.update();\\n    }\\n\\n    style () {\\n        return `\\n        h3 { color:red; }\\n        button{ color:green;}\\n        `;\\n    }\\n\\n    handleChange(target){\\n        this.data.text = target.value;\\n    }\\n\\n    render () {\\n        return `<div>\\n                    <h3>TODO</h3>\\n                    <ul> {{#items}} <li>{{.}}</li> {{/items}}</ul>\\n                    <form onsubmit=\\"add(event)\\" >\\n                        <input type=\\"text\\" onchange=\\"handleChange(this)\\"  value=\\"{{text}}\\"  />\\n                        <button>Add #{{items.length}}</button>\\n                    </form>\\n                </div>`;\\n    }\\n}\\n\\nOmi.render(new Todo({ items: [] ,text : \'\' }),\\"body\\");\\n```\\n\\nThe HTML generated by the component will eventually be inserted into the body. The above example shows some of the features of Omi:\\n\\n- Data flow: `data` in `new Todo(data,..)` can be used directly in the template in render method.\\n- Partial CSS: `h3` in `style()` only effect inside of render. It\'ll never pollute `h3`  outside of this component. The same rule applies to `button`.\\n- Declarative event binding: `onchange` will call `handleChange` that inside of the component. `this` refers to the current DOM element, `event` refers to the current DOM Event Object.\\n- You need to manually call the `this.update()` method to update the component\\n\\nIt is important to note that, for more freedom and flexibility, Omi does not automatically update DOM while data changes. Developers need to call the `update` method manually.\\n\\nYou can also use [oba] (https://github.com/dntzhang/oba) or mobx to implement automatic updates.\\n\\n<a href=\\"http://alloyteam.github.io/omi/website/redirect.html?type=todo\\" target=\\"_blank\\">Click me for the live demo</a>\\n\\n## Component Nesting\\n\\nIt\'s ok to not use nesting component if your page is super simple. However, for most of webpages and web applications, it is a necessary to define the nesting Components to implement complex features.\\n\\nFor instance, we can extract a `List` component form the Todo example. This brings maintainable, scalable and reuseable to our project:\\n\\n```js\\nclass List extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n\\n    render () {\\n        return `<ul> {{#items}} <li>{{.}}</li> {{/items}}</ul>`;\\n    }\\n}\\n```\\n\\nThen how to use this `List`? We need to use `Omi.makeHTML` to make the `List` to a tag which can be used in render method:\\n\\n```js\\nimport List from \'./list.js\';\\n\\nOmi.makeHTML(\'List\', List);\\n\\nclass Todo extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n        this.data.length = this.data.items.length;\\n        this.listData = { items : this.data.items };\\n    }\\n\\n    add (evt) {\\n        evt.preventDefault();\\n        this.list.data.items.push(this.data.text);\\n        this.data.length = this.list.data.items.length;\\n        this.data.text = \'\';\\n        this.update();\\n    }\\n\\n    style () {\\n        return `\\n        h3 { color:red; }\\n        button{ color:green;}\\n        `;\\n    }\\n\\n    handleChange(target){\\n        this.data.text = target.value;\\n    }\\n\\n    render () {\\n        return `<div>\\n                    <h3>TODO</h3>\\n                    <List name=\\"list\\" data=\\"listData\\" />\\n                    <form onsubmit=\\"add(event)\\" >\\n                        <input type=\\"text\\" onchange=\\"handleChange(this)\\"  value=\\"{{text}}\\"  />\\n                        <button>Add #{{length}}</button>\\n                    </form>\\n                </div>`;\\n    }\\n}\\n```\\n\\n- In line 3, we use `makeHTML` to make the component to a tag which can be used in render method. Of course, `Omi.makeHTML(\'List\', List);` can also be written in the end of List component.\\n- In line 9, the parent component defines the \'listData\' property\\n- In line 34, we use List component in the render method. `name` attribute allows us easily find the instance of the component by using `this`.`data=\\"listData\\"` attribute allows us easily pass `this.listData`  to the sub component from parent component.\\n\\nIt should be noted that the `data` passed from `data=\\"listData\\"` is cloned to the subcomponents by Object.assign(shallow  copy) , which means if we want to change the DOM, we recommend  that first update the `data` of the instance of subcomponent(not the parent component\'s `listData` ) and secondly call the `update` method.\\n\\nIn fact there are 4 way to communicate between components, it\'ll be explained later.\\n\\n<a href=\\"http://alloyteam.github.io/omi/website/redirect.html?type=todo_nest\\" target=\\"_blank\\">Click me for the live demo</a>\\n"'},function(n,e){n.exports="module.exports = \"<h2 id=\\\"Conditional Rendering\\\">Conditional Rendering</h2>\\n\\nIn most case, we need to show different layouts according to different states. For example, some users are vip and we need to show vip logo for them. Omi has many ways to meet this kind of requirements.\\n\\n### First Option\\n\\n```js\\nclass ConditionTest extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n\\n    render () {\\n        return `{{#isVip}}\\n                    <div>you are VIP.</div>\\n                {{/isVip}}\\n                {{^isVip}}\\n                    <div>you are not VIP.</div>\\n                {{/isVip}}`;\\n    }\\n}\\n```\\n\\nIn the above case, we use the condition in mustachejs for rendering. Of course Omi does not force you to use mustachejs. You can use omi.lite.js and then override the `Omi.template` method to use any of your favorite template engines.\\n\\n### Second Option\\n\\n```js\\nclass ConditionTest extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n\\n    render () {\\n        if(this.data.isVip){\\n            return '<div>you are VIP.</div>';\\n        }else{\\n            return '<div>you are not VIP.</div>';\\n        }\\n    }\\n}\\n```\\n\\n`render` provides a very good programmability, which can write any js code inside. Oh, don't forget that `style` method can also have js code inside it.\\n\\n```js\\nclass ConditionTest extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n\\n    style (){\\n        if(this.data.isVip){\\n            return 'div{ color : red; }';\\n        }else{\\n            return 'div{ color : green; }';\\n        }\\n    }\\n\\n    render () {\\n        if(this.data.isVip){\\n            return '<div>you are VIP.</div>';\\n        }else{\\n            return '<div>you are not VIP.</div>';\\n        }\\n    }\\n}\\n```\""},function(n,e){n.exports='module.exports = "<h2 id=\\"Handling Events\\">Handling Events</h2>\\n\\nThere are two types of events in Omi, built-in events and custom events. Built-in events clever use of the browser\'s own pipeline mechanism, you can easily get events instance and the triggered event elements through `event` and `this`.\\n\\n### Built-in events\\n\\nWhat is the built-in event? As long as the it can match the following regular expression.\\n\\n```js\\non(abort|blur|cancel|canplay|canplaythrough|change|click|close|contextmenu|cuechange|dblclick|drag|dragend|dragenter|dragleave|dragover|dragstart|drop|durationchange|emptied|ended|error|focus|input|invalid|keydown|keypress|keyup|load|loadeddata|loadedmetadata|loadstart|mousedown|mouseenter|mouseleave|mousemove|mouseout|mouseover|mouseup|mousewheel|pause|play|playing|progress|ratechange|reset|resize|scroll|seeked|seeking|select|show|stalled|submit|suspend|timeupdate|toggle|volumechange|waiting|autocomplete|autocompleteerror|beforecopy|beforecut|beforepaste|copy|cut|paste|search|selectstart|wheel|webkitfullscreenchange|webkitfullscreenerror|touchstart|touchmove|touchend|touchcancel|pointerdown|pointerup|pointercancel|pointermove|pointerover|pointerout|pointerenter|pointerleave)\\n```\\n\\nHow to bind built-in events? As follows:\\n\\n```js\\nclass EventTest extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n\\n    handleClick(dom, evt){\\n        alert(dom.innerHTML);\\n    }\\n\\n    render () {\\n        return `<div onclick=\\"handleClick(this, event)\\">Hello, Omi!</div>`;\\n    }\\n}\\n```\\n\\n### Custom events\\n\\nEvents that defined by developers is the custom events. Here is the pagination example:\\n\\n```js\\nimport Omi from \'../../src/index.js\';\\nimport Pagination from \'./pagination.js\';\\nimport Content from \'./content.js\';\\n\\nOmi.makeHTML(\'Pagination\', Pagination);\\nOmi.makeHTML(\'Content\', Content);\\n\\nclass Main extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n\\n    installed(){\\n        this.content.goto(this.pagination.data.currentPage+1);\\n    }\\n    handlePageChange(index){\\n        this.content.goto(index+1);\\n    }\\n\\n    render () {\\n        return `<div>\\n                    <h1>Pagination Example</h1>\\n                    <Content name=\\"content\\" />\\n                    <Pagination\\n                        name=\\"pagination\\"\\n                        data-total=\\"100\\"\\n                        data-page-size=\\"10\\"\\n                        data-num-edge=\\"1\\"\\n                        data-num-display=\\"4\\"　　　　　\\n                        onPageChange=\\"handlePageChange\\" />\\n                </div>`;\\n    }\\n}\\n\\nOmi.render( new Main(),\'body\');\\n```\\n\\nAs we can see, the `onPageChange` is a custom event, `handlePageChange` will being executed when `onPageChange` is triggered. The `onPageChange` method is executed in `Pagination`:\\n\\n```js\\nimport Omi from \'../../src/index.js\';\\n\\nclass Pagination extends Omi.Component {\\n    ...\\n    ...\\n    ...\\n            linkTo: \\"#\\",\\n            prevText: \\"Prev\\",\\n            nextText: \\"Next\\",\\n            ellipseText: \\"...\\",\\n            prevShow: true,\\n            nextShow: true,\\n            onPageChange: function () { return false; }\\n        }, this.data);\\n\\n        this.pageNum = Math.ceil(this.data.total / this.data.pageSize);\\n    }\\n    goto (index,evt) {\\n        evt.preventDefault();\\n        this.data.currentPage=index;\\n        this.update();\\n        this.data.onPageChange(index);\\n    }\\n    ...\\n    ...\\n    ...\\n}\\n```\\n\\nThis is a part of `Pagination` code. Highlight is the place to execute `onPageChange`.\\n\\n### Links\\n\\n- [Demo](http://alloyteam.github.io/omi/example/pagination/)\\n- [Source](https://github.com/AlloyTeam/omi/tree/master/example/pagination)"'},function(n,e){n.exports='module.exports = "<h2 id=\\"Forms\\">Forms</h2>\\n\\nIt\'s much more convenient to control forms in Omi, especially `<select>`!\\n\\n### select element\\n\\nIn the past, we needed to select an option in the following way:\\n\\n```html\\n<select>\\n  <option value=\\"grapefruit\\">Grapefruit</option>\\n  <option value=\\"lime\\">Lime</option>\\n  <option selected value=\\"coconut\\">Coconut</option>\\n  <option value=\\"mango\\">Mango</option>\\n</select>\\n```\\n\\nThe third option is selected because it is being set to `selected` attribute. The problem is that developers need to traversed each option. While using Omi, you can write code like this:\\n\\n```html\\n<select value=\\"coconut\\">\\n  <option value=\\"grapefruit\\">Grapefruit</option>\\n  <option value=\\"lime\\">Lime</option>\\n  <option value=\\"coconut\\">Coconut</option>\\n  <option value=\\"mango\\">Mango</option>\\n</select>\\n```\\n\\nThis will achieve the same effect. For example, you want to choose the first item:\\n\\n```html\\n<select value=\\"grapefruit\\">\\n  <option value=\\"grapefruit\\">Grapefruit</option>\\n  <option value=\\"lime\\">Lime</option>\\n  <option value=\\"coconut\\">Coconut</option>\\n  <option value=\\"mango\\">Mango</option>\\n</select>\\n```\\n\\nIsn\'t it very convenient?\\n\\n### For Example\\n\\n```js\\nclass FormTest extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n       \\n    }\\n\\n    handleChange(target){\\n      console.log(target.value)\\n      this.data.value = target.value;\\n    }\\n\\n    handleSubmit(evt) {\\n      alert(\'Your favorite flavor is: \' + this.data.value);\\n      evt.preventDefault();\\n    }\\n  \\n    render () {\\n        return `\\n        <form onsubmit=\\"handleSubmit(event)\\">\\n        <label>\\n          Pick your favorite La Croix flavor:\\n          <select value=\\"{{value}}\\" onchange=\\"handleChange(this)\\">\\n            <option value=\\"grapefruit\\">Grapefruit</option>\\n            <option value=\\"lime\\">Lime</option>\\n            <option value=\\"coconut\\">Coconut</option>\\n            <option value=\\"mango\\">Mango</option>\\n          </select>\\n        </label>\\n        <input type=\\"submit\\" value=\\"Submit\\" />\\n      </form>`;\\n    }\\n}\\n\\nOmi.render(new FormTest({ value: \'mango\' }),\'#container\');\\n```\\n\\n<a href=\\"http://alloyteam.github.io/omi/website/redirect.html?type=form\\" target=\\"_blank\\">Click me for a live demo</a>"'},function(n,e){n.exports='module.exports = "<h2 id=\\"Get DOM\\">Get DOM</h2>\\n\\nWhile most of the time, developers do not need to find the DOM, but sometimes is a need to get the DOM.\\n\\nOmi provides a way to get the DOM node.\\n\\n### ref and refs\\n\\n```js\\nclass Hello extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n    style () {\\n        return  `\\n            h1{\\n                cursor:pointer;\\n            }\\n         `;\\n    }\\n    handleClick(){\\n        alert(this.refs.abc.innerHTML);\\n    }\\n    render() {\\n        return  `\\n        <div>\\n            <h1 ref=\\"abc\\" onclick=\\"handleClick()\\">Hello ,{{name}}!</h1>\\n        </div>\\n        `;\\n\\n    }\\n}\\n\\nOmi.render(new Hello({ name : \\"Omi\\" }),\\"#container\\");\\n```\\n\\nAs we can see, by referencing `ref` as `abc` in HTML, the DOM node can be accessed through `this.refs.abc`.\\n\\n<a href=\\"http://alloyteam.github.io/omi/website/redirect.html?type=ref\\" target=\\"_blank\\">Click me for the live demo</a>\\n"'},function(n,e){n.exports='module.exports = "<h2 id=\\"Hello World\\">Hello World</h2>\\n\\n\\n### Hello World with ES20XX \\n\\nWe recommend using a bundler like [webpack](https://webpack.github.io/) or [Browserify](http://browserify.org/) so you can write modular code and bundle it together into small packages to optimize load time.\\n\\nThe small Omi example looks like this:\\n\\n```js\\nimport Omi from \'./omi.js\';\\n\\nclass Hello extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n    style () {\\n        return  `\\n            h1{\\n                cursor:pointer;\\n            }\\n         `;\\n    }\\n    handleClick(target){\\n        alert(target.innerHTML);\\n    }\\n    render() {\\n        return  `\\n        <div>\\n            <h1 onclick=\\"handleClick(this)\\">Hello ,{{name}}!</h1>\\n        </div>\\n        `;\\n\\n    }\\n}\\n\\nOmi.render(new Hello({ name : \\"Omi\\" }),\\"body\\");\\n\\n```\\n\\nThis code renders into body element. \\n\\n\\n###  Hello World with ES5\\n\\n\\n```html\\n<script src=\\"omi.js\\"></script>\\n```"'},function(n,e){n.exports='module.exports = "<h2 id=\\"Inheritance\\">Inheritance</h2>\\n\\nThrough the inheritance mechanism, we can define new classes base on old classes. The new classes not only have newly defined members, but also have old members at the same time.\\n\\nWe call the existing class the base class, also known as the parent class. And the new class derived from the existing class is called a derived class, also known as a subclass.\\n\\n### For Example\\n\\n```js\\nclass Hello extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n    style () {\\n        return  `\\n            div{\\n                cursor:pointer;\\n            }\\n         `;\\n    }\\n    handleClick(target, evt){\\n        alert(target.innerHTML);\\n    }\\n    render() {\\n       return  \' <div onclick=\\"handleClick(this,event)\\">Hello {{name}}!</div>\'\\n    }\\n}\\n\\nclass SubHello extends Hello {\\n    constructor(data) {\\n        super(data);\\n    }\\n}\\n\\nOmi.render(new SubHello({ name : \'Omi\' }),\'#container\');\\n```\\n\\n<a href=\\"http://alloyteam.github.io/omi/website/redirect.html?type=inherit\\" target=\\"_blank\\">Click me for the live demo</a>\\n\\n### inherit in ES5\\n\\n```js\\nvar Hello =  Omi.create(\\"Hello\\",{\\n  render:function(){\\n    return  \' <div>Hello {{name}}!</div>\'\\n  }\\n})\\n\\nvar SubHello =  Omi.create(\\"SubHello\\",Hello,{ });\\n\\n\\nOmi.render(new SubHello({ name : \'Omi\' }),\'#container\');\\n```\\n\\n<a href=\\"http://alloyteam.github.io/omi/website/redirect.html?type=inherit_es5\\" target=\\"_blank\\">Click me for the live demo</a>"'},function(n,e){n.exports='module.exports = "<h2 id=\\"Installation\\">Installation</h2>\\n\\n[Omi](https://github.com/AlloyTeam/omi) is open and modern framework  for building user interfaces.\\n\\n### Installing Omi\\n\\nWe recommend using  [npm](https://www.npmjs.com/) for managing front-end dependencies. If you\'re new to package managers.\\n\\nTo install Omi with npm, run:\\n\\n``` js\\nnpm install omi\\n```\\n### omi-cli\\n\\n``` js\\n$ npm install omi-cli -g       \\n$ omi init your_project_name   \\n$ cd your_project_name         \\n$ npm run dev                  \\n$ npm run dist                 \\n```"'},function(n,e){n.exports='module.exports = "<h2 id=\\"Lifecycle\\">Lifecycle</h2>\\n\\n| Name | Meaning | Occasion |\\n| :-------------: | :-------------: | :-----: |\\n| constructor | The constructor | When new a constructor |\\n| install | The installation. We can process the data that user pass | When instantiate |\\n| installed | Complete the installation. It\'ll trigger after HTML being inserted to the page. Please note that it\'ll trigger when component being removed and restored | **Instantiation and existence** |\\n| uninstall | Uninstall the component. It\'ll trigger when remove is executed | When destroy |\\n| beforeUpdate | Before update | When existence |\\n| afterUpdate | After update | When existence |\\n\\n## Illustration\\n\\n![lc](http://images2015.cnblogs.com/blog/105416/201701/105416-20170119153018546-1566368987.png)\\n\\nIt should be noted that the installed will be executed during the instantiation, which is not shown above. For example, it\'ll executed when a component is removed and restored, or when the new component is being added.\\n\\n### Examples\\n\\n```js\\nclass Timer extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n\\n    install () {\\n        this.data = {secondsElapsed: 0};\\n    }\\n\\n    tick() {\\n        this.data.secondsElapsed++;\\n        this.update();\\n    }\\n\\n    installed(){\\n        this.interval = setInterval(() => this.tick(), 1000);\\n    }\\n\\n    uninstall() {\\n        clearInterval(this.interval);\\n    }\\n\\n\\n    style () {\\n        return `\\n        .num { color:red; }\\n        `;\\n    }\\n\\n    render () {\\n        return `<div>Seconds Elapsed:<span class=\\"num\\"> {{secondsElapsed}}</span></div>`;\\n    }\\n}\\n```\\n\\n<a href=\\"http://alloyteam.github.io/omi/website/redirect.html?type=lifecycle\\" target=\\"_blank\\">Click me for the live demo</a>"'},function(n,e){n.exports='module.exports = "<h2 id=\\"Loop\\">Loop</h2>\\n\\nThe following describes how to traverses in mustache.js and javascript.\\n\\n### First Option\\n\\n```js\\nclass List extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n\\n    render () {\\n        return `<div>\\n                    <ul> \\n                        {{#items}} \\n                        <li id=\\"{{id}}\\">{{text}}</li> \\n                        {{/items}}\\n                    </ul>\\n                </div>`;\\n    }\\n}\\n\\nOmi.render(new List({\\n    items: [\\n        {id: 1, text: \'Omi\'},\\n        {id: 2, text: \'dntzhang\'},\\n        {id: 3, text: \'AlloyTeam\'}\\n    ]\\n}),\\"body\\");\\n```\\n\\nMustache.js more detailed loop traversal use can see \\n\\nFor more details for traversal in mustache.js please view [https://github.com/janl/mustache.js#non-empty-lists](https://github.com/janl/mustache.js#non-empty-lists).\\n\\nFor example, it also support:\\n\\n- If each item of items is a string, you can directly use **{{.}}** to output each item\\n- Call the defined function when looping\\n\\n<a href=\\"http://alloyteam.github.io/omi/website/redirect.html?type=list\\" target=\\"_blank\\">Click me for the live demo</a>\\n\\n### Second Option\\n\\nOf course, you can also use template string inside the `map`:\\n\\n```js\\nclass List extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n\\n    render() {\\n        return `<div>\\n                    <ul>\\n                    ${this.data.items.map(item =>\\n                         `<li id=\\"${item.id}\\">${item.text}</li>`\\n                    ).join(\'\')}\\n                    </ul>\\n                </div>`;\\n    }\\n}\\n\\nOmi.render(new List({\\n    items: [\\n        {id: 1, text: \'Omi\'},\\n        {id: 2, text: \'dntzhang\'},\\n        {id: 3, text: \'AlloyTeam\'}\\n    ]\\n}),\\"body\\");\\n```\\n\\nYou will see the following page:\\n\\n![pv](http://images2015.cnblogs.com/blog/105416/201701/105416-20170122095724129-2059595233.png)\\n\\n<a href=\\"http://alloyteam.github.io/omi/website/redirect.html?type=list2\\" target=\\"_blank\\">Click me for the live demo</a>"'},function(n,e){n.exports="module.exports = \"<h2 id=\\\"Plugin\\\">Plugin</h2>\\n\\n[Omi](https://github.com/AlloyTeam/omi) is a componentized web framework. Then what is plugin?\\n\\nIt can be understood that the Omi plugin system can give the dom element some ability and can be associated with the instance of the components.\\n\\n### omi-drag\\n\\nLet's see this example:\\n\\n<a href=\\\"http://alloyteam.github.io/omi/website/redirect.html?type=plugin\\\" target=\\\"_blank\\\">Click me for the live deme</a>\\n\\n```js\\nimport OmiDrag from './omi-drag.js';\\n\\nOmiDrag.init();\\n\\nclass App extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n\\n    render() {\\n        return  `\\n        <div>\\n            <div omi-drag class=\\\"test\\\">Drag Me</div>\\n        </div>\\n        `;\\n\\n    }\\n\\n    style(){\\n       return `\\n        .test{\\n            width:100px;\\n            height:100px;\\n            color:white;\\n            line-height:90px;\\n            text-align:center;\\n            background-color:#00BFF3;\\n        }\\n        `\\n    }\\n}\\n\\nOmi.render(new App(),\\\"#container\\\");\\n```\\n\\nAs shown above, by adding `omi-drag` attribute to the div, it can be dragged by the user using the mouse. We call omi-drag.js an omi plugin.\\n\\nIsn't it very convenient? So how did this omi-drag implement?\\n\\n如上面的代码所示，通过在div上标记omi-drag，这个div就能够被用户使用鼠标拖拽。我们称omi-drag.js为omi插件。\\n是不是非常方便？那么这个omi-drag是怎么实现的？\\n\\n## Omi.extendPlugin\\n\\nCore method: Omi.extendPlugin( pluginName, handler )\\n\\nThe following code shows how to use `Omi.extendPlugin` to give dom the drap and drop ability:\\n\\n```js\\n;(function () {\\n\\n    var OmiDrag = {};\\n    var Omi = typeof require === 'function'\\n        ? require('omi')\\n        : window.Omi;\\n\\n    OmiDrag.init = function(){\\n        Omi.extendPlugin('omi-drag',function(dom, instance){\\n            dom.style.cursor='move';\\n            var isMouseDown = false,\\n                preX = null,\\n                preY = null,\\n                currentX = null,\\n                currentY = null,\\n                translateX = 0,\\n                translateY = 0;\\n\\n            dom.addEventListener('mousedown',function(evt){\\n                isMouseDown = true;\\n                preX = evt.pageX;\\n                preY = evt.pageY;\\n                evt.stopPropagation();\\n            },false);\\n\\n            window.addEventListener('mousemove',function(evt){\\n                if(isMouseDown){\\n                    currentX = evt.pageX;\\n                    currentY = evt.pageY;\\n                    if(preX != null){\\n                        translateX += currentX - preX;\\n                        translateY += currentY - preY;\\n                        dom.style.transform = 'translateX('+translateX+'px) translateY('+translateY+'px)';\\n                    }\\n                    preX = currentX;\\n                    preY = currentY;\\n                    evt.preventDefault();\\n                }\\n            },false);\\n\\n            window.addEventListener('mouseup',function(){\\n                isMouseDown = false;\\n                preX = preY = currentX = currentY = null;\\n            },false);\\n        });\\n    }\\n\\n    OmiDrag.destroy = function(){\\n        delete Omi.plugins['omi-drag'];\\n    };\\n\\n    if (typeof exports == \\\"object\\\") {\\n        module.exports = OmiDrag;\\n    } else if (typeof define == \\\"function\\\" && define.amd) {\\n        define([], function(){ return OmiDrag });\\n    } else {\\n        window.OmiDrag = OmiDrag;\\n    }\\n\\n})();\\n```\\n\\nMethod: Omi.extendPlugin( pluginName, handler )\\n\\n`pluginName` is the name of the plugin.\\n\\n`handler` is the processor. The handler can get the dom which marked as the `pluginName` and the instance of the component.\\n\\nWith `Omi.extendPlugin`, we can give the dom some ability, and can also be associated with the component instance.\\n\\nThe above example is not associated with the instance, let's try it:\\n\\n## Associated with instance\\n\\nWe want to be able to listen to the `move` inside the component and perform a callback. As follows:\\n\\n```js\\n...\\n...\\nmoveHandler(){\\n    console.log('moving');\\n}\\n\\nrender() {\\n    return  `\\n    <div>\\n        <div omi-drag class=\\\"test\\\">Drag Me</div>\\n    </div>\\n    `;\\n}\\n...\\n```\\n\\nIn this case, the `moveHandler` will be continually executed while dragging. We can modify some code to solve this issue:\\n\\n```js\\n...\\nwindow.addEventListener('mousemove',function(evt){\\n    if(isMouseDown){\\n        currentX = evt.pageX;\\n        currentY = evt.pageY;\\n        if(preX != null){\\n            translateX += currentX - preX;\\n            translateY += currentY - preY;\\n            dom.style.transform = 'translateX('+translateX+'px) translateY('+translateY+'px)';\\n        }\\n        preX = currentX;\\n        preY = currentY;\\n        evt.preventDefault();\\n        instance.moveHandler(evt);\\n    }\\n},false);\\n```\\n\\nWe add `instance.moveHandler(evt)` method to execute the `moveHandler` method of component instance.\\n\\nThis is how associated with instance works.\\n\\nHowever, this may still have an issue if we add `omi-drag` to a list of `div`:\\n\\n```js\\n...\\nrender() {\\n    return  `\\n    <div>\\n        <div omi-drag class=\\\"test\\\">Drag Me</div>\\n        <div omi-drag class=\\\"test\\\">Drag Me</div>\\n    </div>\\n    `;\\n}\\n...\\n```\\n\\nUsually each of our `omi-drag` can correspond to a callback function, such as:\\n\\n```js\\n...\\n...\\nmoveHandlerA(){\\n    console.log('moving');\\n}\\n\\nmoveHandlerB(){\\n    console.log('moving');\\n}\\n\\nrender() {\\n    return  `\\n    <div>\\n        <div omi-drag class=\\\"test\\\">Drag Me A</div>\\n        <div omi-drag class=\\\"test\\\">Drag Me B</div>\\n    </div>\\n    `;\\n}\\n...\\n```\\n\\nHow to achieve this? We can pass the data to the plugin via dom.\\n\\n## Passing data\\n\\nLet's see the final code:\\n\\n```js\\n...\\n...\\nmoveHandlerA(){\\n    console.log('moving');\\n}\\n\\nmoveHandlerB(){\\n    console.log('moving');\\n}\\n\\nrender() {\\n    return  `\\n    <div>\\n        <div omi-drag class=\\\"test\\\" dragMove=\\\"moveHandlerA\\\" >Drag Me A</div>\\n        <div omi-drag class=\\\"test\\\" dragMove=\\\"moveHandlerB\\\" >Drag Me B</div>\\n    </div>\\n    `;\\n}\\n...\\n```\\n\\nWhere `omi-drag` modified:\\n\\n```js\\n...\\nvar handlerName = dom.getAttribute('dragMove');\\n\\nwindow.addEventListener('mousemove',function(evt){\\n    if(isMouseDown){\\n        currentX = evt.pageX;\\n        currentY = evt.pageY;\\n        if(preX != null){\\n            translateX += currentX - preX;\\n            translateY += currentY - preY;\\n            dom.style.transform = 'translateX('+translateX+'px) translateY('+translateY+'px)';\\n        }\\n        preX = currentX;\\n        preY = currentY;\\n        evt.preventDefault();\\n        instance[handlerName](evt);\\n    }\\n},false);\\n...\\n```\\n\\n- We use `var handlerName = dom.getAttribute('dragMove')` to get the `dragMove` of dom\\n- We use `instance[handlerName](evt)` to execute the method\\n\\n<a href=\\\"http://alloyteam.github.io/omi/website/redirect.html?type=plugin\\\" target=\\\"_blank\\\">Click me for the live demo</a>\\n\\n## More plugins\\n\\n* [omi-finger](https://github.com/AlloyTeam/omi/tree/master/plugins/omi-finger) The [AlloyFinger](https://github.com/AlloyTeam/AlloyFinger) plugin for Omi, which support touch events and gustures\\n* [omi-transform](https://github.com/AlloyTeam/omi/tree/master/plugins/omi-transform) The [transformjs](http://alloyteam.github.io/AlloyTouch/transformjs/) plugin for Omi, which can easily set CSS3 Transform to DOM\\n* [omi-touch](https://github.com/AlloyTeam/omi/tree/master/plugins/omi-touch) The [AlloyTouch](https://github.com/AlloyTeam/AlloyTouch) plugin for Omi. The touch movement solution for Omi (support touch scroll, rotate, flip, select, etc.)\\n* [omi-jquery-date-picker](https://github.com/AlloyTeam/omi/tree/master/plugins/omi-jquery-date-picker) The date picker plugin for Omi, which support choose any time zone\\n\""},function(n,e){n.exports='module.exports = "<h2 id=\\"Templates\\">Templates</h2>\\n\\nThere are three types of Omi. omi.js and omi.lite.js is for web side.\\n\\n- omi.js has a built-in [mustache.js](https://github.com/janl/mustache.js) as the template engine\\n- omi.lite.js doesn\'t have any template engines\\n\\nOmi does not force developers to use mustache.js, you can use any template engine based on business scenarios or do not use any template engines.\\n\\nHow to use other template engines? Let\'s see the [artTemplate](https://github.com/aui/artTemplate) example.\\n\\n### Use artTemplate\\n\\n```js\\nOmi.template = function(tpl, data){\\n    return artTemplate.compile(tpl)(data);\\n}\\n```\\n\\nWe need to rewrite the `Omi.template` method, the `tpl` is the incoming template, the `data` is the required data for the template, and the return value is HTML.\\n\\nAfter rewriting, you can use the artTemplate syntax in `render`, such as:\\n\\n```js\\nclass List extends Omi.Component {\\n    constructor(data) {\\n        super(data);\\n    }\\n\\n    style () {\\n        return `\\n        h1 { color:red; }\\n        li{ color:green;}\\n        `;\\n    }\\n\\n    render () {\\n        return `<h1>{{title}}</h1>\\n                <ul>\\n                    {{each list as value i}}\\n                    <li># {{i + 1}} ：{{value}}</li>\\n                    {{/each}}\\n                </ul>`;\\n    }\\n}\\n```\\n\\n### Links\\n\\n* [Demo Link](http://alloyteam.github.io/omi/example/artTemplate/)\\n* [Source Code](https://github.com/AlloyTeam/omi/tree/master/example/artTemplate)"';
},function(n,e){n.exports='module.exports = "<h2 id=\\"Thinking in Omi\\">Thinking in Omi</h2>\\n\\nOmi is based on object-oriented programming, with plugin system.\\n\\nThe traditional one-way data flow or the event-throwing component communicating can increase the stability of the system, but it loses it\'s flexibility. To a certain extent also reduced the component reusing.\\n\\nObject-oriented system has an other logical layer, which let you control the instance of components. The logic between instances build the entire program.\\n\\nThen the issues like communication, reusing and logics between components are all solved.\\n\\n\\nPlus, the component is also more single duty, more loosely coupled.\\n\\nFor functional programming, imperative programming and object-oriented programming, we can sum up the following list:\\n\\n- Imperative programming is well understood, we use loop and if-else condition to control processes, it emphasize the process of execution\\n- Imperative programming is hardware friendly, easy to run, but hard to design complex program\\n- Functional programming is all about input and output, not the process of execution\\n- Functional programming advocates multiple simple execution units into complex operations\\n- Object-oriented programming uses objects as the basic unit of the program, with more reusability, flexibility, and extensibility\\n\\nWhat kind of language is JavaScript? We have `class` in ES6+, so is JavaScript object-oriented language?\\n\\nJavaScript can pass a function as a argumant, so is JavaScript a functional language?\\n\\nThere are no right answer, it depands on how you use JavaScript.\\n\\nIt\'s free to chooce, you can use functional programming framework like React, or object-oriented framework like Omi.  \\n\\n### Functional Programming VS Object-Oriented Programming\\n\\nIn the UI component framework scope, functional programming is represented by React, while Omi belongs to object-oriented programming.\\n\\nSo what are their strengths and weaknesses? The following is a comparison (in fact, functional programming and object-oriented programming comparison):\\n\\n|    | React        | Omi  |\\n| ------------- |:-------------:|:-----:|\\n| Component communication  | ★★★★☆| ★★★★★ |\\n| Stability    | ★★★★★    |   ★★★★☆ |\\n| Flexibility  | ★★★★☆| ★★★★★ |\\n| Scalability | ★★★★☆     |   ★★★★★ |\\n| Testability | ★★★★★     |   ★★★★☆ |\\n| File size | ★★★☆☆    |   ★★★★★ |\\n| Features | ★★★☆☆    |   ★★★★☆ |\\n| DOM performance | ★★★★★    |   ★★★★☆ |\\n| Animation performance | ★★★★☆    |   ★★★★★ |\\n| Abstract complexity | ★★★★☆    |   ★★★★★ |\\n| Asynchronous programming | ★★★★★    |   ★★★★☆ |\\n\\nAs we can see, we can not have it both ways. Object-oriented programming is more reusable, flexible and scalable, the problem is more difficult to test.\\n\\nSpecifically, if the functional programming, the test area is state1 + state2 + ... + stateN; in object-oriented programming, the test area is state1 × event1 + state2 × event2 + ... + stateN × eventN.\\n\\nIn summary, it is more recommended to use the object-oriented programming to build UI component framework.\\n\\n<hr/>\\n\\n### The end. Thanks for reading. [Let\'s start the Omi journey](https://github.com/AlloyTeam/omi)!\\n"'},function(n,e,t){"use strict";function i(n){return n&&n.__esModule?n:{default:n}}function o(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function a(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}function r(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function n(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),l=t(2),d=i(l),c=t(49),u=i(c),m=t(11),p=i(m);d.default.makeHTML("List",u.default);var h=function(n){function e(n){return o(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n))}return r(e,n),s(e,[{key:"install",value:function(){this.data.items=p.default.menus[this.data.lan],this.data.height=window.innerHeight-45}},{key:"style",value:function(){return"\n        @media only screen and (max-width: 768px) {\n            .list{\n                transform: translateX(-100%);\n                background-color:white;\n\n                -moz-transition: all .6s ease;\n                -o-transition: all .6s ease;\n                -webkit-transition: all .6s ease;\n                transition: all .6s ease;\n            }\n\n               .list.show {\n                -moz-transform: translateX(0%) translateZ(0);\n                -ms-transform: translateX(0%) translateZ(0);\n                -o-transform: translateX(0%) translateZ(0);\n                -webkit-transform: translateX(0%) translateZ(0);\n                transform: translateX(0%) translateZ(0);\n\n            }\n\n\n\n        }\n        .list{\n            width:200px;\n            text-indent: 20px;\n            border-right: 1px solid #eee;\n            overflow-x: hidden;\n            overflow-y: auto;\n            position:fixed;\n            top:45px;\n        }\n        .version{\n            height:20px;\n        }\n        "}},{key:"render",value:function(){return'\n        <div class="list" style="height:{{height}}px;">\n           <div class="version"></div>\n          {{#items}}<List group-data="data.items" /> {{/items}}\n        </div>'}}]),e}(d.default.Component);e.default=h},function(n,e,t){"use strict";function i(n){return n&&n.__esModule?n:{default:n}}function o(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function a(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}function r(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function n(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),l=t(2),d=i(l),c=function(n){function e(n){o(this,e);var t=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));d.default.mixIndexToArray(t.data.list),t.data.currentIndex=0;var i=t;return t.data.isCurrent=function(){return this.index===i.data.currentIndex&&i.data.active},t}return r(e,n),s(e,[{key:"goto",value:function(n,e){var t=this;d.default.get("content").data.name=n,d.default.get("content").update(),this.data.currentIndex=e,this.parent.children.forEach(function(n,e){n.data.active=!1,n.id===t.id&&(d.default.get("pager").activeIndex=e,n.data.active=!0),n.update()}),d.default.get("pager").currentIndex=e,d.default.get("pager").update()}},{key:"render",value:function(){return'\n        <ul>\n            <li class="title">{{title}}</li>\n            {{#list}}\n            <li>\n                <a href="#"  onclick="goto(\'{{md}}\',{{index}})" {{#isCurrent}}class="current"{{/isCurrent}}>{{name}}</a>\n            </li>\n            {{/list}}\n        </ul>'}},{key:"style",value:function(){return"\n        li.title{\n            font-size: 16px;\n            font-weight: bold;\n            margin-bottom:10px;\n            margin-top:10px;\n            text-indent: 23px;\n        }\n        li{\n            margin-bottom:3px;\n            text-indent: 33px;\n        }\n        li a{\n            display:block;\n            font-size:14px;\n            height:20px;\n            line-height:20px;\n            color: #666;\n        }\n        li a.current{\n            background-color:#c3d4fc;\n            color:white;\n        }\n        li a:hover{\n            background-color:#b3d4fc;\n            color:white;\n        }\n        "}}]),e}(d.default.Component);e.default=c},function(n,e,t){"use strict";function i(n){return n&&n.__esModule?n:{default:n}}function o(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function a(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}function r(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function n(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),l=t(2),d=i(l),c=function(n){function e(n){return o(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n))}return r(e,n),s(e,[{key:"install",value:function(){var n=this;this.data.isEnLan="en"===this.data.lan,document.body.addEventListener("click",function(){n.removeClass(d.default.get("sidebar").node,"show")},!1)}},{key:"toggleMenus",value:function(n){this.toggleClass(d.default.get("sidebar").node,"show"),n.stopPropagation()}},{key:"toggleClass",value:function(n,e){if(n&&e){var t=n.className,i=t.indexOf(e);i==-1?t+=" "+e:t=t.substr(0,i)+t.substr(i+e.length),n.className=t}}},{key:"removeClass",value:function(n,e){var t=n.className,i=t.indexOf(e);i!==-1&&(t=t.substr(0,i)+t.substr(i+e.length)),n.className=t}},{key:"style",value:function(){return"\n        .head{\n            position:fixed;\n            height:45px;\n            line-height: 45px;\n            border-bottom: 1px solid #eee;\n            width:100%;\n            background-color:#303030;\n            z-index:100;\n\n        }\n        ul,li{\n            display: inline-block;\n        }\n        .logo_box{\n            width:100px;\n            display: inline-block;\n            text-align:center;\n            line-height: 60px;\n        }\n         .menu a,.logo_box a{\n            display: inline-block;\n            height:45px;\n            color:#ddd;\n        }\n        .menu{\n            position: absolute;\n            right:20px;\n        }\n        .menu li{\n            margin-left:15px;\n        }\n        .logo_box a{\n            font-size: 34px;\n            font-weight: bold;\n            color: #00bff3;\n            padding: 0px 15px;\n            line-height: 45px;\n            cursor: pointer;\n        }\n        .menu a:hover{\n            color: white;\n        }\n\n        .m_menu{\n          position:fixed;\n            display:none;\n        }\n\n         @media only screen and (max-width: 768px) {\n           .menu li{\n             display:none;\n           }\n            .menu .m_show{\n             display:block;\n           }\n\n           .logo_box{\n            display:inline-block;\n           }\n\n           .head{\n            text-align:center;\n           }\n\n           .m_menu{\n\n            top:0;\n            left:0;\n            display:block;\n            width:50px;\n            height:50px;\n            padding-top: 6px;\n           }\n           .m_menu img{\n                width:30px;\n           }\n\n        }\n        "}},{key:"render",value:function(){return'\n    <div class="head bord-btm">\n        <div class="m_menu" onclick="toggleMenus(event)"> <img src="../asset/menu.png" alt="" /></div>\n        <div class="logo_box">\n            <a href="https://github.com/AlloyTeam/omi">Omi</a>\n        </div>\n        <ul class="menu">\n\n            <li class="github_li"><a href="https://github.com/AlloyTeam/omi">Github</a>\n            <li><a href="http://alloyteam.github.io/omi/example/playground/">Playground</a></li>\n            <li><a href="https://github.com/AlloyTeam/omi/tree/master/docs">[Edit the Docs]</a></li>\n             {{#isEnLan}}\n                <li class="github_li m_show"><a href="docs.html">中文</a>\n            {{/isEnLan}}\n            {{^isEnLan}}\n                <li class="github_li m_show"><a href="docs_en.html">English</a>\n            {{/isEnLan}}\n            </li>\n        </ul>\n    </div>'}}]),e}(d.default.Component);e.default=c},function(n,e,t){"use strict";function i(n){return n&&n.__esModule?n:{default:n}}function o(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function a(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}function r(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function n(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),l=t(2),d=i(l),c=t(11),u=i(c),m=function(n){function e(n){o(this,e);var t=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return t.activeIndex=0,t.currentIndex=0,t}return r(e,n),s(e,[{key:"updatePager",value:function(){this.data.preMd=null,this.data.preName=null,this.data.nextMd=null,this.data.nextName=null;var n=u.default.menus[this.data.lan][this.activeIndex],e=n.list[this.currentIndex-1];e&&(this.data.preMd=e.md,this.data.preName=e.name);var t=n.list[this.currentIndex+1];t&&(this.data.nextMd=t.md,this.data.nextName=t.name)}},{key:"goto",value:function(n,e){var t=d.default.get("sidebar");"next"===e?t.children[this.activeIndex].goto(n,++this.currentIndex):t.children[this.activeIndex].goto(n,--this.currentIndex),this.update()}},{key:"render",value:function(){return this.updatePager(),'\n    <div class="pager">\n      {{#preName}} <a class="pre" href="#" onclick="goto(\'{{preMd}}\',\'pre\')">←{{preName}}</a>{{/preName}}\n      {{#nextName}}<a class="next" href="#"  onclick="goto(\'{{nextMd}}\',\'next\')">{{nextName}}→</a> {{/nextName}}\n    </div>'}},{key:"style",value:function(){return"\n\n        .pager {\n            width:85%;\n            height:80px;\n            line-height:80px;\n            position: relative;\n            font-size:16px;\n        }\n\n        @media only screen and (max-width: 768px) {\n            .pager {\n                width:100%;\n            }\n        }\n\n        .pre{\n            position: absolute;\n            left:10px;\n            top:10px;\n        }\n         .next{\n            position: absolute;\n            right:10px;\n            top:10px;\n        }\n        "}}]),e}(d.default.Component);e.default=m}]);