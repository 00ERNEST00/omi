/*!
 *  OmiRouter v0.1.0 By dntzhang 
 *  Github: https://github.com/AlloyTeam/omi
 *  MIT Licensed.
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("omi")):"function"==typeof define&&define.amd?define(["omi"],t):"object"==typeof exports?exports.OmiRouter=t(require("omi")):e.OmiRouter=t(e.omi)}(this,function(e){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){!function(){var t={},n=r(1),o=r(2);t.init=function(e){e.routes.forEach(function(e){e.reg=o(e.path)}),n.extendPlugin("omi-router",function(t,r){t.setAttribute("href","##"),t.addEventListener("click",function(){var r=t.getAttribute("to");e.routes.every(function(t){var o=r.match(t.reg);return!o||(n.render(new t.component,e.renderTo,{store:{data:o}}),!1)})},!1)})},t.destroy=function(){delete n.plugins["omi-finger"]},e.exports=t}()},function(t,r){t.exports=e},function(e,t,r){function n(e,t){for(var r,n=[],o=0,i=0,u="",p=t&&t.delimiter||"/";null!=(r=v.exec(e));){var f=r[0],l=r[1],s=r.index;if(u+=e.slice(i,s),i=s+f.length,l)u+=l[1];else{var d=e[i],g=r[2],x=r[3],h=r[4],m=r[5],y=r[6],E=r[7];u&&(n.push(u),u="");var w=null!=g&&null!=d&&d!==g,b="+"===y||"*"===y,R="?"===y||"*"===y,j=r[2]||p,A=h||m;n.push({name:x||o++,prefix:g||"",delimiter:j,optional:R,repeat:b,partial:w,asterisk:!!E,pattern:A?c(A):E?".*":"[^"+a(j)+"]+?"})}}return i<e.length&&(u+=e.substr(i)),u&&n.push(u),n}function o(e,t){return p(n(e,t))}function i(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function u(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function p(e){for(var t=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(t[r]=new RegExp("^(?:"+e[r].pattern+")$"));return function(r,n){for(var o="",p=r||{},a=n||{},c=a.pretty?i:encodeURIComponent,f=0;f<e.length;f++){var l=e[f];if("string"!=typeof l){var s,d=p[l.name];if(null==d){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(m(d)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var g=0;g<d.length;g++){if(s=c(d[g]),!t[f].test(s))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(s)+"`");o+=(0===g?l.prefix:l.delimiter)+s}}else{if(s=l.asterisk?u(d):c(d),!t[f].test(s))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+s+'"');o+=l.prefix+s}}else o+=l}return o}}function a(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function f(e,t){return e.keys=t,e}function l(e){return e.sensitive?"":"i"}function s(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return f(e,t)}function d(e,t,r){for(var n=[],o=0;o<e.length;o++)n.push(h(e[o],t,r).source);var i=new RegExp("(?:"+n.join("|")+")",l(r));return f(i,t)}function g(e,t,r){return x(n(e,r),t,r)}function x(e,t,r){m(t)||(r=t||r,t=[]),r=r||{};for(var n=r.strict,o=r.end!==!1,i="",u=0;u<e.length;u++){var p=e[u];if("string"==typeof p)i+=a(p);else{var c=a(p.prefix),s="(?:"+p.pattern+")";t.push(p),p.repeat&&(s+="(?:"+c+s+")*"),s=p.optional?p.partial?c+"("+s+")?":"(?:"+c+"("+s+"))?":c+"("+s+")",i+=s}}var d=a(r.delimiter||"/"),g=i.slice(-d.length)===d;return n||(i=(g?i.slice(0,-d.length):i)+"(?:"+d+"(?=$))?"),i+=o?"$":n&&g?"":"(?="+d+"|$)",f(new RegExp("^"+i,l(r)),t)}function h(e,t,r){return m(t)||(r=t||r,t=[]),r=r||{},e instanceof RegExp?s(e,t):m(e)?d(e,t,r):g(e,t,r)}var m=r(3);e.exports=h,e.exports.parse=n,e.exports.compile=o,e.exports.tokensToFunction=p,e.exports.tokensToRegExp=x;var v=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}}])});